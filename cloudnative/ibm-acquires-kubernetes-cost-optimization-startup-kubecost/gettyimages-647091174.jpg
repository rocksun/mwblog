<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>Yahoo</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <style>
html {
  height: 100%;
}
body {
  background: #fafafc url(https://s.yimg.com/nn/img/sad-panda-201402200631.png) 50% 50%;
  background-size: cover;
  height: 100%;
  text-align: center;
  font: 300 16px "helvetica neue", helvetica, verdana, tahoma, arial, sans-serif;
}
#message {
  text-align: left;
  font-weight: 400;
  color: #1A1A1A;
}
#message a {
  padding: 0 3px;
}
#container {
  position: absolute;
  top: 50%;
  left: 50%;
  padding: 0 30px;
  margin-right: -50%;
  transform: translate(-50%, -50%);
  max-width: 40em;
  _width: 40em;
}
#container img {
  width: 174px;
  height: auto;
}
#switcher a {
  font-weight: 400;
}
#switcher a.active {
  color: #000;
  text-decoration: none;
  cursor: default;
}
    </style>
</head>
<body>
  <div id="container">
    <img src="https://s.yimg.com/rz/p/yahoo_homepage_en-US_s_f_p_bestfit_homepage_2x.png" alt="Yahoo Logo">
    <div id="switcher">
      <a data-lang="en" class="active" href='#'>English</a> |
      <a data-lang="zh-Hant" href='#'>繁體中文</a> |
      <a data-lang="zh-Hans" href='#'>简体中文</a>
    </div>
    <div id="message">
      <p>As of November 1st, 2021 Yahoo’s suite of services will no longer be accessible from mainland China. Yahoo products and services remain unaffected in all other global locations. We thank you for your support and readership.</p>
    </div>
  </div>
<script>
const Msg = {
  'en': '<p>As of November 1st, 2021 Yahoo’s suite of services will no longer be accessible from mainland China. Yahoo products and services remain unaffected in all other global locations. We thank you for your support and readership.</p>',
  'zh-Hant': '<p>2021 年 11 月 1 日起，用戶將無法從中國大陸使用 Yahoo 的產品與服務。這並不影響 Yahoo 在全球其他地方的產品及服務。我們感謝您一直以來的支持。</p>',
  'zh-Hans': '<p>2021 年 11 月 1 日起，用户将无法从中国大陆使用 Yahoo 的产品与服务。这并不影响 Yahoo 在全球其他地方的产品及服务。我们感谢你一直以來的支持。</p>'
};

const message = document.querySelector('#message');

const switchLang = function (lang) {
  message.innerHTML = Msg[lang] ? Msg[lang] : Msg.en;
  const oldE = document.querySelector('#switcher .active');
  const newE = document.querySelector(`#switcher a[data-lang=${lang}]`);
  oldE.className = '';
  newE.className = 'active';
}

const detectLang = function() {
  const langs = window.navigator.languages ? window.navigator.languages : [window.navigator.language];
  const availableLangs = langs.map(l => l.toLowerCase()).filter(l => /^en/.test(l) || /^zh/.test(l));
  const selectedLang = availableLangs.length ? availableLangs[0] : 'en';
  const prefLang =  /^en/.test(selectedLang) ? 'en' :
      (selectedLang === 'zh-tw' || selectedLang === 'zh-hk') ? 'zh-Hant' : 'zh-Hans';
  switchLang(prefLang);
}

const switcher = document.querySelector('#switcher');
switcher.addEventListener('click', (e) => {
  const lang = e.target.getAttribute('data-lang');
  if (lang) {
    switchLang(lang);
  }
});

detectLang();

</script>
</body></html>
