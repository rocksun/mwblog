
<!--
title: 互联安全风险的稳健预防和缓解
cover: https://cdn.thenewstack.io/media/2024/10/5d963909-risk12.png
-->

通过了解服务之间的关系，您可以更好地评估如果某个风险未得到缓解，其潜在的爆炸半径。

> 译自 [Interconnect Security Risks for Robust Prevention and Mitigation](https://thenewstack.io/interconnect-security-risks-for-robust-prevention-and-mitigation/)，作者 Utpal Bhatt。

本文是“[保护您的 Kubernetes 环境的互联安全风险](https://thenewstack.io/interconnect-security-risks-to-protect-your-kubernetes-environment/)”的配套文章。

采用互联的方式来保护 [Kubernetes](https://thenewstack.io/kubernetes/) 和容器化环境，不仅有助于优先考虑最关键的风险，还有助于制定有效的缓解策略。

在高度分布式和短暂的 Kubernetes 环境中，互联安全风险的唯一方法是首先了解服务是如何互联的。漏洞、错误配置、网络暴露和恶意软件等安全风险都与特定服务相关联。通过了解服务之间的关系，您可以更好地评估如果某个风险未得到缓解，其潜在的爆炸半径。

**了解服务互联：**Kubernetes 集群中的每个服务通常都会与其他服务交互，形成一个复杂的依赖关系网络。这些互联关系决定了某个服务中的风险如何传播到整个环境，并可能放大其影响。**将安全风险与服务关联：**为了有效地互联风险，您必须将每种类型的风险与它们在运行时影响的特定服务相关联。这种运行时洞察力允许根据环境的实际架构更准确地评估风险。**评估爆炸半径：**通过了解服务如何交互，您可以预测哪些环境部分可能会受到特定威胁的影响，从而帮助您优先考虑响应。

通过互联服务及其相关的风险，您可以超越孤立的风险评估，全面了解环境的安全态势。

## 真实案例

让我们看看针对在 Kubernetes 中运行的容器化应用程序的真实攻击案例，以及互联安全方法如何改进风险评估、优先级排序、修复和缓解。

### 案例 1：Log4j 漏洞

[Log4j 漏洞](https://thenewstack.io/log4j-the-pain-just-keeps-going-and-going/) 是一种允许远程代码执行的严重缺陷，在许多 Kubernetes 环境中造成了重大风险。传统方法会根据其通用漏洞评分系统 (CVSS) 分数优先考虑修补每个 Log4j 实例。但是，互联方法会评估每个服务暴露的程度，以及是否已实施其他安全措施，例如默认拒绝网络策略。

通过考虑这些因素，安全团队可以优先考虑最需要修补的地方，从而在不耗费过多资源的情况下降低风险。

### 案例 2：Kinsing 恶意软件

[Kinsing 恶意软件](https://thenewstack.io/kinsing-malware-targets-kubernetes/) 针对配置错误的 Docker 容器和 Kubernetes 环境，通常通过网络传播以进行恶意活动。传统的应对措施可能集中在从受感染的容器中删除恶意软件。然而，互联方法还会评估网络策略和横向移动的可能性，指导实施更强大的网络控制措施以防止恶意软件传播。

这种方法不仅解决了眼前的威胁，还加强了防御未来攻击的能力。

### 案例 3：错误配置的网络策略导致数据泄露

网络策略中的错误配置可能会无意中将内部服务暴露给互联网，从而造成重大的安全风险。传统方法会标记错误配置以进行更正，但如果不了解服务的关键性和其漏洞，可能会低估其全部影响。

通过将风险与服务的关键性和潜在漏洞互联，安全团队可以优先考虑修复并部署额外的安全措施来保护敏感数据。

## 使用互联安全进行预防和缓解

在您的 Kubernetes 环境中互联安全风险使您能够就预防和缓解策略做出明智的决策。以下是如何使用这种互联方法，结合入侵检测系统 (IDS)/入侵防御系统 (IPS)、Web 应用程序防火墙 (WAF) 和恶意软件检测等高级安全工具，实现稳健的预防和风险缓解。

### 1. 部署默认拒绝网络策略以防止利用
## 默认拒绝网络策略

默认拒绝网络策略确保只有明确允许的通信才被允许，从而降低攻击者利用漏洞的风险。通过了解服务互连，您可以部署这些策略来保护最脆弱的服务，从而降低被利用的可能性。

## 2. 实施工作负载隔离以限制爆炸半径

工作负载隔离对于具有直接互联网访问权限或处理敏感数据的服务至关重要。隔离这些工作负载可以防止攻击者在网络中横向移动，从而限制服务被入侵时的影响。

## 3. 使用 IDS/IPS 进行基于签名的攻击防御

入侵检测系统和入侵防御系统可以检测和阻止已知的基于签名的攻击。通过在 Kubernetes 环境中的战略位置放置 IDS/IPS 传感器，您可以监控关键通信路径并防止恶意活动破坏您的服务。

## 4. 部署 Web 应用防火墙以保护面向 Web 的服务

Web 应用防火墙可以保护面向 Web 的服务免受常见的 Web 攻击，例如 SQL 注入和跨站点脚本 (XSS)。在暴露的服务前面部署 WAF 可以过滤掉恶意请求，然后再到达应用程序，从而降低被利用的风险。

## 5. 添加恶意软件检测功能以阻止已知威胁

将恶意软件检测工具集成到您的 Kubernetes 环境中，使您能够识别和消除已知的恶意软件威胁。通过扫描容器和镜像以查找已知签名，您可以防止受感染的容器在集群中运行或传播。

## 6. 为受感染的服务部署缓解网络策略

当服务受到攻击时，快速部署缓解网络策略至关重要。一种互连的方法使您能够应用有针对性的策略，隔离威胁并防止进一步利用。

## 结论

在您的 Kubernetes 环境中互连安全风险对于精确的风险评估以及有效的预防和缓解策略至关重要。通过部署默认拒绝网络策略、实施工作负载隔离、利用 IDS/IPS、WAF 和恶意软件检测，您可以显着降低被利用的风险，限制潜在攻击的爆炸半径，并在造成损害之前阻止已知威胁。

互连的方法确保您的 Kubernetes 环境不仅能够抵御当前的风险，而且能够抵御未来的威胁，为您的云原生应用程序提供全面的防御。

[YOUTUBE.COM/THENEWSTACK](https://youtube.com/thenewstack?sub_confirmation=1)

技术发展迅速，不要错过任何一集。订阅我们的 YouTube 频道以收看我们所有的播客、访谈、演示等。