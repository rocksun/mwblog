{"title": "Kubernetes 1.31: MatchLabelKeys in PodAffinity graduates to beta", "author": "Kensei Nakada", "url": "https://kubernetes.io/blog/2024/08/16/matchlabelkeys-podaffinity/", "hostname": "kubernetes.io", "description": "Kubernetes 1.29 introduced new fields MatchLabelKeys and MismatchLabelKeys in PodAffinity and PodAntiAffinity. In Kubernetes 1.31, this feature moves to beta and the corresponding feature gate (MatchLabelKeysInPodAffinity) gets enabled by default. MatchLabelKeys - Enhanced scheduling for versatile rolling updates During a workload's (e.g., Deployment) rolling update, a cluster may have Pods from multiple versions at the same time. However, the scheduler cannot distinguish between old and new versions based on the LabelSelector specified in PodAffinity or PodAntiAffinity.", "sitename": "Kubernetes", "date": "2024-08-16", "categories": ["blog"], "tags": [], "fingerprint": null, "id": null, "license": "CC BY 4.0", "body": null, "comments": null, "commentsbody": null, "raw_text": null, "text": null, "language": null, "image": null, "pagetype": "article", "filedate": "2024-08-25", "cntitle": "Kubernetes 1.31\uff1aPodAffinity \u4e2d\u7684 MatchLabelKeys \u5347\u7ea7\u4e3a Beta \u7248", "cndescription": "Kubernetes 1.29 \u5728 PodAffinity \u548c PodAntiAffinity \u4e2d\u5f15\u5165\u4e86\u65b0\u7684\u5b57\u6bb5 MatchLabelKeys \u548c MismatchLabelKeys\u3002\u5728 Kubernetes 1.31 \u4e2d\uff0c\u6b64\u529f\u80fd\u8fdb\u5165 Beta \u9636\u6bb5\uff0c\u76f8\u5e94\u7684\u7279\u6027\u5f00\u5173 (MatchLabelKeysInPodAffinity) \u9ed8\u8ba4\u542f\u7528\u3002MatchLabelKeys - \u589e\u5f3a\u8c03\u5ea6\u4ee5\u5b9e\u73b0\u7075\u6d3b\u7684\u6eda\u52a8\u66f4\u65b0 \u5728\u5de5\u4f5c\u8d1f\u8f7d\uff08\u4f8b\u5982\uff0cDeployment\uff09\u7684\u6eda\u52a8\u66f4\u65b0\u671f\u95f4\uff0c\u96c6\u7fa4\u53ef\u80fd\u540c\u65f6\u62e5\u6709\u591a\u4e2a\u7248\u672c\u7684 Pod\u3002\u4f46\u662f\uff0c\u8c03\u5ea6\u5668\u65e0\u6cd5\u6839\u636e PodAffinity \u6216 PodAntiAffinity \u4e2d\u6307\u5b9a\u7684 LabelSelector \u533a\u5206\u65e7\u7248\u672c\u548c\u65b0\u7248\u672c\u3002"}