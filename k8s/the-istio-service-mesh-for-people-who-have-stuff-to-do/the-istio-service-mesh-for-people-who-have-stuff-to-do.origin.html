<!DOCTYPE html><html lang="en-us" class="__variable_587f35 scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/2d141e1a38819612-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/e2fe24f4fc2e300f.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/55557718a064ff56.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-fac0392d60b02ce4.js"/><script src="/_next/static/chunks/fd9d1056-012834e6c8b9a74f.js" async=""></script><script src="/_next/static/chunks/23-287ec5651717107d.js" async=""></script><script src="/_next/static/chunks/main-app-a8e9a1c85cffbf2b.js" async=""></script><script src="/_next/static/chunks/30-09053b61656d7789.js" async=""></script><script src="/_next/static/chunks/223-5b394a24c87efbda.js" async=""></script><script src="/_next/static/chunks/app/blog/%5B...slug%5D/page-9ad025592ed95bed.js" async=""></script><script src="/_next/static/chunks/870fdd6f-a5bb958ccde7fe6c.js" async=""></script><script src="/_next/static/chunks/303-db017da4c4dd7a8a.js" async=""></script><script src="/_next/static/chunks/395-2db203d9ae2b8457.js" async=""></script><script src="/_next/static/chunks/app/layout-c757f945baf9941f.js" async=""></script><link rel="preload" href="/js/script.js" as="script"/><title>The Istio Service Mesh for People Who Have Stuff to Do | Blog | Luca Cavallin</title><meta name="description" content="I recently made a contribution to Istio, an open-source service mesh that simplifies managing microservices. In this post, I explain how Istio handles traffic routing, security with mTLS, and observability, making complex systems more resilient and efficient."/><link rel="author" href="https://www.lucavall.in"/><meta name="author" content="Luca Cavallin"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"/><meta name="creator" content="Luca Cavallin"/><meta name="publisher" content="Luca Cavallin"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://www.lucavall.in/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do"/><link rel="alternate" type="application/rss+xml" href="https://www.lucavall.in/feed.xml"/><meta property="og:title" content="The Istio Service Mesh for People Who Have Stuff to Do | Blog"/><meta property="og:description" content="I recently made a contribution to Istio, an open-source service mesh that simplifies managing microservices. In this post, I explain how Istio handles traffic routing, security with mTLS, and observability, making complex systems more resilient and efficient."/><meta property="og:url" content="https://www.lucavall.in/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do"/><meta property="og:site_name" content="Luca Cavallin"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://www.lucavall.in/images/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do/cover.webp"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-09-21T00:00:00.000Z"/><meta property="article:modified_time" content="2024-09-21T00:00:00.000Z"/><meta property="article:author" content="Luca Cavallin"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="The Istio Service Mesh for People Who Have Stuff to Do | Blog"/><meta name="twitter:description" content="I recently made a contribution to Istio, an open-source service mesh that simplifies managing microservices. In this post, I explain how Istio handles traffic routing, security with mTLS, and observability, making complex systems more resilient and efficient."/><meta name="twitter:image" content="https://www.lucavall.in/images/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do/cover.webp"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><link rel="apple-touch-icon" href="/apple-icon.png?0c30cc317c29bf5e" type="image/png" sizes="180x180"/><meta name="next-size-adjust"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#101620"/><meta name="msapplication-TileColor" content="#101620"/><meta name="theme-color" content="#101620"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="bg-black-400 px-1 text-white antialiased"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between font-sans"><header class="flex items-center justify-between py-10"><div><a title="lucavallin" aria-label="lucavallin" href="/"><div class="flex items-center justify-between"><div class="mr-3"><img alt="lucavallin" loading="lazy" width="220" height="55" decoding="async" data-nimg="1" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Flogo.webp&amp;w=256&amp;q=75 1x, /_next/image?url=%2Fimages%2Flogo.webp&amp;w=640&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Flogo.webp&amp;w=640&amp;q=75"/></div><div class="hidden h-6 text-2xl font-semibold">lucavallin</div></div></a></div><div class="flex items-center space-x-4 leading-5 sm:space-x-6"><a class="hidden sm:block font-medium text-gray-900" title="Home" aria-label="Home" href="/">Home</a><a class="hidden sm:block font-semibold text-pink" title="Blog" aria-label="Blog" href="/blog">Blog</a><a class="hidden sm:block font-medium text-gray-900" title="Mentoring" aria-label="Mentoring" href="/mentoring">Mentoring</a><a class="hidden sm:block font-medium text-gray-900" title="Photography" aria-label="Photography" href="/photography">Photography</a><a class="hidden sm:block font-medium text-gray-900" title="About" aria-label="About" href="/about">About</a><button aria-label="Search" class="pr-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="magnifying-glass" class="svg-inline--fa fa-magnifying-glass fa-xl text-gray-900" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"></path></svg></button><button aria-label="Toggle Menu" class="sm:hidden"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-xl text-gray-900" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg></button><div class="fixed left-0 top-0 z-10 size-full bg-gray-950 opacity-[0.98] duration-300 ease-in-out translate-x-full"><div class="flex justify-end"><button class="mr-8 mt-11 size-8" aria-label="Toggle Menu"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="xmark" class="svg-inline--fa fa-xmark fa-2xl text-gray-900" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a title="Home" aria-label="Home" class="text-2xl tracking-widest font-medium text-gray-900" href="/">Home</a></div><div class="px-12 py-4"><a title="Blog" aria-label="Blog" class="text-2xl tracking-widest font-semibold text-pink" href="/blog">Blog</a></div><div class="px-12 py-4"><a title="Mentoring" aria-label="Mentoring" class="text-2xl tracking-widest font-medium text-gray-900" href="/mentoring">Mentoring</a></div><div class="px-12 py-4"><a title="Photography" aria-label="Photography" class="text-2xl tracking-widest font-medium text-gray-900" href="/photography">Photography</a></div><div class="px-12 py-4"><a title="About" aria-label="About" class="text-2xl tracking-widest font-medium text-gray-900" href="/about">About</a></div></nav></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article><div class="divide-y divide-dashed divide-silver-200"><header class="p-6"><div class="space-y-1 text-center"><div class="space-y-10"><div><dl><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-700"><time dateTime="2024-09-21T00:00:00.000Z">Saturday, September 21, 2024</time></dd></dl></div></div><div class="pb-2"><h1 class="text-4xl font-extrabold leading-9 tracking-tight text-gray-900 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">The Istio Service Mesh for People Who Have Stuff to Do</h1></div><div class="pb-2"><div class="flex flex-wrap items-center justify-center"><h2 class="mr-2 text-xs uppercase tracking-wide text-gray-700">Tags</h2><a title="istio" aria-label="istio" class="mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400" href="/blog/tags/istio">istio</a><a title="open-source" aria-label="open-source" class="mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400" href="/blog/tags/open-source">open-source</a><a title="service-mesh" aria-label="service-mesh" class="mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400" href="/blog/tags/service-mesh">service-mesh</a><a title="cncf" aria-label="cncf" class="mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400" href="/blog/tags/cncf">cncf</a></div></div><div class="flex flex-wrap justify-center"><div class="flex justify-center"><img alt="avatar" loading="lazy" width="38" height="38" decoding="async" data-nimg="1" class="size-5 rounded-full" style="color:transparent" srcSet="/_next/image?url=%2Fimages%2Fluca_cavallin.webp&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fimages%2Fluca_cavallin.webp&amp;w=96&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fluca_cavallin.webp&amp;w=96&amp;q=75"/><dl class="whitespace-nowrap pl-3 text-base font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900">Luca Cavallin</dd></dl></div></div></div></header><div class="divide-y divide-dashed divide-silver-100 pb-8 xl:gap-x-6 xl:divide-y-0"><div class="xl:pb-0"><div class="prose max-w-none pb-2 pt-10"><p>I recently made a small contribution to <strong>Istio</strong>, an open-source service mesh project. My contribution involved adding a few tests for one of the Istio CLI commands. If you want to check out the details, you can find the pull request <a target="_blank" rel="noopener noreferrer" href="https://github.com/istio/istio/pull/51635">here</a>. It wasn&#x27;t a huge change, but it was a great learning experience. Working on Istio helped me understand service meshes at a deeper level. I&#x27;m excited to contribute more. In this post, I&#x27;ll explain what Istio is, why it&#x27;s useful, and how it works.</p><h2 id="what-is-istio"><a aria-hidden="true" tabindex="-1" href="#what-is-istio"><span class="icon icon-link"></span></a>What is Istio?</h2><p>At its core, Istio is a <strong>service mesh</strong>. A service mesh manages communication between microservices, taking care of things like routing traffic, securing communication, and providing observability. As your microservices grow in number, managing these interactions can get complicated. Istio automates many of these tasks, so you can focus on building your application instead of managing service-to-service communication.</p><h2 id="why-use-istio"><a aria-hidden="true" tabindex="-1" href="#why-use-istio"><span class="icon icon-link"></span></a>Why Use Istio?</h2><p>As your architecture becomes more complex, you&#x27;ll face new challenges. Services need to communicate in a reliable, secure, and efficient way. Istio helps you do this in three key areas:</p><ol><li><p><strong>Managing Traffic</strong>: Istio gives you control over how traffic flows between services. You can split traffic between different versions of a service, reroute requests during deployments, or set up retry and timeout policies.</p></li><li><p><strong>Securing Communication</strong>: Istio makes it easy to enable <strong>mutual TLS (mTLS)</strong>. This ensures that all communication between services is encrypted and authenticated, keeping unauthorized services out.</p></li><li><p><strong>Observability</strong>: Istio automatically collects metrics, logs, and traces, giving you real-time visibility into your services. This helps with monitoring, troubleshooting, and performance tuning.</p></li></ol><p>These three areas—traffic management, security, and observability—are key to running a healthy microservices architecture, and Istio handles them with ease.</p><h2 id="managing-traffic-with-istio"><a aria-hidden="true" tabindex="-1" href="#managing-traffic-with-istio"><span class="icon icon-link"></span></a>Managing Traffic with Istio</h2><p>One of Istio&#x27;s main features is managing traffic between services. In a microservices setup, you might have multiple versions of a service running at the same time. For example, you might be testing a new version of your payment service and want to send most of the traffic to version 1, but route some traffic to version 2.</p><p>Here&#x27;s an example of how you can use Istio to split traffic between two versions of a service:</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> VirtualService
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> payments
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">hosts</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> payments.myapp.com
</span><span class="code-line">  <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">route</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">destination</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">host</span><span class="token punctuation">:</span> payments
</span><span class="code-line">        <span class="token atrule key">subset</span><span class="token punctuation">:</span> v1
</span><span class="code-line">      <span class="token atrule key">weight</span><span class="token punctuation">:</span> <span class="token number">90</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">destination</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">host</span><span class="token punctuation">:</span> payments
</span><span class="code-line">        <span class="token atrule key">subset</span><span class="token punctuation">:</span> v2
</span><span class="code-line">      <span class="token atrule key">weight</span><span class="token punctuation">:</span> <span class="token number">10</span>
</span></code></pre></div><p>In this example:</p><ul><li><strong>90% of traffic</strong> is sent to version 1 of the <code>payments</code> service, and <strong>10%</strong> is sent to version 2.</li><li>The <code>hosts</code> field specifies the domain for which the virtual service is applicable—in this case, <code>payments.myapp.com</code>.</li><li>The <code>route</code> block defines how traffic is split between two subsets of the service: <code>v1</code> (for version 1) and <code>v2</code> (for version 2). The <code>weight</code> field controls the traffic distribution.</li></ul><p>This is useful for <strong>canary deployments</strong>, where you test new features with a small percentage of users before rolling them out fully.</p><h3 id="envoy-proxy-and-sidecar-containers"><a aria-hidden="true" tabindex="-1" href="#envoy-proxy-and-sidecar-containers"><span class="icon icon-link"></span></a>Envoy Proxy and Sidecar Containers</h3><p>Istio&#x27;s <strong>data plane</strong> relies on the <strong>Envoy proxy</strong>, a layer 7 proxy that manages all traffic between services. Every service in your mesh has its own <strong>sidecar proxy</strong>, which sits next to the service and manages all its inbound and outbound traffic.</p><p>Envoy allows you to apply traffic policies like retries, timeouts, and circuit breaking, all without changing your application code. It also collects detailed metrics about traffic flow, helping with monitoring and debugging.</p><p>Because Envoy runs as a <strong>sidecar container</strong>, it can enforce these rules and collect data without interfering with your application&#x27;s logic. In short, Envoy acts as the &quot;traffic cop&quot; for all communication in your service mesh.</p><h2 id="observability-seeing-whats-happening-in-your-system"><a aria-hidden="true" tabindex="-1" href="#observability-seeing-whats-happening-in-your-system"><span class="icon icon-link"></span></a>Observability: Seeing What&#x27;s Happening in Your System</h2><p>Running a system with many microservices can make it hard to see what&#x27;s going on. Istio&#x27;s built-in <strong>observability</strong> features help you track metrics, logs, and traces for all communication between services. This is vital for monitoring the health of your system, spotting performance issues, and fixing bugs.</p><p>Istio&#x27;s observability tools give you a clear picture of how your system is working. You can detect problems early and make your services run more smoothly.</p><h2 id="security-enabling-mtls-and-access-control"><a aria-hidden="true" tabindex="-1" href="#security-enabling-mtls-and-access-control"><span class="icon icon-link"></span></a>Security: Enabling mTLS and Access Control</h2><p>Security is a big concern when managing microservices. Istio makes it easy to implement <strong>mutual TLS (mTLS)</strong>, which encrypts all communication between services and ensures that services authenticate each other before exchanging data.</p><p>Istio also lets you set up <strong>access control policies</strong> to specify which services are allowed to communicate. This helps limit which services can interact, reducing your system&#x27;s attack surface.</p><p>Here&#x27;s an example of an Istio policy that allows only the <code>billing</code> service to communicate with the <code>payments</code> service:</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> security.istio.io/v1beta1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> AuthorizationPolicy
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> payments<span class="token punctuation">-</span>to<span class="token punctuation">-</span>billing
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">matchLabels</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">app</span><span class="token punctuation">:</span> payments
</span><span class="code-line">  <span class="token atrule key">rules</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">from</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">source</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">principals</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;billing.myapp.com&quot;</span><span class="token punctuation">]</span>
</span></code></pre></div><p>In this policy:</p><ul><li>The <code>selector</code> specifies that this rule applies to the <code>payments</code> service, using the label <code>app: payments</code>.</li><li>The <code>rules</code> block allows only the <code>billing</code> service, identified by the principal <code>&quot;billing.myapp.com&quot;</code>, to communicate with <code>payments</code>. No other service is permitted to send traffic to <code>payments</code>.</li></ul><p>This policy restricts all services except <code>billing</code> from accessing <code>payments</code>, tightening the security of your microservices.</p><h3 id="what-is-spiffe"><a aria-hidden="true" tabindex="-1" href="#what-is-spiffe"><span class="icon icon-link"></span></a>What is SPIFFE?</h3><p>Istio uses <strong>SPIFFE</strong> (Secure Production Identity Framework for Everyone) to manage service identities. SPIFFE provides a way to assign secure, verifiable identities to services. Each service in the mesh gets a <strong>SPIFFE Verifiable Identity Document (SVID)</strong>, which is used along with mTLS to ensure secure communication. This identity system is the foundation of Istio&#x27;s security model.</p><h2 id="networking-in-istio"><a aria-hidden="true" tabindex="-1" href="#networking-in-istio"><span class="icon icon-link"></span></a>Networking in Istio</h2><p>Networking in microservices can be difficult, especially when it comes to controlling traffic inside and outside the mesh. Istio provides several tools for managing network traffic:</p><ol><li><strong>Service Entry</strong>: Allows external services to communicate with services inside the mesh and the other way around.</li><li><strong>Virtual Service</strong>: Defines how traffic is routed inside the mesh.</li><li><strong>Destination Rule</strong>: Applies traffic policies, such as load balancing or mTLS, to the services.</li><li><strong>Gateways</strong>: Manages traffic coming into and going out of the mesh.</li></ol><h3 id="example-configuration-gateway-service-entry-virtual-service-and-destination-rule"><a aria-hidden="true" tabindex="-1" href="#example-configuration-gateway-service-entry-virtual-service-and-destination-rule"><span class="icon icon-link"></span></a>Example Configuration: Gateway, Service Entry, Virtual Service, and Destination Rule</h3><p>Let&#x27;s say you have an API server inside your mesh that receives traffic from the internet via a load balancer. Here&#x27;s how you can configure a <strong>Gateway</strong>, <strong>Service Entry</strong>, <strong>Virtual Service</strong>, and <strong>Destination Rule</strong> to handle this traffic.</p><h4 id="gateway-configuration"><a aria-hidden="true" tabindex="-1" href="#gateway-configuration"><span class="icon icon-link"></span></a>Gateway Configuration</h4><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Gateway
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>gateway
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">istio</span><span class="token punctuation">:</span> ingressgateway
</span><span class="code-line">  <span class="token atrule key">servers</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">      <span class="token atrule key">name</span><span class="token punctuation">:</span> http
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> HTTP
</span><span class="code-line">    <span class="token atrule key">hosts</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token string">&quot;api.myapp.com&quot;</span>
</span></code></pre></div><p>What is happening here? The <strong>Gateway</strong> listens on <strong>port 80</strong> for HTTP traffic coming to the domain <code>api.myapp.com</code>. The <code>selector</code> field connects this Gateway to the <strong>Istio ingress gateway</strong>, which handles inbound traffic to the mesh.</p><h4 id="service-entry-configuration"><a aria-hidden="true" tabindex="-1" href="#service-entry-configuration"><span class="icon icon-link"></span></a>Service Entry Configuration</h4><p>Let&#x27;s say your API server needs to call an external authentication service. Here&#x27;s how you would configure a <strong>Service Entry</strong>:</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> ServiceEntry
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> auth<span class="token punctuation">-</span>service<span class="token punctuation">-</span>entry
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">hosts</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token string">&quot;auth.external-service.com&quot;</span>
</span><span class="code-line">  <span class="token atrule key">location</span><span class="token punctuation">:</span> MESH_EXTERNAL
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">443</span>
</span><span class="code-line">    <span class="token atrule key">name</span><span class="token punctuation">:</span> https
</span><span class="code-line">    <span class="token atrule key">protocol</span><span class="token punctuation">:</span> HTTPS
</span><span class="code-line">  <span class="token atrule key">resolution</span><span class="token punctuation">:</span> DNS
</span><span class="code-line">  <span class="token atrule key">endpoints</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">address</span><span class="token punctuation">:</span> 203.0.113.1
</span></code></pre></div><p>What is happening here? The <strong>Service Entry</strong> tells Istio how to route traffic to an external service (<code>auth.external-service.com</code>), which runs on <strong>port 443</strong> (HTTPS). The <code>location: MESH_EXTERNAL</code> indicates that this service exists outside the Istio service mesh. The <code>endpoints</code> field includes the external service&#x27;s IP address, allowing the API server inside the mesh to send requests.</p><h4 id="virtual-service-configuration"><a aria-hidden="true" tabindex="-1" href="#virtual-service-configuration"><span class="icon icon-link"></span></a>Virtual Service Configuration</h4><p>Here&#x27;s how you can route traffic within the mesh:</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> VirtualService
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>virtualservice
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">hosts</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token string">&quot;api.myapp.com&quot;</span>
</span><span class="code-line">  <span class="token atrule key">gateways</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> api<span class="token punctuation">-</span>gateway
</span><span class="code-line">  <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">match</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">uri</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">prefix</span><span class="token punctuation">:</span> <span class="token string">&quot;/v1&quot;</span>
</span><span class="code-line">    <span class="token atrule key">route</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">destination</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">host</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>service
</span><span class="code-line">        <span class="token atrule key">subset</span><span class="token punctuation">:</span> stable
</span></code></pre></div><p>What is happening here? The <strong>Virtual Service</strong> defines the traffic routing rules. In this case, traffic arriving at <code>api.myapp.com/v1</code> through the <code>api-gateway</code> is routed to the <code>api-service</code> in the mesh. The <code>subset: stable</code> refers to a specific version of the <code>api-service</code> (you can have multiple versions of the same service).</p><h4 id="destination-rule-configuration"><a aria-hidden="true" tabindex="-1" href="#destination-rule-configuration"><span class="icon icon-link"></span></a>Destination Rule Configuration</h4><p>Lastly, here&#x27;s a <strong>Destination Rule</strong> to apply load balancing and mTLS:</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> DestinationRule
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>destination<span class="token punctuation">-</span>rule
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">host</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>service
</span><span class="code-line">  <span class="token atrule key">trafficPolicy</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">loadBalancer</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">simple</span><span class="token punctuation">:</span> ROUND_ROBIN
</span><span class="code-line">    <span class="token atrule key">tls</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">mode</span><span class="token punctuation">:</span> ISTIO_MUTUAL
</span></code></pre></div><p>What is happening here? The <strong>Destination Rule</strong> applies policies to the traffic routed to the <code>api-service</code>. It uses <strong>round-robin</strong> load balancing to distribute requests evenly across instances. <strong>mTLS</strong> is enabled with <code>tls.mode: ISTIO_MUTUAL</code>, ensuring encrypted communication between services.</p><h3 id="resiliency-handling-failures-with-retries-timeouts-and-circuit-breakers"><a aria-hidden="true" tabindex="-1" href="#resiliency-handling-failures-with-retries-timeouts-and-circuit-breakers"><span class="icon icon-link"></span></a>Resiliency: Handling Failures with Retries, Timeouts, and Circuit Breakers</h3><p>In distributed systems, failures happen. Services might go down, networks might get slow, or users might experience delays. Istio helps you handle these problems with <strong>retries</strong>, <strong>timeouts</strong>, and <strong>circuit breakers</strong>.</p><ul><li><strong>Retries</strong>: Automatically retries failed requests to handle temporary failures without disrupting the user experience.</li><li><strong>Timeouts</strong>: Defines how long a service should wait for a response before giving up and moving on.</li><li><strong>Circuit breakers</strong>: If a service is failing, Istio can stop sending traffic to it, preventing cascading failures that might bring down other parts of the system.</li></ul><p>Here&#x27;s an example of how to configure retries and timeouts in Istio:</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> VirtualService
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">hosts</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> my<span class="token punctuation">-</span>service
</span><span class="code-line">  <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">route</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">destination</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">host</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service
</span><span class="code-line">    <span class="token atrule key">retries</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">attempts</span><span class="token punctuation">:</span> <span class="token number">3</span>
</span><span class="code-line">      <span class="token atrule key">perTryTimeout</span><span class="token punctuation">:</span> 2s
</span><span class="code-line">    <span class="token atrule key">timeout</span><span class="token punctuation">:</span> 5s
</span></code></pre></div><p>What is happening here? If a request to <code>my-service</code> fails, Istio will retry the request up to <strong>3 times</strong>. Each retry attempt has a <strong>2-second limit</strong>. The total time allowed for a request is <strong>5 seconds</strong>. After this, Istio will stop waiting for a response.</p><p>For circuit breaking, you can use a <strong>Destination Rule</strong> like this:</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.istio.io/v1alpha3
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> DestinationRule
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">host</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service
</span><span class="code-line">  <span class="token atrule key">trafficPolicy</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">connectionPool</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">tcp</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">maxConnections</span><span class="token punctuation">:</span> <span class="token number">100</span>
</span><span class="code-line">      <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">http1MaxPendingRequests</span><span class="token punctuation">:</span> <span class="token number">50</span>
</span><span class="code-line">    <span class="token atrule key">outlierDetection</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">consecutive5xxErrors</span><span class="token punctuation">:</span> <span class="token number">2</span>
</span><span class="code-line">      <span class="token atrule key">interval</span><span class="token punctuation">:</span> 10s
</span><span class="code-line">      <span class="token atrule key">baseEjectionTime</span><span class="token punctuation">:</span> 30s
</span><span class="code-line">      <span class="token atrule key">maxEjectionPercent</span><span class="token punctuation">:</span> <span class="token number">50</span>
</span></code></pre></div><p>What is happening here? If <code>my-service</code> returns <strong>two consecutive 5xx errors</strong> within <strong>10 seconds</strong>, Istio will stop sending traffic to it. The service will be ejected from the load balancing pool for <strong>30 seconds</strong> before being reconsidered.</p><h3 id="summary"><a aria-hidden="true" tabindex="-1" href="#summary"><span class="icon icon-link"></span></a>Summary</h3><p>Istio is a powerful tool that simplifies traffic management, security, and observability for microservices. Contributing to Istio gave me insight into how it helps solve some of the complex challenges that come with running distributed systems.</p><p>If you&#x27;re running a microservices architecture or planning to scale, Istio can help you make your system more resilient and easier to manage. If you have any questions or want to learn more about Istio, feel free to reach out—I&#x27;d be happy to share what I&#x27;ve learned.</p></div><div></div></div></div></div></article></div></main><footer class="mt-12 border-t-2 border-dashed border-pink/20"><div class="mt-3 flex flex-col items-center"><div class="mb-4 flex flex-row flex-wrap items-end justify-center space-x-4 space-y-4 px-6"><a target="_blank" rel="noopener noreferrer" title="GitHub" aria-label="GitHub" href="https://github.com/lucavallin"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-xl " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a target="_blank" rel="noopener noreferrer" title="LinkedIn" aria-label="LinkedIn" href="https://www.linkedin.com/in/lucavallin"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-xl " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a target="_blank" rel="noopener noreferrer" title="Unsplash" aria-label="Unsplash" href="https://unsplash.com/@lucavallin"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="unsplash" class="svg-inline--fa fa-unsplash fa-xl " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M448,230.17V480H0V230.17H141.13V355.09H306.87V230.17ZM306.87,32H141.13V156.91H306.87Z"></path></svg></a><a target="_blank" rel="noopener noreferrer" title="Instagram" aria-label="Instagram" href="https://instagram.com/lucavallincom"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="instagram" class="svg-inline--fa fa-instagram fa-xl " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></a><a target="_blank" rel="noopener noreferrer" title="Pinterest" aria-label="Pinterest" href="https://pinterest.com/lucavallincom"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="pinterest" class="svg-inline--fa fa-pinterest fa-xl " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"></path></svg></a><a title="RSS" aria-label="RSS" href="/feed.xml"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-xl " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg></a></div><div class="mb-8 flex flex-col text-center text-sm text-gray-800"><div>Luca Cavallin<!-- --> © <!-- -->2024<!-- --> • <a title="Sitemap" aria-label="Sitemap" href="/sitemap.xml">Sitemap</a></div></div></div></footer></div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><script src="/_next/static/chunks/webpack-fac0392d60b02ce4.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/2d141e1a38819612-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/e2fe24f4fc2e300f.css\",\"style\"]\n3:HL[\"/_next/static/css/55557718a064ff56.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[5751,[],\"\"]\n7:I[9275,[],\"\"]\n9:I[1343,[],\"\"]\na:I[4080,[\"30\",\"static/chunks/30-09053b61656d7789.js\",\"223\",\"static/chunks/223-5b394a24c87efbda.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-9ad025592ed95bed.js\"],\"\"]\nb:I[9032,[\"676\",\"static/chunks/870fdd6f-a5bb958ccde7fe6c.js\",\"30\",\"static/chunks/30-09053b61656d7789.js\",\"303\",\"static/chunks/303-db017da4c4dd7a8a.js\",\"223\",\"static/chunks/223-5b394a24c87efbda.js\",\"395\",\"static/chunks/395-2db203d9ae2b8457.js\",\"185\",\"static/chunks/app/layout-c757f945baf9941f.js\"],\"KBarSearchProvider\"]\nc:I[8460,[\"676\",\"static/chunks/870fdd6f-a5bb958ccde7fe6c.js\",\"30\",\"static/chunks/30-09053b61656d7789.js\",\"303\",\"static/chunks/303-db017da4c4dd7a8a.js\",\"223\",\"static/chunks/223-5b394a24c87efbda.js\",\"395\",\"static/chunks/395-2db203d9ae2b8457.js\",\"185\",\"static/chunks/app/layout-c757f945baf9941f.js\"],\"default\"]\nd:I[231,[\"30\",\"static/chunks/30-09053b61656d7789.js\",\"223\",\"static/chunks/223-5b394a24c87efbda.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-9ad025592ed95bed.js\"],\"\"]\nf:I[4288,[\"676\",\"static/chunks/870fdd6f-a5bb958ccde7fe6c.js\",\"30\",\"static/chunks/30-09053b61656d7789.js\",\"303\",\"static/chunks/303-db017da4c4dd7a8a.js\",\"223\",\"static/chunks/223-5b394a24c87efbda.js\",\"395\",\"static/chunks/395-2db203d9ae2b8457.js\",\"185\",\"static/chunks/app/layout-c757f945baf9941f.js\"],\"SpeedInsights\"]\n11:I[6130,[],\"\"]\n8:[\"slug\",\"the-istio-service-mesh-for-people-who-have-stuff-to-do\",\"c\"]\ne:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2"])</script><script>self.__next_f.push([1,".6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z12:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L4\",null,{\"buildId\":\"pfeXXmttlk3hhkSpKsI5N\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"blog\",\"the-istio-service-mesh-for-people-who-have-stuff-to-do\"],\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"the-istio-service-mesh-for-people-who-have-stuff-to-do\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"the-istio-service-mesh-for-people-who-have-stuff-to-do\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"the-istio-service-mesh-for-people-who-have-stuff-to-do\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/55557718a064ff56.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e2fe24f4fc2e300f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en-us\",\"className\":\"__variable_587f35 scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"mask-icon\",\"href\":\"/safari-pinned-tab.svg\",\"color\":\"#101620\"}],[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#101620\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#101620\"}],[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"/feed.xml\"}],[\"$\",\"$La\",null,{\"defer\":true,\"data-domain\":\"lucavall.in\",\"src\":\"/js/script.js\"}]]}],[\"$\",\"body\",null,{\"className\":\"bg-black-400 px-1 text-white antialiased\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex h-screen flex-col justify-between font-sans\",\"children\":[[\"$\",\"$Lb\",null,{\"kbarConfig\":{\"searchDocumentsPath\":\"search.json\"},\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"main\",null,{\"className\":\"mb-auto\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-x-2 pb-8 pt-6 md:space-y-5\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-6xl font-extrabold leading-9 tracking-tight text-gray-900 md:border-r-2 md:px-6 md:text-8xl md:leading-14\",\"children\":\"404\"}]}],[\"$\",\"div\",null,{\"className\":\"max-w-md\",\"children\":[\"$\",\"p\",null,{\"className\":\"mb-4 text-xl font-bold leading-normal md:text-2xl\",\"children\":\"Sorry, the page imploded.\"}]}]]}],\"notFoundStyles\":[]}]}]]}],[\"$\",\"footer\",null,{\"className\":\"mt-12 border-t-2 border-dashed border-pink/20\",\"children\":[\"$\",\"div\",null,{\"className\":\"mt-3 flex flex-col items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-4 flex flex-row flex-wrap items-end justify-center space-x-4 space-y-4 px-6\",\"children\":[[\"$\",\"$Ld\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/lucavallin\",\"title\":\"GitHub\",\"aria-label\":\"GitHub\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fab\",\"data-icon\":\"github\",\"className\":\"svg-inline--fa fa-github fa-xl \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 496 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"$e\",\"style\":{}}]}]}],[\"$\",\"$Ld\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://www.linkedin.com/in/lucavallin\",\"title\":\"LinkedIn\",\"aria-label\":\"LinkedIn\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fab\",\"data-icon\":\"linkedin\",\"className\":\"svg-inline--fa fa-linkedin fa-xl \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z\",\"style\":{}}]}]}],[\"$\",\"$Ld\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://unsplash.com/@lucavallin\",\"title\":\"Unsplash\",\"aria-label\":\"Unsplash\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fab\",\"data-icon\":\"unsplash\",\"className\":\"svg-inline--fa fa-unsplash fa-xl \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M448,230.17V480H0V230.17H141.13V355.09H306.87V230.17ZM306.87,32H141.13V156.91H306.87Z\",\"style\":{}}]}]}],[\"$\",\"$Ld\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://instagram.com/lucavallincom\",\"title\":\"Instagram\",\"aria-label\":\"Instagram\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fab\",\"data-icon\":\"instagram\",\"className\":\"svg-inline--fa fa-instagram fa-xl \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z\",\"style\":{}}]}]}],[\"$\",\"$Ld\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://pinterest.com/lucavallincom\",\"title\":\"Pinterest\",\"aria-label\":\"Pinterest\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fab\",\"data-icon\":\"pinterest\",\"className\":\"svg-inline--fa fa-pinterest fa-xl \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 496 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z\",\"style\":{}}]}]}],[\"$\",\"$Ld\",null,{\"href\":\"/feed.xml\",\"title\":\"RSS\",\"aria-label\":\"RSS\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"rss\",\"className\":\"svg-inline--fa fa-rss fa-xl \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z\",\"style\":{}}]}]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8 flex flex-col text-center text-sm text-gray-800\",\"children\":[\"$\",\"div\",null,{\"children\":[\"Luca Cavallin\",\" © \",2024,\" • \",[\"$\",\"$Ld\",null,{\"href\":\"/sitemap.xml\",\"title\":\"Sitemap\",\"aria-label\":\"Sitemap\",\"children\":\"Sitemap\"}]]}]}]]}]}]]}]}],[\"$\",\"$Lf\",null,{}]]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L10\"],\"globalErrorComponent\":\"$11\",\"missingSlots\":\"$W12\"}]\n"])</script><script>self.__next_f.push([1,"13:I[8173,[\"30\",\"static/chunks/30-09053b61656d7789.js\",\"223\",\"static/chunks/223-5b394a24c87efbda.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-9ad025592ed95bed.js\"],\"Image\"]\n14:I[408,[\"30\",\"static/chunks/30-09053b61656d7789.js\",\"223\",\"static/chunks/223-5b394a24c87efbda.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-9ad025592ed95bed.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"$La\",null,{\"id\":\"json-ld\",\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@graph\\\":[{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"The Istio Service Mesh for People Who Have Stuff to Do\\\",\\\"datePublished\\\":\\\"2024-09-21T00:00:00.000Z\\\",\\\"dateModified\\\":\\\"2024-09-21T00:00:00.000Z\\\",\\\"description\\\":\\\"I recently made a contribution to Istio, an open-source service mesh that simplifies managing microservices. In this post, I explain how Istio handles traffic routing, security with mTLS, and observability, making complex systems more resilient and efficient.\\\",\\\"image\\\":\\\"/images/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do/cover.webp\\\",\\\"url\\\":\\\"https://www.lucavall.in/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Luca Cavallin\\\",\\\"url\\\":\\\"https://www.lucavall.in\\\"}}]}\"}}],[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[\"$\",\"article\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"divide-y divide-dashed divide-silver-200\",\"children\":[[\"$\",\"header\",null,{\"className\":\"p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-1 text-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-10\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Published on\"}],[\"$\",\"dd\",null,{\"className\":\"text-base font-medium leading-6 text-gray-700\",\"children\":[\"$\",\"time\",null,{\"dateTime\":\"2024-09-21T00:00:00.000Z\",\"children\":\"Saturday, September 21, 2024\"}]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"pb-2\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-4xl font-extrabold leading-9 tracking-tight text-gray-900 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14\",\"children\":\"The Istio Service Mesh for People Who Have Stuff to Do\"}]}],[\"$\",\"div\",null,{\"className\":\"pb-2\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center justify-center\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"mr-2 text-xs uppercase tracking-wide text-gray-700\",\"children\":\"Tags\"}],[[\"$\",\"$Ld\",null,{\"href\":\"/blog/tags/istio\",\"title\":\"istio\",\"aria-label\":\"istio\",\"className\":\"mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400\",\"children\":\"istio\"}],[\"$\",\"$Ld\",null,{\"href\":\"/blog/tags/open-source\",\"title\":\"open-source\",\"aria-label\":\"open-source\",\"className\":\"mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400\",\"children\":\"open-source\"}],[\"$\",\"$Ld\",null,{\"href\":\"/blog/tags/service-mesh\",\"title\":\"service-mesh\",\"aria-label\":\"service-mesh\",\"className\":\"mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400\",\"children\":\"service-mesh\"}],[\"$\",\"$Ld\",null,{\"href\":\"/blog/tags/cncf\",\"title\":\"cncf\",\"aria-label\":\"cncf\",\"className\":\"mr-3 text-lg font-medium uppercase text-pink-500 hover:text-pink-400\",\"children\":\"cncf\"}]]]}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap justify-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex justify-center\",\"children\":[[\"$\",\"$L13\",null,{\"src\":\"/images/luca_cavallin.webp\",\"width\":38,\"height\":38,\"alt\":\"avatar\",\"className\":\"size-5 rounded-full\"}],[\"$\",\"dl\",null,{\"className\":\"whitespace-nowrap pl-3 text-base font-medium leading-5\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"className\":\"text-gray-900\",\"children\":\"Luca Cavallin\"}]]}]]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"divide-y divide-dashed divide-silver-100 pb-8 xl:gap-x-6 xl:divide-y-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"xl:pb-0\",\"children\":[[\"$\",\"div\",null,{\"className\":\"prose max-w-none pb-2 pt-10\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"I recently made a small contribution to \",[\"$\",\"strong\",null,{\"children\":\"Istio\"}],\", an open-source service mesh project. My contribution involved adding a few tests for one of the Istio CLI commands. If you want to check out the details, you can find the pull request \",[\"$\",\"$Ld\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/istio/istio/pull/51635\",\"children\":\"here\"}],\". It wasn't a huge change, but it was a great learning experience. Working on Istio helped me understand service meshes at a deeper level. I'm excited to contribute more. In this post, I'll explain what Istio is, why it's useful, and how it works.\"]}],[\"$\",\"h2\",null,{\"id\":\"what-is-istio\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#what-is-istio\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"What is Istio?\"]}],[\"$\",\"p\",null,{\"children\":[\"At its core, Istio is a \",[\"$\",\"strong\",null,{\"children\":\"service mesh\"}],\". A service mesh manages communication between microservices, taking care of things like routing traffic, securing communication, and providing observability. As your microservices grow in number, managing these interactions can get complicated. Istio automates many of these tasks, so you can focus on building your application instead of managing service-to-service communication.\"]}],[\"$\",\"h2\",null,{\"id\":\"why-use-istio\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#why-use-istio\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Why Use Istio?\"]}],[\"$\",\"p\",null,{\"children\":\"As your architecture becomes more complex, you'll face new challenges. Services need to communicate in a reliable, secure, and efficient way. Istio helps you do this in three key areas:\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Managing Traffic\"}],\": Istio gives you control over how traffic flows between services. You can split traffic between different versions of a service, reroute requests during deployments, or set up retry and timeout policies.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Securing Communication\"}],\": Istio makes it easy to enable \",[\"$\",\"strong\",null,{\"children\":\"mutual TLS (mTLS)\"}],\". This ensures that all communication between services is encrypted and authenticated, keeping unauthorized services out.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Observability\"}],\": Istio automatically collects metrics, logs, and traces, giving you real-time visibility into your services. This helps with monitoring, troubleshooting, and performance tuning.\"]}]}]]}],[\"$\",\"p\",null,{\"children\":\"These three areas—traffic management, security, and observability—are key to running a healthy microservices architecture, and Istio handles them with ease.\"}],[\"$\",\"h2\",null,{\"id\":\"managing-traffic-with-istio\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#managing-traffic-with-istio\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Managing Traffic with Istio\"]}],[\"$\",\"p\",null,{\"children\":\"One of Istio's main features is managing traffic between services. In a microservices setup, you might have multiple versions of a service running at the same time. For example, you might be testing a new version of your payment service and want to send most of the traffic to version 1, but route some traffic to version 2.\"}],[\"$\",\"p\",null,{\"children\":\"Here's an example of how you can use Istio to split traffic between two versions of a service:\"}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" networking.istio.io/v1alpha3\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" VirtualService\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" payments\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"hosts\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" payments.myapp.com\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"http\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"route\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"destination\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"host\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" payments\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"subset\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" v1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"weight\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"90\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"destination\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"host\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" payments\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"subset\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" v2\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"weight\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"In this example:\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"90% of traffic\"}],\" is sent to version 1 of the \",[\"$\",\"code\",null,{\"children\":\"payments\"}],\" service, and \",[\"$\",\"strong\",null,{\"children\":\"10%\"}],\" is sent to version 2.\"]}],[\"$\",\"li\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"hosts\"}],\" field specifies the domain for which the virtual service is applicable—in this case, \",[\"$\",\"code\",null,{\"children\":\"payments.myapp.com\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"route\"}],\" block defines how traffic is split between two subsets of the service: \",[\"$\",\"code\",null,{\"children\":\"v1\"}],\" (for version 1) and \",[\"$\",\"code\",null,{\"children\":\"v2\"}],\" (for version 2). The \",[\"$\",\"code\",null,{\"children\":\"weight\"}],\" field controls the traffic distribution.\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"This is useful for \",[\"$\",\"strong\",null,{\"children\":\"canary deployments\"}],\", where you test new features with a small percentage of users before rolling them out fully.\"]}],[\"$\",\"h3\",null,{\"id\":\"envoy-proxy-and-sidecar-containers\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#envoy-proxy-and-sidecar-containers\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Envoy Proxy and Sidecar Containers\"]}],[\"$\",\"p\",null,{\"children\":[\"Istio's \",[\"$\",\"strong\",null,{\"children\":\"data plane\"}],\" relies on the \",[\"$\",\"strong\",null,{\"children\":\"Envoy proxy\"}],\", a layer 7 proxy that manages all traffic between services. Every service in your mesh has its own \",[\"$\",\"strong\",null,{\"children\":\"sidecar proxy\"}],\", which sits next to the service and manages all its inbound and outbound traffic.\"]}],[\"$\",\"p\",null,{\"children\":\"Envoy allows you to apply traffic policies like retries, timeouts, and circuit breaking, all without changing your application code. It also collects detailed metrics about traffic flow, helping with monitoring and debugging.\"}],[\"$\",\"p\",null,{\"children\":[\"Because Envoy runs as a \",[\"$\",\"strong\",null,{\"children\":\"sidecar container\"}],\", it can enforce these rules and collect data without interfering with your application's logic. In short, Envoy acts as the \\\"traffic cop\\\" for all communication in your service mesh.\"]}],[\"$\",\"h2\",null,{\"id\":\"observability-seeing-whats-happening-in-your-system\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#observability-seeing-whats-happening-in-your-system\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Observability: Seeing What's Happening in Your System\"]}],[\"$\",\"p\",null,{\"children\":[\"Running a system with many microservices can make it hard to see what's going on. Istio's built-in \",[\"$\",\"strong\",null,{\"children\":\"observability\"}],\" features help you track metrics, logs, and traces for all communication between services. This is vital for monitoring the health of your system, spotting performance issues, and fixing bugs.\"]}],[\"$\",\"p\",null,{\"children\":\"Istio's observability tools give you a clear picture of how your system is working. You can detect problems early and make your services run more smoothly.\"}],[\"$\",\"h2\",null,{\"id\":\"security-enabling-mtls-and-access-control\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#security-enabling-mtls-and-access-control\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Security: Enabling mTLS and Access Control\"]}],[\"$\",\"p\",null,{\"children\":[\"Security is a big concern when managing microservices. Istio makes it easy to implement \",[\"$\",\"strong\",null,{\"children\":\"mutual TLS (mTLS)\"}],\", which encrypts all communication between services and ensures that services authenticate each other before exchanging data.\"]}],[\"$\",\"p\",null,{\"children\":[\"Istio also lets you set up \",[\"$\",\"strong\",null,{\"children\":\"access control policies\"}],\" to specify which services are allowed to communicate. This helps limit which services can interact, reducing your system's attack surface.\"]}],[\"$\",\"p\",null,{\"children\":[\"Here's an example of an Istio policy that allows only the \",[\"$\",\"code\",null,{\"children\":\"billing\"}],\" service to communicate with the \",[\"$\",\"code\",null,{\"children\":\"payments\"}],\" service:\"]}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" security.istio.io/v1beta1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" AuthorizationPolicy\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" payments\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"to\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"billing\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"selector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"matchLabels\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"app\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" payments\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"rules\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"from\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"source\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"principals\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"billing.myapp.com\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"In this policy:\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"selector\"}],\" specifies that this rule applies to the \",[\"$\",\"code\",null,{\"children\":\"payments\"}],\" service, using the label \",[\"$\",\"code\",null,{\"children\":\"app: payments\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"rules\"}],\" block allows only the \",[\"$\",\"code\",null,{\"children\":\"billing\"}],\" service, identified by the principal \",[\"$\",\"code\",null,{\"children\":\"\\\"billing.myapp.com\\\"\"}],\", to communicate with \",[\"$\",\"code\",null,{\"children\":\"payments\"}],\". No other service is permitted to send traffic to \",[\"$\",\"code\",null,{\"children\":\"payments\"}],\".\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"This policy restricts all services except \",[\"$\",\"code\",null,{\"children\":\"billing\"}],\" from accessing \",[\"$\",\"code\",null,{\"children\":\"payments\"}],\", tightening the security of your microservices.\"]}],[\"$\",\"h3\",null,{\"id\":\"what-is-spiffe\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#what-is-spiffe\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"What is SPIFFE?\"]}],[\"$\",\"p\",null,{\"children\":[\"Istio uses \",[\"$\",\"strong\",null,{\"children\":\"SPIFFE\"}],\" (Secure Production Identity Framework for Everyone) to manage service identities. SPIFFE provides a way to assign secure, verifiable identities to services. Each service in the mesh gets a \",[\"$\",\"strong\",null,{\"children\":\"SPIFFE Verifiable Identity Document (SVID)\"}],\", which is used along with mTLS to ensure secure communication. This identity system is the foundation of Istio's security model.\"]}],[\"$\",\"h2\",null,{\"id\":\"networking-in-istio\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#networking-in-istio\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Networking in Istio\"]}],[\"$\",\"p\",null,{\"children\":\"Networking in microservices can be difficult, especially when it comes to controlling traffic inside and outside the mesh. Istio provides several tools for managing network traffic:\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Service Entry\"}],\": Allows external services to communicate with services inside the mesh and the other way around.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Virtual Service\"}],\": Defines how traffic is routed inside the mesh.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Destination Rule\"}],\": Applies traffic policies, such as load balancing or mTLS, to the services.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Gateways\"}],\": Manages traffic coming into and going out of the mesh.\"]}]]}],[\"$\",\"h3\",null,{\"id\":\"example-configuration-gateway-service-entry-virtual-service-and-destination-rule\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#example-configuration-gateway-service-entry-virtual-service-and-destination-rule\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Example Configuration: Gateway, Service Entry, Virtual Service, and Destination Rule\"]}],[\"$\",\"p\",null,{\"children\":[\"Let's say you have an API server inside your mesh that receives traffic from the internet via a load balancer. Here's how you can configure a \",[\"$\",\"strong\",null,{\"children\":\"Gateway\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"Service Entry\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"Virtual Service\"}],\", and \",[\"$\",\"strong\",null,{\"children\":\"Destination Rule\"}],\" to handle this traffic.\"]}],[\"$\",\"h4\",null,{\"id\":\"gateway-configuration\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#gateway-configuration\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Gateway Configuration\"]}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" networking.istio.io/v1alpha3\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" Gateway\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" api\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"gateway\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"selector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"istio\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" ingressgateway\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"servers\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"port\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"80\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" http\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"protocol\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" HTTP\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"hosts\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"api.myapp.com\\\"\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"What is happening here? The \",[\"$\",\"strong\",null,{\"children\":\"Gateway\"}],\" listens on \",[\"$\",\"strong\",null,{\"children\":\"port 80\"}],\" for HTTP traffic coming to the domain \",[\"$\",\"code\",null,{\"children\":\"api.myapp.com\"}],\". The \",[\"$\",\"code\",null,{\"children\":\"selector\"}],\" field connects this Gateway to the \",[\"$\",\"strong\",null,{\"children\":\"Istio ingress gateway\"}],\", which handles inbound traffic to the mesh.\"]}],[\"$\",\"h4\",null,{\"id\":\"service-entry-configuration\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#service-entry-configuration\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Service Entry Configuration\"]}],[\"$\",\"p\",null,{\"children\":[\"Let's say your API server needs to call an external authentication service. Here's how you would configure a \",[\"$\",\"strong\",null,{\"children\":\"Service Entry\"}],\":\"]}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" networking.istio.io/v1alpha3\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" ServiceEntry\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" auth\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"entry\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"hosts\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"auth.external-service.com\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"location\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" MESH_EXTERNAL\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"ports\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"443\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" https\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"protocol\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" HTTPS\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"resolution\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" DNS\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"endpoints\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"address\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" 203.0.113.1\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"What is happening here? The \",[\"$\",\"strong\",null,{\"children\":\"Service Entry\"}],\" tells Istio how to route traffic to an external service (\",[\"$\",\"code\",null,{\"children\":\"auth.external-service.com\"}],\"), which runs on \",[\"$\",\"strong\",null,{\"children\":\"port 443\"}],\" (HTTPS). The \",[\"$\",\"code\",null,{\"children\":\"location: MESH_EXTERNAL\"}],\" indicates that this service exists outside the Istio service mesh. The \",[\"$\",\"code\",null,{\"children\":\"endpoints\"}],\" field includes the external service's IP address, allowing the API server inside the mesh to send requests.\"]}],[\"$\",\"h4\",null,{\"id\":\"virtual-service-configuration\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#virtual-service-configuration\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Virtual Service Configuration\"]}],[\"$\",\"p\",null,{\"children\":\"Here's how you can route traffic within the mesh:\"}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" networking.istio.io/v1alpha3\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" VirtualService\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" api\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"virtualservice\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"hosts\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"api.myapp.com\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"gateways\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" api\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"gateway\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"http\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"match\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"uri\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"prefix\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"/v1\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"route\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"destination\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"host\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" api\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"subset\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" stable\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"What is happening here? The \",[\"$\",\"strong\",null,{\"children\":\"Virtual Service\"}],\" defines the traffic routing rules. In this case, traffic arriving at \",[\"$\",\"code\",null,{\"children\":\"api.myapp.com/v1\"}],\" through the \",[\"$\",\"code\",null,{\"children\":\"api-gateway\"}],\" is routed to the \",[\"$\",\"code\",null,{\"children\":\"api-service\"}],\" in the mesh. The \",[\"$\",\"code\",null,{\"children\":\"subset: stable\"}],\" refers to a specific version of the \",[\"$\",\"code\",null,{\"children\":\"api-service\"}],\" (you can have multiple versions of the same service).\"]}],[\"$\",\"h4\",null,{\"id\":\"destination-rule-configuration\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#destination-rule-configuration\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Destination Rule Configuration\"]}],[\"$\",\"p\",null,{\"children\":[\"Lastly, here's a \",[\"$\",\"strong\",null,{\"children\":\"Destination Rule\"}],\" to apply load balancing and mTLS:\"]}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" networking.istio.io/v1alpha3\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" DestinationRule\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" api\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"destination\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"rule\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"host\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" api\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"trafficPolicy\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"loadBalancer\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"simple\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" ROUND_ROBIN\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"tls\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"mode\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" ISTIO_MUTUAL\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"What is happening here? The \",[\"$\",\"strong\",null,{\"children\":\"Destination Rule\"}],\" applies policies to the traffic routed to the \",[\"$\",\"code\",null,{\"children\":\"api-service\"}],\". It uses \",[\"$\",\"strong\",null,{\"children\":\"round-robin\"}],\" load balancing to distribute requests evenly across instances. \",[\"$\",\"strong\",null,{\"children\":\"mTLS\"}],\" is enabled with \",[\"$\",\"code\",null,{\"children\":\"tls.mode: ISTIO_MUTUAL\"}],\", ensuring encrypted communication between services.\"]}],[\"$\",\"h3\",null,{\"id\":\"resiliency-handling-failures-with-retries-timeouts-and-circuit-breakers\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#resiliency-handling-failures-with-retries-timeouts-and-circuit-breakers\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Resiliency: Handling Failures with Retries, Timeouts, and Circuit Breakers\"]}],[\"$\",\"p\",null,{\"children\":[\"In distributed systems, failures happen. Services might go down, networks might get slow, or users might experience delays. Istio helps you handle these problems with \",[\"$\",\"strong\",null,{\"children\":\"retries\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"timeouts\"}],\", and \",[\"$\",\"strong\",null,{\"children\":\"circuit breakers\"}],\".\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Retries\"}],\": Automatically retries failed requests to handle temporary failures without disrupting the user experience.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Timeouts\"}],\": Defines how long a service should wait for a response before giving up and moving on.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Circuit breakers\"}],\": If a service is failing, Istio can stop sending traffic to it, preventing cascading failures that might bring down other parts of the system.\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Here's an example of how to configure retries and timeouts in Istio:\"}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" networking.istio.io/v1alpha3\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" VirtualService\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" my\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"hosts\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" my\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"http\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"route\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"destination\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"host\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" my\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"retries\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"attempts\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"perTryTimeout\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" 2s\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"timeout\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" 5s\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"What is happening here? If a request to \",[\"$\",\"code\",null,{\"children\":\"my-service\"}],\" fails, Istio will retry the request up to \",[\"$\",\"strong\",null,{\"children\":\"3 times\"}],\". Each retry attempt has a \",[\"$\",\"strong\",null,{\"children\":\"2-second limit\"}],\". The total time allowed for a request is \",[\"$\",\"strong\",null,{\"children\":\"5 seconds\"}],\". After this, Istio will stop waiting for a response.\"]}],[\"$\",\"p\",null,{\"children\":[\"For circuit breaking, you can use a \",[\"$\",\"strong\",null,{\"children\":\"Destination Rule\"}],\" like this:\"]}],[\"$\",\"$L14\",null,{\"className\":\"language-yaml\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-yaml code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" networking.istio.io/v1alpha3\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"kind\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" DestinationRule\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" my\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"spec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"host\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" my\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\"}],\"service\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"trafficPolicy\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"connectionPool\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"tcp\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"maxConnections\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"http\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"http1MaxPendingRequests\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"outlierDetection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"consecutive5xxErrors\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"interval\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" 10s\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"baseEjectionTime\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" 30s\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token atrule key\",\"children\":\"maxEjectionPercent\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"What is happening here? If \",[\"$\",\"code\",null,{\"children\":\"my-service\"}],\" returns \",[\"$\",\"strong\",null,{\"children\":\"two consecutive 5xx errors\"}],\" within \",[\"$\",\"strong\",null,{\"children\":\"10 seconds\"}],\", Istio will stop sending traffic to it. The service will be ejected from the load balancing pool for \",[\"$\",\"strong\",null,{\"children\":\"30 seconds\"}],\" before being reconsidered.\"]}],[\"$\",\"h3\",null,{\"id\":\"summary\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"#summary\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Summary\"]}],[\"$\",\"p\",null,{\"children\":\"Istio is a powerful tool that simplifies traffic management, security, and observability for microservices. Contributing to Istio gave me insight into how it helps solve some of the complex challenges that come with running distributed systems.\"}],[\"$\",\"p\",null,{\"children\":\"If you're running a microservices architecture or planning to scale, Istio can help you make your system more resilient and easier to manage. If you have any questions or want to learn more about Istio, feel free to reach out—I'd be happy to share what I've learned.\"}]]}],[\"$\",\"div\",null,{}]]}]}]]}]}]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"The Istio Service Mesh for People Who Have Stuff to Do | Blog | Luca Cavallin\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"I recently made a contribution to Istio, an open-source service mesh that simplifies managing microservices. In this post, I explain how Istio handles traffic routing, security with mTLS, and observability, making complex systems more resilient and efficient.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://www.lucavall.in\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"Luca Cavallin\"}],[\"$\",\"link\",\"6\",{\"rel\":\"manifest\",\"href\":\"/manifest.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"meta\",\"7\",{\"name\":\"creator\",\"content\":\"Luca Cavallin\"}],[\"$\",\"meta\",\"8\",{\"name\":\"publisher\",\"content\":\"Luca Cavallin\"}],[\"$\",\"meta\",\"9\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"10\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"11\",{\"rel\":\"canonical\",\"href\":\"https://www.lucavall.in/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do\"}],[\"$\",\"link\",\"12\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://www.lucavall.in/feed.xml\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:title\",\"content\":\"The Istio Service Mesh for People Who Have Stuff to Do | Blog\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:description\",\"content\":\"I recently made a contribution to Istio, an open-source service mesh that simplifies managing microservices. In this post, I explain how Istio handles traffic routing, security with mTLS, and observability, making complex systems more resilient and efficient.\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:url\",\"content\":\"https://www.lucavall.in/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:site_name\",\"content\":\"Luca Cavallin\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:image\",\"content\":\"https://www.lucavall.in/images/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do/cover.webp\"}],[\"$\",\"meta\",\"19\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:published_time\",\"content\":\"2024-09-21T00:00:00.000Z\"}],[\"$\",\"meta\",\"21\",{\"property\":\"article:modified_time\",\"content\":\"2024-09-21T00:00:00.000Z\"}],[\"$\",\"meta\",\"22\",{\"property\":\"article:author\",\"content\":\"Luca Cavallin\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"24\",{\"name\":\"twitter:title\",\"content\":\"The Istio Service Mesh for People Who Have Stuff to Do | Blog\"}],[\"$\",\"meta\",\"25\",{\"name\":\"twitter:description\",\"content\":\"I recently made a contribution to Istio, an open-source service mesh that simplifies managing microservices. In this post, I explain how Istio handles traffic routing, security with mTLS, and observability, making complex systems more resilient and efficient.\"}],[\"$\",\"meta\",\"26\",{\"name\":\"twitter:image\",\"content\":\"https://www.lucavall.in/images/blog/the-istio-service-mesh-for-people-who-have-stuff-to-do/cover.webp\"}],[\"$\",\"link\",\"27\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"28\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?0c30cc317c29bf5e\",\"type\":\"image/png\",\"sizes\":\"180x180\"}],[\"$\",\"meta\",\"29\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script></body></html>