# 10 ä¸ªä½ å¯èƒ½ä¸çŸ¥é“çš„ Kubernetes å¿…å¤‡å·¥å…·

## ç®€ä»‹

éšç€ Kubernetes è¿æ¥ 10 å‘¨å¹´åº†ï¼Œå…¶é‡‡ç”¨ç‡å’Œç”Ÿæ€ç³»ç»Ÿå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚åœ¨ GitHub ä¸Šæ‹¥æœ‰è¶…è¿‡ **100,000** ä¸ªæ˜Ÿæ ‡ï¼ŒKubernetes å·²æˆä¸ºäº‘åŸç”Ÿç”Ÿæ€ç³»ç»Ÿçš„æ”¯æŸ±ï¼Œèƒ½å¤Ÿå®ç°å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å¯æ‰©å±•å’Œé«˜æ•ˆç®¡ç†ã€‚æœ€æ–°ç‰ˆæœ¬ [Kubernetes 1.30](https://kubernetes.io/blog/2024/04/17/kubernetes-v1-30-release/) å¼•å…¥äº†è®¸å¤šæ–°åŠŸèƒ½å’Œæ”¹è¿›ï¼Œè¿›ä¸€æ­¥å·©å›ºäº†å…¶ä½œä¸ºé¢†å…ˆçš„å®¹å™¨ç¼–æ’å¹³å°çš„åœ°ä½ã€‚

ç„¶è€Œï¼Œè¦çœŸæ­£å‘æŒ¥ Kubernetes çš„å¼ºå¤§åŠŸèƒ½ï¼Œå¿…é¡»ä½¿ç”¨åˆé€‚çš„å·¥å…·ã€‚åœ¨æœ¬åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨åä¸ªé²œä¸ºäººçŸ¥ä½†éå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå®ƒä»¬å¯ä»¥å¢å¼ºæ‚¨çš„ Kubernetes ä½“éªŒã€‚ä»é…ç½®é—®é¢˜æ£€æµ‹åˆ°ç½‘ç»œå¯è§‚æµ‹æ€§ï¼Œè¿™äº›å·¥å…·å°†å¸®åŠ©æ‚¨æ›´æœ‰æ•ˆåœ°ç®¡ç†é›†ç¾¤ã€‚æ— è®ºæ‚¨æ˜¯ç»éªŒä¸°å¯Œçš„ Kubernetes ç”¨æˆ·è¿˜æ˜¯åˆšå…¥é—¨ï¼Œæ‚¨éƒ½ä¼šå‘ç°å®è´µçš„è§è§£å’Œå®ç”¨æŠ€å·§ï¼Œä»¥ä¼˜åŒ–æ‚¨çš„ Kubernetes å·¥ä½œæµç¨‹ã€‚

è®©æˆ‘ä»¬æ·±å…¥äº†è§£è¿™äº›å·¥å…·ï¼Œè®©æ‚¨çš„ Kubernetes æŠ€èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ï¼

## å·¥å…·ç±»åˆ«

æˆ‘ä»¬å°†è¦è®¨è®ºçš„æ¯ä¸ªé¡¹ç›®éƒ½å±äºä¸€ä¸ªç±»åˆ«ã€‚è¿™äº›ç±»åˆ«æœ‰åŠ©äºåœ¨ Kubernetes ä¸Šè¿›è¡Œè®¾ç½®ã€ç®¡ç†å’Œå¼€å‘ã€‚æˆ‘æ•…æ„é¿å…äº†å¯è§‚æµ‹æ€§é¢†åŸŸä¸­åƒ Prometheus/Grafana è¿™æ ·çŸ¥åä¸”æˆç†Ÿçš„é¡¹ç›®ï¼Œæˆ–ç½‘ç»œé¢†åŸŸçš„ Ciliumã€‚ç›¸åï¼Œæˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨é‚£äº›å¯èƒ½ä¸å¤ªä¸ºäººæ‰€çŸ¥ä½†èƒ½ä¸º Kubernetes ç”¨æˆ·å¸¦æ¥æ˜¾è‘—ç›Šå¤„çš„å·¥å…·ã€‚

## 1. Popeye

**ä»“åº“é“¾æ¥**: [Popeye](https://github.com/derailed/popeye)

**ç±»åˆ«**: é…ç½®é—®é¢˜æ£€æµ‹

**æè¿°**: Popeye æ˜¯ä¸€ä¸ª Kubernetes é›†ç¾¤æ¸…ç†å™¨ã€‚å®ƒä¼šæ‰«ææ‚¨çš„ Kubernetes èµ„æºå¹¶æŠ¥å‘Šé›†ç¾¤ä¸­æ½œåœ¨çš„é—®é¢˜å’Œé”™è¯¯é…ç½®ã€‚Popeye æ—¨åœ¨ä¸»åŠ¨é¢„é˜²ï¼Œé€šè¿‡å®šæœŸæ‰«æå’Œå®¡æ ¸æ‚¨çš„éƒ¨ç½²ã€é…ç½®å’Œèµ„æºå®šä¹‰ï¼Œç¡®ä¿æ‚¨çš„é›†ç¾¤å¹²å‡€ä¸”ç¬¦åˆ Kubernetes æœ€ä½³å®è·µã€‚

**è§£å†³çš„é—®é¢˜**: Kubernetes é›†ç¾¤éšç€æ—¶é—´çš„æ¨ç§»å¯èƒ½ä¼šå˜å¾—æ‚ä¹±æ— ç« ä¸”é…ç½®é”™è¯¯ï¼Œä»è€Œå¯¼è‡´æ½œåœ¨çš„ç¨³å®šæ€§å’Œæ€§èƒ½é—®é¢˜ã€‚Popeye å¸®åŠ©è¯†åˆ«è¿™äº›é”™è¯¯é…ç½®ï¼Œä¾‹å¦‚å·²å¼ƒç”¨çš„ API ç‰ˆæœ¬ã€ç¼ºå°‘çš„èµ„æºå’Œå®‰å…¨æ¼æ´ã€‚é€šè¿‡è§£å†³è¿™äº›é—®é¢˜ï¼ŒPopeye æœ‰åŠ©äºç»´æŠ¤é›†ç¾¤çš„å¥åº·å’Œæ€§èƒ½ï¼Œç¡®ä¿å®ƒä»¬å¹³ç¨³é«˜æ•ˆåœ°è¿è¡Œã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦åœ¨å½“å‰ Kubernetes ä¸Šä¸‹æ–‡ä¸­è¿è¡Œæ‰«æå¹¶æ‰«ææ‰€æœ‰å‘½åç©ºé—´ï¼Œåªéœ€ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```
popeye -A -s cm
```

## 2. KUTTL

**ä»“åº“é“¾æ¥**: [KUTTL](https://github.com/kudobuilder/kuttl)

**ç±»åˆ«**: æµ‹è¯•

**æè¿°**: `KUTTL` (Kubernetes æµ‹è¯•å·¥å…·åŒ…) æ˜¯ä¸€å¥—å…¨é¢çš„å·¥å…·é›†ï¼Œä¸“ä¸ºæµ‹è¯•æ‚¨çš„ Kubernetes åº”ç”¨ç¨‹åºè€Œè®¾è®¡ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€å•ä¸”å£°æ˜å¼çš„æ¡†æ¶æ¥ç¼–å†™ã€è¿è¡Œå’Œç®¡ç†æµ‹è¯•ï¼Œç¡®ä¿æ‚¨çš„ Kubernetes é…ç½®å’Œåº”ç”¨ç¨‹åºæŒ‰é¢„æœŸè¿è¡Œã€‚

**è§£å†³çš„é—®é¢˜**: æµ‹è¯• Kubernetes é…ç½®å’Œåº”ç”¨ç¨‹åºå¯èƒ½å¾ˆå¤æ‚ä¸”å®¹æ˜“å‡ºé”™ã€‚`KUTTL` é€šè¿‡æä¾›ä¸€ä¸ªä¸ Kubernetes æ— ç¼é›†æˆçš„å£°æ˜å¼æµ‹è¯•æ¡†æ¶æ¥ç®€åŒ–æ­¤è¿‡ç¨‹ã€‚å®ƒå…è®¸æ‚¨å®šä¹‰æµ‹è¯•åœºæ™¯å’Œé¢„æœŸç»“æœï¼Œä½¿æ‚¨æ›´å®¹æ˜“éªŒè¯é…ç½®å¹¶åœ¨å¼€å‘å‘¨æœŸçš„æ—©æœŸå‘ç°é—®é¢˜ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `KUTTL` åˆ›å»ºå’Œè¿è¡Œæµ‹è¯•ï¼Œæ‚¨å¯ä»¥åœ¨ YAML æ–‡ä»¶ä¸­å®šä¹‰æµ‹è¯•ç”¨ä¾‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•æµ‹è¯•ç”¨ä¾‹çš„ç¤ºä¾‹ï¼š

åˆ›å»ºæµ‹è¯•ç›®å½•ç»“æ„ï¼š

```
my-tests/
â”œâ”€â”€ 00-setup.yaml
â”œâ”€â”€ 01-verify.yaml
â”œâ”€â”€ kuttl-test.yaml
```

åœ¨ `00-setup.yaml` ä¸­å®šä¹‰æµ‹è¯•æ­¥éª¤ï¼š

```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: my-config
data:
  key: value
```

åœ¨ `01-verify.yaml` ä¸­å®šä¹‰é¢„æœŸç»“æœï¼š

```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: my-config
data:
  key: value
```

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œæµ‹è¯•ï¼š

```
kuttl test my-tests/
```

æ­¤å‘½ä»¤å°†æ‰§è¡Œæµ‹è¯•æ­¥éª¤å¹¶éªŒè¯æ‚¨åœ¨ YAML æ–‡ä»¶ä¸­å®šä¹‰çš„ç»“æœã€‚

## 3. Kubescape

**ä»“åº“é“¾æ¥**: [Kubescape](https://github.com/kubescape/kubescape)

**ç±»åˆ«**: å®‰å…¨ç­›é€‰

**æè¿°**: `Kubescape` æ˜¯ä¸€ä¸ªç”¨äº Kubernetes é›†ç¾¤çš„å®‰å…¨æ‰«æå·¥å…·ã€‚å®ƒé€šè¿‡æ‰«ææ¼æ´ã€é”™è¯¯é…ç½®å’Œå¯¹å®‰å…¨æ ‡å‡†çš„åˆè§„æ€§ï¼Œæä¾›å¯¹é›†ç¾¤å®‰å…¨æ€åŠ¿çš„å…¨é¢è¯„ä¼°ã€‚`Kubescape` åˆ©ç”¨è¡Œä¸šæœ€ä½³å®è·µå’Œæ¡†æ¶ï¼Œä¾‹å¦‚ NSA Kubernetes åŠ å›ºæŒ‡å—ï¼Œä»¥ç¡®ä¿æ‚¨çš„é›†ç¾¤æ»¡è¶³ä¸¥æ ¼çš„å®‰å…¨è¦æ±‚ã€‚

**è§£å†³çš„é—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨è‡³å…³é‡è¦ï¼Œä½†ç”±äºç¯å¢ƒçš„å¤æ‚æ€§å’ŒåŠ¨æ€æ€§ï¼Œè¿™å¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ã€‚`Kubescape`
é€šè¿‡æä¾›è‡ªåŠ¨å®‰å…¨æ‰«ææ¥ç®€åŒ–æ­¤ä»»åŠ¡ï¼Œè¿™äº›æ‰«æå¯ä»¥è¯†åˆ«æ¼æ´ã€é”™è¯¯é…ç½®å’Œåˆè§„æ€§é—®é¢˜ã€‚è¿™æœ‰åŠ©äºç®¡ç†å‘˜ç»´æŠ¤å®‰å…¨ä¸”åˆè§„çš„ Kubernetes ç¯å¢ƒï¼Œé™ä½å®‰å…¨æ¼æ´å’Œä¸åˆè§„çš„é£é™©ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦å¯¹æ‚¨çš„ Kubernetes é›†ç¾¤æ‰§è¡Œå®‰å…¨æ‰«æï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

`kubescape scan framework nsa --exclude-namespaces kube-system`

æ­¤å‘½ä»¤å°†æ ¹æ® NSA Kubernetes åŠ å›ºæŒ‡å—æ¡†æ¶æ‰«ææ‚¨çš„é›†ç¾¤ï¼Œæ’é™¤ `kube-system` å‘½åç©ºé—´ã€‚

**ç¤ºä¾‹è¾“å‡º**:

ğŸ“– äº†è§£æ›´å¤šå…³äº [Kubernetes å®‰å…¨åŠ å›º](https://kubernetes.io/docs/tasks/administer-cluster/securing-cluster/)

# 4. Mirrord

**ä»“åº“é“¾æ¥**: [mirrord](https://github.com/metalbear-co/mirrord)

**ç±»åˆ«**: è¿œç¨‹å¼€å‘

**æè¿°**: `mirrord` æ˜¯ä¸€ä¸ªè¿œç¨‹å¼€å‘å·¥å…·ï¼Œå…è®¸å¼€å‘äººå‘˜åœ¨ Kubernetes é›†ç¾¤çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œæœ¬åœ°è¿›ç¨‹ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨æœ¬åœ°å¼€å‘å’Œè°ƒè¯•åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶å®ƒä»¬ä¸å®æ—¶ Kubernetes èµ„æºäº¤äº’ï¼Œå°±å¥½åƒå®ƒä»¬åœ¨é›†ç¾¤ä¸­è¿è¡Œä¸€æ ·ã€‚`mirrord` é€šè¿‡åœ¨æœ¬åœ°å’Œè¿œç¨‹ç¯å¢ƒä¹‹é—´æä¾›æ— ç¼æ¡¥æ¢æ¥ç®€åŒ–å¼€å‘è¿‡ç¨‹ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: å¼€å‘å’Œè°ƒè¯•åœ¨ Kubernetes ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºå¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œå› ä¸ºæœ¬åœ°ç¯å¢ƒå’Œé›†ç¾¤ç¯å¢ƒä¹‹é—´å­˜åœ¨å·®å¼‚ã€‚`mirrord` é€šè¿‡å…è®¸å¼€å‘äººå‘˜åœ¨æœ¬åœ°è¿è¡Œåº”ç”¨ç¨‹åºï¼ŒåŒæ—¶ä¸ Kubernetes é›†ç¾¤æ— ç¼äº¤äº’æ¥è§£å†³æ­¤é—®é¢˜ã€‚è¿™æœ‰åŠ©äºæ›´å¿«åœ°è°ƒè¯•ã€æµ‹è¯•å’Œå¼€å‘ï¼Œå› ä¸ºå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ä»–ä»¬ç†Ÿæ‚‰çš„æœ¬åœ°å·¥å…·å’Œç¯å¢ƒï¼Œè€Œæ— éœ€å°†ä»–ä»¬çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°é›†ç¾¤ä»¥è¿›è¡Œæ¯æ¬¡æ›´æ”¹ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `mirrord` åœ¨ Kubernetes é›†ç¾¤çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œæœ¬åœ°è¿›ç¨‹ï¼š

```
mirrord exec --target-namespace devops-team \
--target deployment/foo-app-deployment \
nodemon server.js
```

æœ‰å…³è¯¦ç»†æŒ‡å—å’Œæ›´å¤šç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥å‚è€ƒ [æˆ‘ä¹‹å‰çš„åšå®¢æ–‡ç« ](https://medium.com/swlh/remote-development-with-mirrord-a-guide-for-kubernetes-developers-94892122654) å…³äºä½¿ç”¨ `mirrord` è¿›è¡Œè¿œç¨‹å¼€å‘ã€‚

# 5. Kube-linter

**ä»“åº“é“¾æ¥**: [Kube-linter](https://github.com/stackrox/kube-linter)

**ç±»åˆ«**: ä»£ç é£æ ¼æ£€æŸ¥

**æè¿°**: `Kube-linter` æ˜¯ä¸€ä¸ªé™æ€åˆ†æå·¥å…·ï¼Œå®ƒæ£€æŸ¥ Kubernetes YAML æ–‡ä»¶å’Œ Helm å›¾è¡¨ä»¥ç¡®ä¿å®ƒä»¬ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æŒ‡å—ã€‚å®ƒå¯ä»¥å¸®åŠ©æ‚¨åœ¨éƒ¨ç½²èµ„æºä¹‹å‰å‘ç°æ½œåœ¨é—®é¢˜ï¼Œç¡®ä¿æ‚¨çš„ Kubernetes é…ç½®å®‰å…¨é«˜æ•ˆã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¼–å†™ Kubernetes é…ç½®å¯èƒ½å¾ˆå¤æ‚ï¼Œå³ä½¿æ˜¯å¾®å°çš„é”™è¯¯ä¹Ÿä¼šå¯¼è‡´ç”Ÿäº§ç¯å¢ƒä¸­å‡ºç°é‡å¤§é—®é¢˜ã€‚`Kube-linter` é€šè¿‡åˆ†ææ‚¨çš„ YAML æ–‡ä»¶å’Œ Helm å›¾è¡¨ä»¥æŸ¥æ‰¾å¸¸è§é”™è¯¯ã€å®‰å…¨é£é™©å’Œä¸æœ€ä½³å®è·µçš„åå·®æ¥è§£å†³æ­¤é—®é¢˜ã€‚è¿™ç§ä¸»åŠ¨æ–¹æ³•å¯ä»¥å¸®åŠ©æ‚¨åœ¨å¼€å‘å‘¨æœŸçš„æ—©æœŸè¯†åˆ«å’Œè§£å†³é—®é¢˜ï¼Œä»è€Œæé«˜ Kubernetes éƒ¨ç½²çš„æ•´ä½“è´¨é‡å’Œå®‰å…¨æ€§ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-linter` æ£€æŸ¥æ‚¨çš„ Kubernetes æ¸…å•ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-linter lint 1-create-deployment.yaml`

# 6. k3d

**ä»“åº“é“¾æ¥**: [k3d](https://github.com/k3d-io/k3d)

**ç±»åˆ«**: é…ç½®

**æè¿°**: `k3d` æ˜¯ä¸€ä¸ªè½»é‡çº§åŒ…è£…å™¨ï¼Œç”¨äºåœ¨ Docker ä¸­è¿è¡Œ `k3s` ï¼ˆä¸€ä¸ªè½»é‡çº§ Kubernetes å‘è¡Œç‰ˆï¼‰ã€‚å®ƒå…è®¸æ‚¨åœ¨ Docker å®¹å™¨å†…åˆ›å»ºå’Œç®¡ç† Kubernetes é›†ç¾¤ï¼Œæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥è®¾ç½®å’Œè¿è¡Œ `k3s` é›†ç¾¤ï¼Œç”¨äºå¼€å‘ã€æµ‹è¯•å’Œ CI/CD ç›®çš„ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¸ºæœ¬åœ°å¼€å‘å’Œæµ‹è¯•è®¾ç½®å’Œç®¡ç† Kubernetes é›†ç¾¤å¯èƒ½å¾ˆéº»çƒ¦ä¸”èµ„æºå¯†é›†ã€‚`k3d` é€šè¿‡ä½¿æ‚¨èƒ½å¤Ÿåœ¨ Docker å®¹å™¨å†…è¿è¡Œ `k3s` é›†ç¾¤æ¥ç®€åŒ–æ­¤è¿‡ç¨‹ã€‚è¿™ç§æ–¹æ³•å‡å°‘äº†è®¾ç½®å®Œæ•´è™šæ‹Ÿæœºæˆ–ç‰©ç†æœåŠ¡å™¨çš„å¼€é”€ï¼Œä½¿åœ¨æœ¬åœ°æœºå™¨ä¸Šåˆ›å»ºå’Œç®¡ç† Kubernetes é›†ç¾¤å˜å¾—æ›´åŠ å®¹æ˜“å’Œå¿«æ·ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `k3d` åˆ›å»ºä¸€ä¸ªæ–°çš„ `k3s` é›†ç¾¤ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

`k3d cluster create mycluster`

# 7. Kubeshark

**ä»“åº“é“¾æ¥**: [Kubeshark](https://github.com/kubeshark/kubeshark)

**ç±»åˆ«**: ç½‘ç»œå¯è§‚æµ‹æ€§

**æè¿°**: `Kubeshark` æ˜¯ Kubernetes çš„ API æµé‡åˆ†æå™¨ï¼Œæä¾›å¯¹ Kubernetes ç½‘ç»œé€šä¿¡çš„æ·±å…¥å¯è§æ€§ã€‚å®ƒæ•è·ã€è§£æå’Œå¯è§†åŒ–é›†ç¾¤ä¸­çš„ç½‘ç»œæµé‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§å’Œè°ƒè¯•å¾®æœåŠ¡ä¹‹é—´çš„äº¤äº’ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: äº†è§£å’Œè°ƒè¯• Kubernetes é›†ç¾¤ä¸­çš„ç½‘ç»œé€šä¿¡å¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤æ‚çš„å¾®æœåŠ¡ç¯å¢ƒä¸­ã€‚`Kubeshark` é€šè¿‡æä¾›å¯¹é›†ç¾¤å†… API æµé‡çš„å…¨é¢è§†å›¾æ¥è§£å†³æ­¤é—®é¢˜ã€‚è¿™æœ‰åŠ©äºå¼€å‘äººå‘˜å’Œè¿è¥äººå‘˜æ·±å…¥äº†è§£æœåŠ¡äº¤äº’ã€æ£€æµ‹å¼‚å¸¸å¹¶æ›´æœ‰æ•ˆåœ°è§£å†³ç½‘ç»œé—®é¢˜ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kubeshark` å¼€å§‹æ•è·æµé‡ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubeshark tap`

# 8. kubectl-tree

**ä»“åº“é“¾æ¥**: [kubectl-tree](https://github.com/kelseyhightower/kubectl-tree)

**ç±»åˆ«**: å·¥å…·

**æè¿°**: `kubectl-tree` æ˜¯ä¸€ä¸ª `kubectl` æ’ä»¶ï¼Œå®ƒä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤º Kubernetes èµ„æºã€‚å®ƒæä¾›äº†ä¸€ç§ç›´è§‚çš„æ–¹å¼æ¥æŸ¥çœ‹å’Œå¯¼èˆªæ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°äº†è§£èµ„æºä¹‹é—´çš„å…³ç³»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä½¿ç”¨ `kubectl get` å‘½ä»¤æŸ¥çœ‹ Kubernetes èµ„æºå¯èƒ½å¾ˆéº»çƒ¦ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹é›†ç¾¤ä¸­ã€‚`kubectl-tree` é€šè¿‡ä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºèµ„æºæ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´è½»æ¾åœ°ç†è§£èµ„æºä¹‹é—´çš„å…³ç³»å¹¶å¯¼èˆªæ‚¨çš„é›†ç¾¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `kubectl-tree` æŸ¥çœ‹æ‚¨çš„ Kubernetes èµ„æºï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl tree`

# 9. Kubecost

**ä»“åº“é“¾æ¥**: [Kubecost](https://github.com/kubecost/kubecost)

**ç±»åˆ«**: æˆæœ¬ä¼˜åŒ–

**æè¿°**: `Kubecost` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè·Ÿè¸ªå’Œä¼˜åŒ– Kubernetes é›†ç¾¤çš„æˆæœ¬ã€‚å®ƒæä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µçš„æ·±å…¥åˆ†æï¼Œä½¿æ‚¨èƒ½å¤Ÿè¯†åˆ«æˆæœ¬æµªè´¹å¹¶é‡‡å–æªæ–½é™ä½æˆæœ¬ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¼˜åŒ– Kubernetes é›†ç¾¤çš„æˆæœ¬å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kubecost` é€šè¿‡æä¾›å¯¹èµ„æºä½¿ç”¨æƒ…å†µçš„è¯¦ç»†åˆ†ææ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè¯†åˆ«æˆæœ¬æµªè´¹å¹¶é‡‡å–æªæ–½é™ä½æˆæœ¬ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kubecost` è·Ÿè¸ªå’Œä¼˜åŒ–æ‚¨çš„ Kubernetes é›†ç¾¤çš„æˆæœ¬ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubecost install`

# 10. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 11. Kubefwd

**ä»“åº“é“¾æ¥**: [Kubefwd](https://github.com/kubernetes-sigs/kubefwd)

**ç±»åˆ«**: è°ƒè¯•

**æè¿°**: `Kubefwd` æ˜¯ä¸€ä¸ª `kubectl` æ’ä»¶ï¼Œå®ƒå…è®¸æ‚¨å°†æœ¬åœ°ç«¯å£è½¬å‘åˆ° Kubernetes é›†ç¾¤ä¸­çš„æœåŠ¡ã€‚è¿™ä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°è°ƒè¯•å’Œæµ‹è¯•åœ¨é›†ç¾¤ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: è°ƒè¯•åœ¨ Kubernetes é›†ç¾¤ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºå¯èƒ½å¾ˆå›°éš¾ï¼Œå› ä¸ºæ‚¨æ— æ³•ç›´æ¥è®¿é—®åº”ç”¨ç¨‹åºçš„ç«¯å£ã€‚`Kubefwd` é€šè¿‡å°†æœ¬åœ°ç«¯å£è½¬å‘åˆ°é›†ç¾¤ä¸­çš„æœåŠ¡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°è°ƒè¯•å’Œæµ‹è¯•åº”ç”¨ç¨‹åºã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kubefwd` å°†æœ¬åœ°ç«¯å£è½¬å‘åˆ° Kubernetes é›†ç¾¤ä¸­çš„æœåŠ¡ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl kubefwd service my-service --local-port 8080`

# 12. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 13. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 14. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 15. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 16. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 17. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 18. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 19. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 20. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 21. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 22. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 23. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 24. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 25. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 26. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 27. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 28. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 29. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 30. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 31. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 32. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 33. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 34. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 35. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 36. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 37. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 38. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 39. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 40. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 41. Kube-prometheus

**ä»“åº“é“¾æ¥**: [Kube-prometheus](https://github.com/prometheus-community/kube-prometheus)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-prometheus` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ç›‘æ§æ‚¨çš„é›†ç¾¤ï¼Œå¹¶æä¾›å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-prometheus` é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥éƒ¨ç½² Prometheus å’Œ Grafana æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿè½»æ¾åœ°ç›‘æ§æ‚¨çš„é›†ç¾¤å¹¶è·å¾—å¯¹é›†ç¾¤èµ„æºä½¿ç”¨æƒ…å†µã€æ€§èƒ½å’Œå¥åº·çŠ¶å†µçš„æ·±å…¥åˆ†æã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-prometheus` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² Prometheus å’Œ Grafanaï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`helm install kube-prometheus -f values.yaml kube-prometheus/kube-prometheus`

# 42. Kube-state-metrics

**ä»“åº“é“¾æ¥**: [Kube-state-metrics](https://github.com/kubernetes/kube-state-metrics)

**ç±»åˆ«**: ç›‘æ§

**æè¿°**: `Kube-state-metrics` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œå®ƒæä¾› Kubernetes é›†ç¾¤çš„æŒ‡æ ‡ã€‚å®ƒæ”¶é›†æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç›‘æ§ Kubernetes é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-state-metrics` é€šè¿‡æä¾›æœ‰å…³é›†ç¾¤èµ„æºã€èŠ‚ç‚¹å’Œ pod çš„æŒ‡æ ‡æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½¿æ‚¨èƒ½å¤Ÿç›‘æ§é›†ç¾¤çš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-state-metrics` åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²æŒ‡æ ‡æ”¶é›†å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kubectl apply -f https://github.com/kubernetes/kube-state-metrics/releases/latest/download/kube-state-metrics.yaml`

# 43. Kube-hunter

**ä»“åº“é“¾æ¥**: [Kube-hunter](https://github.com/aquasecurity/kube-hunter)

**ç±»åˆ«**: å®‰å…¨æ‰«æ

**æè¿°**: `Kube-hunter` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºæ‰«æ Kubernetes é›†ç¾¤ä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒå¯ä»¥è¯†åˆ«å¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ä¿æŠ¤ Kubernetes é›†ç¾¤å…å—æ”»å‡»å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-hunter` é€šè¿‡æ‰«æå¸¸è§çš„å®‰å…¨é…ç½®é”™è¯¯å’Œæ¼æ´æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ä¿æŠ¤æ‚¨çš„é›†ç¾¤å…å—æ”»å‡»ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-hunter` æ‰«ææ‚¨çš„ Kubernetes é›†ç¾¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-hunter`

# 44. Kube-bench

**ä»“åº“é“¾æ¥**: [Kube-bench](https://github.com/aquasecurity/kube-bench)

**ç±»åˆ«**: å®‰å…¨å®¡è®¡

**æè¿°**: `Kube-bench` æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºè¯„ä¼° Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ã€‚å®ƒæ£€æŸ¥æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜**: ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®å¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹å’Œå¤æ‚çš„é›†ç¾¤ä¸­ã€‚`Kube-bench` é€šè¿‡è¯„ä¼°æ‚¨çš„é›†ç¾¤é…ç½®æ˜¯å¦ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨æ ‡å‡†æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå¸®åŠ©æ‚¨è¯†åˆ«å®‰å…¨é£é™©å¹¶é‡‡å–æªæ–½è¿›è¡Œä¿®å¤ã€‚

**ç¤ºä¾‹ç”¨æ³•**: è¦ä½¿ç”¨ `Kube-bench` è¯„ä¼°æ‚¨çš„ Kubernetes é›†ç¾¤çš„å®‰å…¨é…ç½®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`kube-bench`

# 45. Kube-prometheus

**ä»“åº“é“¾æ¥**:
**ä»“åº“é“¾æ¥**: [kubectl-tree](https://github.com/ahmetb/kubectl-tree)
**ç±»åˆ«**: æ’ä»¶
**æè¿°**: `kubectl-tree` æ˜¯ä¸€ä¸ª `kubectl` æ’ä»¶ï¼Œå…è®¸æ‚¨å°† Kubernetes å¯¹è±¡å±‚æ¬¡ç»“æ„å¯è§†åŒ–ä¸ºæ ‘å½¢ç»“æ„ã€‚æ­¤å·¥å…·é€šè¿‡æä¾›ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥æŸ¥çœ‹å’Œå¯¼èˆª Kubernetes èµ„æºï¼ˆä¾‹å¦‚ Podã€Deploymentã€ReplicaSet ç­‰ï¼‰ä¹‹é—´çš„å…³ç³»ï¼Œä»è€Œå¢å¼ºäº† `kubectl` ä½“éªŒã€‚
**è§£å†³çš„é—®é¢˜**: å¯¼èˆªå’Œç†è§£ Kubernetes èµ„æºä¹‹é—´çš„å…³ç³»å¯èƒ½å¾ˆå¤æ‚ï¼Œå°¤å…¶æ˜¯åœ¨å…·æœ‰è®¸å¤šç›¸äº’å…³è”å¯¹è±¡çš„åºå¤§é›†ç¾¤ä¸­ã€‚`kubectl-tree` é€šè¿‡ä»¥æ ‘å½¢æ ¼å¼æ˜¾ç¤ºèµ„æºå±‚æ¬¡ç»“æ„æ¥ç®€åŒ–æ­¤è¿‡ç¨‹ï¼Œä»è€Œæ›´è½»æ¾åœ°å¯è§†åŒ–å’Œç®¡ç†èµ„æºä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œå…³ç³»ã€‚
**ç¤ºä¾‹ç”¨æ³•**: è¦å¯è§†åŒ– `crossplane` éƒ¨ç½²çš„å±‚æ¬¡ç»“æ„ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š
`âœ— kubectl tree deployment crossplane -n crossplane-system`
NAMESPACE NAME READY REASON AGE
crossplane-system Deployment/crossplane - 49m
crossplane-system â””â”€ReplicaSet/crossplane-6dcbf47db4 - 49m
crossplane-system â””â”€Pod/crossplane-6dcbf47db4-gzzwp True 49m
# 9. Flux
**ä»“åº“é“¾æ¥**: [Flux](https://github.com/fluxcd/flux)
**ç±»åˆ«**: GitOps
**æè¿°**: `Flux` æ˜¯ä¸€å¥—ç”¨äº Kubernetes çš„æŒç»­å’Œæ¸è¿›å¼äº¤ä»˜è§£å†³æ–¹æ¡ˆã€‚å®ƒè‡ªåŠ¨åŒ–èµ„æºéƒ¨ç½²å¹¶æ ¹æ® GitOps åŸåˆ™å°†é›†ç¾¤çŠ¶æ€ä¸å­˜å‚¨åœ¨ Git å­˜å‚¨åº“ä¸­çš„é…ç½®åŒæ­¥ã€‚`Flux` ç¡®ä¿æ‚¨çš„ Kubernetes é›†ç¾¤çš„æœŸæœ›çŠ¶æ€ï¼ˆå¦‚æ‚¨çš„ç‰ˆæœ¬æ§åˆ¶é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„é‚£æ ·ï¼‰å¾—åˆ°æŒç»­ç»´æŠ¤å’Œæ›´æ–°ã€‚
**è§£å†³çš„é—®é¢˜**: æ‰‹åŠ¨ç®¡ç† Kubernetes é…ç½®å’Œéƒ¨ç½²å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼Œå¹¶ä¸”éš¾ä»¥å®¡è®¡ã€‚`Flux` é€šè¿‡è‡ªåŠ¨åŒ–æ‚¨çš„ Git å­˜å‚¨åº“å’Œ Kubernetes é›†ç¾¤ä¹‹é—´çš„åŒæ­¥æ¥è§£å†³æ­¤é—®é¢˜ã€‚é€šè¿‡å°† Git è§†ä¸ºçœŸç›¸æ¥æºï¼Œ`Flux` ç¡®ä¿æ‚¨çš„é›†ç¾¤çŠ¶æ€ä¸æ‚¨çš„é…ç½®æ–‡ä»¶ä¸€è‡´ï¼Œä»è€Œå®ç°å¯è¿½æº¯æ€§ã€å¯å®¡è®¡æ€§å’Œæ›´è½»æ¾çš„æ›´æ”¹å›æ»šã€‚è¿™ç§æ–¹æ³•è¿˜é€šè¿‡åˆ©ç”¨ç‰ˆæœ¬æ§åˆ¶æ¥ä¿ƒè¿›å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„åä½œã€‚
**ç¤ºä¾‹ç”¨æ³•**: è¦åœ¨æ‚¨çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… `Flux` å¹¶å°†å…¶è¿æ¥åˆ°æ‚¨çš„ Git å­˜å‚¨åº“ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š
`fluxctl identity --k8s-fwd-ns flux`
`fluxctl sync --k8s-fwd-ns flux`
ğŸ“– é˜…è¯»æœ‰å…³ [ä½¿ç”¨ Flux å’Œ Crossplane è¿›è¡Œ GitOps](https://medium.com/itnext/gitopsify-cloud-infrastructure-with-crossplane-and-flux-d605d3043452) çš„æ›´å¤šä¿¡æ¯

# 10. Kubecost
**ä»“åº“é“¾æ¥**: [Kubecost](https://github.com/kubecost/cost-model)
**ç±»åˆ«**: æˆæœ¬ç®¡ç†
**æè¿°**: `Kubecost` æ˜¯ç”¨äº Kubernetes é›†ç¾¤çš„æˆæœ¬ç›‘æ§å’Œä¼˜åŒ–å·¥å…·ã€‚å®ƒæä¾›æœ‰å…³ Kubernetes å·¥ä½œè´Ÿè½½çš„æˆæœ¬å’Œèµ„æºä½¿ç”¨æƒ…å†µçš„å®æ—¶æ´å¯Ÿã€‚`Kubecost` å¸®åŠ©æ‚¨å‡†ç¡®åˆ†é…æˆæœ¬ã€ä¼˜åŒ–èµ„æºåˆ©ç”¨ç‡å¹¶é€šè¿‡è¯†åˆ«æ•ˆç‡ä½ä¸‹å’Œæœªä½¿ç”¨çš„èµ„æºæ¥é™ä½æ€»ä½“äº‘æ”¯å‡ºã€‚æ­¤å¤–ï¼Œ`Kubecost` ä¸ [OpenCost](https://www.opencost.io/docs/) é›†æˆï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äº Kubernetes çš„å¼€æºæˆæœ¬ç›‘æ§å’Œç®¡ç†é¡¹ç›®ã€‚
**è§£å†³çš„é—®é¢˜**: ç”±äºå®¹å™¨åŒ–å·¥ä½œè´Ÿè½½çš„åŠ¨æ€ç‰¹æ€§å’Œäº‘è®¡è´¹çš„å¤æ‚æ€§ï¼Œç®¡ç† Kubernetes ç¯å¢ƒä¸­çš„æˆæœ¬å¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ã€‚`Kubecost` é€šè¿‡æä¾›è¯¦ç»†çš„æˆæœ¬ç»†åˆ†ã€ä½¿ç”¨æƒ…å†µæŠ¥å‘Šå’Œä¼˜åŒ–å»ºè®®æ¥è§£å†³æ­¤é—®é¢˜ã€‚è¿™æœ‰åŠ©äºç»„ç»‡äº†è§£å…¶ Kubernetes æ”¯å‡ºï¼Œå°±èµ„æºåˆ†é…åšå‡ºæ˜æ™ºçš„å†³ç­–ï¼Œå¹¶ç¡®å®šèŠ‚çœæˆæœ¬çš„æœºä¼šã€‚
**ç¤ºä¾‹ç”¨æ³•**: åœ¨æ‚¨çš„ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² `Kubecost` åï¼Œæ‚¨å¯ä»¥è®¿é—®ä»ªè¡¨æ¿ä»¥æŸ¥çœ‹æˆæœ¬æŠ¥å‘Šã€æŒ‰å‘½åç©ºé—´ã€æ ‡ç­¾å’Œéƒ¨ç½²åˆ†é…æˆæœ¬ï¼Œå¹¶æ¥æ”¶æœ‰å…³ä¼˜åŒ–èµ„æºä½¿ç”¨æƒ…å†µçš„å»ºè®®ã€‚ä¸ `OpenCost` çš„é›†æˆé€šè¿‡æä¾›æ ‡å‡†åŒ–çš„æˆæœ¬ç›‘æ§å’Œç®¡ç†åŠŸèƒ½æ¥å¢å¼ºè¿™äº›åŠŸèƒ½ã€‚
# é™„åŠ å›åˆ
è™½ç„¶æˆ‘é‡ç‚¹ä»‹ç»äº† Kubernetes çš„åä¸ªåŸºæœ¬å·¥å…·ï¼Œä½†è¿˜æœ‰è®¸å¤šå…¶ä»–å·¥å…·å¯ä»¥æå¤§åœ°å¢å¼ºæ‚¨çš„ Kubernetes ä½“éªŒã€‚è¿™äº›é™„åŠ å·¥å…·æä¾›ä»ç®¡ç†å·²å¼ƒç”¨çš„ API åˆ°ä¿ƒè¿›è¿œç¨‹å¼€å‘ç­‰å„ç§åŠŸèƒ½ï¼Œä»¥åŠæ›´å¤šã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ‚¨å¯èƒ½ä¼šå‘ç°éå¸¸æœ‰ä»·å€¼çš„é™„åŠ å·¥å…·åˆ—è¡¨ï¼š

# ç»“æŸè¯­
æˆ‘ä»¬åˆšåˆšåº†ç¥äº† Kubernetes çš„ 10 å‘¨å¹´ï¼Œå¾ˆæ˜æ˜¾ï¼Œç”Ÿæ€ç³»ç»Ÿæ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´åŠ å¼ºå¤§å’Œå……æ»¡æ´»åŠ›ã€‚Kubernetes å·²å‘å±•æˆä¸ºäº‘åŸç”Ÿç¯å¢ƒçš„å…³é”®ç»„æˆéƒ¨åˆ†ï¼Œä½¿ç»„ç»‡èƒ½å¤Ÿé«˜æ•ˆå¯é åœ°å¤§è§„æ¨¡ç®¡ç†å…¶å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚

æˆ‘ä»¬åœ¨æœ¬æ–‡ä¸­å›é¡¾çš„å·¥å…·ï¼Œä»ç”¨äºé…ç½®é—®é¢˜æ£€æµ‹çš„ `Popeye` åˆ°ç”¨äºæˆæœ¬ç®¡ç†çš„ `Kubecost`ï¼Œéƒ½è¯æ˜äº† Kubernetes ç”Ÿæ€ç³»ç»Ÿçš„å¹¿åº¦å’Œæ·±åº¦ã€‚éšç€ Kubernetes ç»§ç»­å‘å±•ï¼Œæˆ‘ä»¬å¯ä»¥æœŸå¾…çœ‹åˆ°æ›´å¤šåˆ›æ–°å·¥å…·çš„å‡ºç°ï¼Œè¿™äº›å·¥å…·å°†è¿›ä¸€æ­¥ç®€åŒ–å’Œå¢å¼ºæˆ‘ä»¬çš„äº‘åŸç”Ÿä¹‹æ—…ã€‚
ä¸ºäº†æˆæœ¬ç®¡ç†ï¼Œå±•ç¤ºäº† Kubernetes ç”Ÿæ€ç³»ç»Ÿçš„å¤šæ ·æ€§å’Œæ·±åº¦ã€‚æ¯ä¸ªå·¥å…·éƒ½é’ˆå¯¹ç‰¹å®šçš„æŒ‘æˆ˜ï¼Œå¸®åŠ©ä¼˜åŒ–æˆ–ä¿æŠ¤ Kubernetes éƒ¨ç½²ã€‚è¿™äº›å·¥å…·çš„æ¿€å¢çªå‡ºäº† Kubernetes ç”Ÿæ€ç³»ç»Ÿçš„åŠ¨æ€ç‰¹æ€§ä»¥åŠå¹¶éæ‰€æœ‰é¢†åŸŸéƒ½å­˜åœ¨å®Œå–„çš„æ ‡å‡†ã€‚è¿™ç§å¤šæ ·æ€§å…è®¸å®šåˆ¶çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥æ»¡è¶³ä¸åŒç»„ç»‡å’Œç”¨ä¾‹çš„ç‹¬ç‰¹éœ€æ±‚ã€‚

å±•æœ›æœªæ¥ï¼ŒKubernetes æœ‰æœ›ä¸ºä¸–ç•Œä¸Šæ›´å¤šçš„åŸºç¡€è®¾æ–½æä¾›åŠ¨åŠ›ã€‚éšç€è¾¹ç¼˜è®¡ç®—ã€æ— æœåŠ¡å™¨æ¶æ„å’Œäººå·¥æ™ºèƒ½é©±åŠ¨çš„è¿è¥ç­‰æ–°è¶‹åŠ¿çš„å‡ºç°ï¼ŒKubernetes å°†ç»§ç»­é€‚åº”å’Œå‘å±•ã€‚ç”Ÿæ€ç³»ç»Ÿé€šè¿‡å¹¿æ³›çš„å·¥å…·å’Œè§£å†³æ–¹æ¡ˆæ¥ä¿ƒè¿›åˆ›æ–°çš„èƒ½åŠ›ï¼Œå¯¹äºæ»¡è¶³æœªæ¥äº‘åŸç”Ÿç¯å¢ƒçš„éœ€æ±‚è‡³å…³é‡è¦ã€‚

æ‚¨æœ€å–œæ¬¢å“ªäº›é¡¹ç›®ï¼Ÿæ‚¨æ˜¯å¦ä½¿ç”¨è¿‡æ‚¨æƒ³åˆ†äº«çš„å…¶ä»–å·¥å…·ï¼Ÿè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚

æ„Ÿè°¢æ‚¨æŠ½å‡ºæ—¶é—´é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚å¸Œæœ›æ‚¨è§‰å¾—å®ƒæœ‰è¶£ä¸”ä¿¡æ¯ä¸°å¯Œã€‚

ğŸ”— **åœ¨ LinkedIn ä¸Šä¸æˆ‘è”ç³»**

ğŸŒ **è®¿é—®æˆ‘çš„ ç½‘ç«™**

ğŸ“º **è®¢é˜…æˆ‘çš„ YouTube é¢‘é“**