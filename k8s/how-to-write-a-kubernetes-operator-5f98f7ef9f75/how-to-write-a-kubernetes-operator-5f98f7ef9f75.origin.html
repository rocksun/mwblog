<!doctype html><html lang="en"><head><title data-rh="true">How to Write a Kubernetes Operator | by Payam Qorbanpour | Apr, 2024 | ITNEXT</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2024-05-06T09:02:23.721Z"/><meta data-rh="true" name="title" content="How to Write a Kubernetes Operator | by Payam Qorbanpour | Apr, 2024 | ITNEXT"/><meta data-rh="true" property="og:title" content="How to Write a Kubernetes Operator"/><meta data-rh="true" property="al:android:url" content="medium://p/5f98f7ef9f75"/><meta data-rh="true" property="al:ios:url" content="medium://p/5f98f7ef9f75"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="As a backend developer dealing with Kubernetes daily, I’ve always carried the hope of writing an operator to expand the boundaries of my knowledge. However, obstacles emerged and hindered me from…"/><meta data-rh="true" property="og:description" content="The Story of Creating gobackup-operator While Serving in the…"/><meta data-rh="true" property="og:url" content="https://itnext.io/how-to-write-a-kubernetes-operator-5f98f7ef9f75"/><meta data-rh="true" property="al:web:url" content="https://itnext.io/how-to-write-a-kubernetes-operator-5f98f7ef9f75"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/resize:fit:856/1*bPuZj4i3fv7uxqelc7Vqaw.png"/><meta data-rh="true" property="og:image:alt" content="Kubernetes Operator"/><meta data-rh="true" property="article:author" content="https://medium.com/@payamqorbanpour"/><meta data-rh="true" name="author" content="Payam Qorbanpour"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" property="twitter:title" content="How to Write a Kubernetes Operator"/><meta data-rh="true" name="twitter:site" content="@itnext_io"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/5f98f7ef9f75"/><meta data-rh="true" property="twitter:description" content="The Story of Creating gobackup-operator While Serving in the…"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/resize:fit:856/1*bPuZj4i3fv7uxqelc7Vqaw.png"/><meta data-rh="true" name="twitter:image:alt" content="Kubernetes Operator"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="5 min read"/><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/resize:fill:256:256/1*SiXeRxgOt0pAYlYhwZIu3g.png"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:152:152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:120:120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:76:76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:60:60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@payamqorbanpour"/><link data-rh="true" rel="canonical" href="https://itnext.io/how-to-write-a-kubernetes-operator-5f98f7ef9f75"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/5f98f7ef9f75"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:1200\u002F1*bPuZj4i3fv7uxqelc7Vqaw.png"],"url":"https:\u002F\u002Fitnext.io\u002Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75","dateCreated":"2024-04-21T04:51:26.176Z","datePublished":"2024-04-21T04:51:26.176Z","dateModified":"2024-05-06T09:02:24.263Z","headline":"How to Write a Kubernetes Operator - ITNEXT","name":"How to Write a Kubernetes Operator - ITNEXT","description":"As a backend developer dealing with Kubernetes daily, I’ve always carried the hope of writing an operator to expand the boundaries of my knowledge. However, obstacles emerged and hindered me from…","identifier":"5f98f7ef9f75","author":{"@type":"Person","name":"Payam Qorbanpour","url":"https:\u002F\u002Fitnext.io\u002F@payamqorbanpour"},"creator":["Payam Qorbanpour"],"publisher":{"@type":"Organization","name":"ITNEXT","url":"itnext.io","logo":{"@type":"ImageObject","width":315,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:630\u002F1*jWhTrIoYwTUdKuVXycqAaw.png"}},"mainEntityOfPage":"https:\u002F\u002Fitnext.io\u002Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75"}</script><style type="text/css" data-fela-rehydration="514" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="514" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:sticky}.n{top:0}.o{z-index:500}.p{padding:0 24px}.q{align-items:center}.r{border-bottom:solid 1px #F2F2F2}.y{height:41px}.z{line-height:20px}.ab{display:flex}.ac{height:57px}.ae{flex:1 0 auto}.af{color:inherit}.ag{fill:inherit}.ah{font-size:inherit}.ai{border:inherit}.aj{font-family:inherit}.ak{letter-spacing:inherit}.al{font-weight:inherit}.am{padding:0}.an{margin:0}.ao{cursor:pointer}.ap:disabled{cursor:not-allowed}.aq:disabled{color:#6B6B6B}.ar:disabled{fill:#6B6B6B}.au{fill:rgba(0, 0, 0, 1)}.av{height:22px}.aw{margin-left:16px}.ax{border:none}.ay{border-radius:20px}.az{width:240px}.ba{background:#F9F9F9}.bb path{fill:#6B6B6B}.bd{outline:none}.be{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bf{font-size:14px}.bg{width:100%}.bh{padding:10px 20px 10px 0}.bi{background-color:transparent}.bj{color:#242424}.bk::placeholder{color:#6B6B6B}.bl{display:inline-block}.bm{margin-left:12px}.bn{margin-right:12px}.bo{border-radius:4px}.bp{margin-left:24px}.bq{height:24px}.bw{background-color:#F9F9F9}.bx{border-radius:50%}.by{height:32px}.bz{width:32px}.ca{justify-content:center}.cg{max-width:680px}.ch{min-width:0}.ci{animation:k1 1.2s ease-in-out infinite}.cj{height:100vh}.ck{margin-bottom:16px}.cl{margin-top:48px}.cm{align-items:flex-start}.cn{flex-direction:column}.co{justify-content:space-between}.cp{margin-bottom:24px}.cv{width:80%}.cw{background-color:#F2F2F2}.dc{height:44px}.dd{width:44px}.de{margin:auto 0}.df{margin-bottom:4px}.dg{height:16px}.dh{width:120px}.di{width:80px}.do{margin-bottom:8px}.dp{width:96%}.dq{width:98%}.dr{width:81%}.ds{margin-left:8px}.dt{color:#6B6B6B}.du{font-size:13px}.dv{height:100%}.eo{color:#FFFFFF}.ep{fill:#FFFFFF}.eq{background:rgba(63, 141, 206, 1)}.er{border-color:rgba(63, 141, 206, 1)}.ev:disabled{cursor:inherit !important}.ew:disabled{opacity:0.3}.ex:disabled:hover{background:rgba(63, 141, 206, 1)}.ey:disabled:hover{border-color:rgba(63, 141, 206, 1)}.ez{border-radius:99em}.fa{border-width:1px}.fb{border-style:solid}.fc{box-sizing:border-box}.fd{text-decoration:none}.fe{text-align:center}.fh{margin-right:32px}.fi{position:relative}.fj{fill:#6B6B6B}.fm{background:transparent}.fn svg{margin-left:4px}.fo svg{fill:#6B6B6B}.fq{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fr{position:absolute}.fy{margin:0 24px}.gc{background:rgba(255, 255, 255, 1)}.gd{border:1px solid #F2F2F2}.ge{box-shadow:0 1px 4px #F2F2F2}.gf{max-height:100vh}.gg{overflow-y:auto}.gh{left:0}.gi{top:calc(100vh + 100px)}.gj{bottom:calc(100vh + 100px)}.gk{width:10px}.gl{pointer-events:none}.gr{@media all and (max-width: 551.98px):8px}.gs{@media all and (min-width: 552px) and (max-width: 727.98px):8px}.gt{@media all and (min-width: 728px) and (max-width: 903.98px):16px}.gu{@media all and (min-width: 904px) and (max-width: 1079.98px):16px}.gv{@media all and (min-width: 1080px):16px}.hb{align-items:baseline}.hc{width:48px}.hd{height:48px}.he{border:2px solid rgba(255, 255, 255, 1)}.hf{z-index:0}.hg{box-shadow:none}.hh{border:1px solid rgba(0, 0, 0, 0.05)}.hi{margin-left:-12px}.hj{width:28px}.hk{height:28px}.hl{z-index:1}.hm{width:24px}.hn{margin-bottom:2px}.ho{flex-wrap:nowrap}.hp{font-size:16px}.hq{line-height:24px}.hs{margin:0 8px}.ht{display:inline}.hu{color:rgba(63, 141, 206, 1)}.hv{fill:rgba(63, 141, 206, 1)}.hy{flex:0 0 auto}.ib{flex-wrap:wrap}.ie{white-space:pre-wrap}.if{margin-right:4px}.ig{overflow:hidden}.ih{max-height:20px}.ii{text-overflow:ellipsis}.ij{display:-webkit-box}.ik{-webkit-line-clamp:1}.il{-webkit-box-orient:vertical}.im{word-break:break-all}.io{padding-left:8px}.ip{padding-right:8px}.jq> *{flex-shrink:0}.jr{overflow-x:scroll}.js::-webkit-scrollbar{display:none}.jt{scrollbar-width:none}.ju{-ms-overflow-style:none}.jv{width:74px}.jw{flex-direction:row}.jx{z-index:2}.ka{-webkit-user-select:none}.kb{border:0}.kc{fill:rgba(117, 117, 117, 1)}.kf{outline:0}.kg{user-select:none}.kh> svg{pointer-events:none}.kq{cursor:progress}.kr{opacity:1}.ks{padding:4px 0}.kv{margin-top:0px}.kw{width:16px}.ky{display:inline-flex}.le{max-width:100%}.lf{padding:8px 2px}.lg svg{color:#6B6B6B}.lx{word-break:break-word}.ly{word-wrap:break-word}.lz:after{display:block}.ma:after{content:""}.mb:after{clear:both}.mc{margin-left:auto}.md{margin-right:auto}.me{max-width:856px}.mk{clear:both}.mm{cursor:zoom-in}.mn{z-index:auto}.mp{height:auto}.mq{margin-top:10px}.mr{max-width:728px}.mu{line-height:1.58}.mv{letter-spacing:-0.004em}.mw{font-style:normal}.mx{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.ns{margin-bottom:-0.46em}.nt{text-decoration:underline}.nu{font-style:italic}.nv{line-height:1.18}.nw{letter-spacing:-0.022em}.nx{font-weight:600}.on{margin-bottom:-0.31em}.ot{margin-top:32px}.ou{margin-bottom:14px}.ov{padding-top:24px}.ow{padding-bottom:10px}.ox{background-color:#000000}.oy{height:3px}.oz{width:3px}.pa{margin-right:20px}.pb{box-shadow:inset 3px 0 0 0 #242424}.pc{padding-left:23px}.pd{margin-left:-20px}.pe{box-shadow:inset 0 0 0 1px #F2F2F2}.pf{padding:0px}.pg{padding:16px 20px}.ph{flex:1 1 auto}.pj{font-weight:700}.pk{max-height:40px}.pl{-webkit-line-clamp:2}.pm{letter-spacing:0}.pn{margin-top:8px}.po{margin-top:12px}.pp{width:160px}.pq{background-image:url(https://miro.medium.com/v2/da:true/resize:fit:320/0*IPu3d7l0KVU5AQbk)}.pr{background-origin:border-box}.ps{background-size:cover}.pt{height:167px}.pu{background-position:50% 50%}.pv{padding:2px 4px}.pw{font-size:75%}.px> strong{font-family:inherit}.py{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.qe{overflow-x:auto}.qf{padding:32px}.qg{border:1px solid #E5E5E5}.qh{line-height:1.4}.qi{margin-top:-0.2em}.qj{margin-bottom:-0.2em}.qk{white-space:pre}.ql{min-width:fit-content}.qm{margin-top:16px}.qn{margin-bottom:26px}.qo{margin-top:6px}.qp{margin-right:8px}.qq{padding:8px 16px}.qr{border-radius:100px}.qs{transition:background 300ms ease}.qu{white-space:nowrap}.qv{border-top:none}.rb{height:52px}.rc{max-height:52px}.rd{box-sizing:content-box}.re{position:static}.rg{max-width:155px}.rr{align-items:flex-end}.rs{width:76px}.rt{height:76px}.ru{border:2px solid #F9F9F9}.rv{height:72px}.rw{width:72px}.rx{margin-left:-16px}.ry{width:36px}.rz{height:36px}.sa{width:auto}.sb{stroke:#F2F2F2}.sc{color:#F2F2F2}.sd{fill:#F2F2F2}.se{background:#F2F2F2}.sf{border-color:#F2F2F2}.sl{font-weight:500}.sm{font-size:24px}.sn{line-height:30px}.so{letter-spacing:-0.016em}.sp{height:0px}.sq{border-bottom:solid 1px #E5E5E5}.sr{margin-top:72px}.ss{padding:24px 0}.st{margin-bottom:0px}.su{margin-right:16px}.as:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.at:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.es:hover{background:rgba(61, 121, 173, 1)}.et:hover{border-color:rgba(61, 121, 173, 1)}.eu:hover{cursor:pointer}.fk:hover{color:#242424}.fl:hover{fill:#242424}.fp:hover svg{fill:#242424}.fs:hover{background-color:rgba(0, 0, 0, 0.1)}.hr:hover{text-decoration:underline}.hw:hover:not(:disabled){color:rgba(61, 121, 173, 1)}.hx:hover:not(:disabled){fill:rgba(61, 121, 173, 1)}.ke:hover{fill:rgba(8, 8, 8, 1)}.kt:hover{fill:#000000}.ku:hover p{color:#000000}.kx:hover{color:#000000}.lh:hover svg{color:#000000}.qt:hover{background-color:#F2F2F2}.sg:hover{background:#F2F2F2}.sh:hover{border-color:#F2F2F2}.si:hover{cursor:wait}.sj:hover{color:#F2F2F2}.sk:hover{fill:#F2F2F2}.bc:focus-within path{fill:#242424}.kd:focus{fill:rgba(8, 8, 8, 1)}.li:focus svg{color:#000000}.mo:focus{transform:scale(1.01)}.ki:active{border-style:none}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.bv{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ee{font-size:14px}.ef{line-height:20px}.el{font-size:13px}.em{padding:5px 12px}.fg{display:flex}.fx{margin-bottom:68px}.gb{max-width:680px}.gq{margin-top:32px}.ha{align-items:center}.jc{border-top:solid 1px #F2F2F2}.jd{border-bottom:solid 1px #F2F2F2}.je{margin:32px 0 0}.jf{padding:3px 8px}.jo> *{margin-right:24px}.jp> :last-child{margin-right:0}.kp{margin-top:0px}.ld{margin:0}.mj{margin-top:40px}.no{font-size:20px}.np{margin-top:2.14em}.nq{line-height:32px}.nr{letter-spacing:-0.003em}.ok{margin-top:1.72em}.ol{line-height:24px}.om{letter-spacing:0}.os{margin-top:0.94em}.qd{margin-top:56px}.ra{margin-bottom:88px}.rl{display:inline-block}.rq{padding-top:72px}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.ko{margin-top:0px}.ms{margin-left:auto}.mt{text-align:center}.rk{display:inline-block}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.kn{margin-top:0px}.rj{display:inline-block}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.kl{margin-top:0px}.km{margin-right:0px}.pi{padding:10px 12px 10px}.ri{display:inline-block}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.s{display:flex}.t{justify-content:space-between}.br{width:24px}.cb{margin:0 24px}.cq{height:40px}.cx{margin-bottom:44px}.dj{margin-bottom:32px}.dw{font-size:13px}.dx{line-height:20px}.eg{padding:0px 8px 1px}.ft{margin-bottom:4px}.gm{margin-top:24px}.gw{align-items:flex-start}.hz{flex-direction:column}.ic{margin-bottom:2px}.iq{margin:24px -24px 0}.ir{padding:0}.jg> *{margin-right:8px}.jh> :last-child{margin-right:24px}.jy{margin-left:0px}.kj{margin-top:0px}.kk{margin-right:0px}.kz{margin:0}.lj{border:1px solid #F2F2F2}.lk{border-radius:99em}.ll{padding:0px 16px 0px 12px}.lm{height:38px}.ln{align-items:center}.lp svg{margin-right:8px}.mf{margin-top:32px}.my{font-size:18px}.mz{margin-top:1.56em}.na{line-height:28px}.nb{letter-spacing:-0.003em}.ny{font-size:16px}.nz{margin-top:1.23em}.oa{letter-spacing:0}.oo{margin-top:0.67em}.pz{margin-top:40px}.qw{margin-bottom:80px}.rh{display:inline-block}.rm{padding-top:48px}.lo:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.bu{width:64px}.ce{margin:0 64px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.ec{font-size:14px}.ed{line-height:20px}.ej{font-size:13px}.ek{padding:5px 12px}.ff{display:flex}.fw{margin-bottom:68px}.ga{max-width:680px}.gp{margin-top:32px}.gz{align-items:center}.iy{border-top:solid 1px #F2F2F2}.iz{border-bottom:solid 1px #F2F2F2}.ja{margin:32px 0 0}.jb{padding:3px 8px}.jm> *{margin-right:24px}.jn> :last-child{margin-right:0}.lc{margin:0}.mi{margin-top:40px}.nk{font-size:20px}.nl{margin-top:2.14em}.nm{line-height:32px}.nn{letter-spacing:-0.003em}.oh{margin-top:1.72em}.oi{line-height:24px}.oj{letter-spacing:0}.or{margin-top:0.94em}.qc{margin-top:56px}.qz{margin-bottom:88px}.rp{padding-top:72px}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.w{display:flex}.x{justify-content:space-between}.bt{width:64px}.cd{margin:0 48px}.cs{height:48px}.cz{margin-bottom:52px}.dl{margin-bottom:48px}.ea{font-size:13px}.eb{line-height:20px}.ei{padding:0px 8px 1px}.fv{margin-bottom:68px}.fz{max-width:680px}.go{margin-top:32px}.gy{align-items:center}.iu{border-top:solid 1px #F2F2F2}.iv{border-bottom:solid 1px #F2F2F2}.iw{margin:32px 0 0}.ix{padding:3px 8px}.jk> *{margin-right:24px}.jl> :last-child{margin-right:0}.lb{margin:0}.mh{margin-top:40px}.ng{font-size:20px}.nh{margin-top:2.14em}.ni{line-height:32px}.nj{letter-spacing:-0.003em}.oe{margin-top:1.72em}.of{line-height:24px}.og{letter-spacing:0}.oq{margin-top:0.94em}.qb{margin-top:56px}.qy{margin-bottom:88px}.ro{padding-top:72px}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.u{display:flex}.v{justify-content:space-between}.bs{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dy{font-size:13px}.dz{line-height:20px}.eh{padding:0px 8px 1px}.fu{margin-bottom:4px}.gn{margin-top:24px}.gx{align-items:flex-start}.ia{flex-direction:column}.id{margin-bottom:2px}.is{margin:24px 0 0}.it{padding:0}.ji> *{margin-right:8px}.jj> :last-child{margin-right:8px}.jz{margin-left:0px}.la{margin:0}.lq{border:1px solid #F2F2F2}.lr{border-radius:99em}.ls{padding:0px 16px 0px 12px}.lt{height:38px}.lu{align-items:center}.lw svg{margin-right:8px}.mg{margin-top:32px}.nc{font-size:18px}.nd{margin-top:1.56em}.ne{line-height:28px}.nf{letter-spacing:-0.003em}.ob{font-size:16px}.oc{margin-top:1.23em}.od{letter-spacing:0}.op{margin-top:0.67em}.qa{margin-top:40px}.qx{margin-bottom:80px}.rn{padding-top:48px}.lv:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="print">.rf{display:none}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.in{max-height:none}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.ml{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="l m n o c"><div class="p q r s t u v w x i d y z"><a class="dt ag du be ak b am an ao ap aq ar as at s u w i d q dv z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F5f98f7ef9f75&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderCollection&amp;source=---two_column_layout_nav----------------------------------" rel="noopener follow">Open in app<svg width="10" height="10" viewBox="0 0 10 10" fill="none" class="ds"><path d="M.98 8.48a.37.37 0 1 0 .54.54l-.54-.54zm7.77-7.23h.38c0-.2-.17-.38-.38-.38v.38zM8.37 6.5a.37.37 0 1 0 .76 0h-.76zM3.5.87a.37.37 0 1 0 0 .76V.88zM1.52 9.03l7.5-7.5-.54-.54-7.5 7.5.54.54zm6.86-7.77V6.5h.74V1.25h-.74zm-4.88.38h5.25V.88H3.5v.74z" fill="currentColor"></path></svg></a><div class="ab q"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><a class="be b dw dx eg dy dz eh ea eb ei ej ed ek el ef em eo ep eq er es et eu ev ew ex ey ez fa fb fc bl fd fe" data-testid="headerSignUpButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign up</a></span></p><div class="aw l"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div class="p q r ab ac"><div class="ab q ae"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab" aria-label="Homepage" data-testid="headerMediumLogo" href="https://medium.com/?source=---two_column_layout_nav----------------------------------" rel="noopener follow"><svg viewBox="0 0 3940 610" class="au av"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"></path></svg></a><div class="aw h"><div class="ab ax ay az ba q bb bc"><div class="bl" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bm bn ab"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.1 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0zm6.94-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .8-.79l-3.74-3.73A8.05 8.05 0 0 0 11.04 3v.01z" fill="currentColor"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="ax bd be bf z bg bh bi bj bk" placeholder="Search" value=""/></div></div></div><div class="h k w ff fg"><div class="fh ab"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerWriteButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---two_column_layout_nav-----------------------new_post_topnav-----------" rel="noopener follow"><div class="be b bf z dt fi fj ab q fk fl"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg><div class="ds l">Write</div></div></a></span></div></div><div class="k j i d"><div class="fh ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSearchButton" href="https://medium.com/search?source=---two_column_layout_nav----------------------------------" rel="noopener follow"><div class="be b bf z dt fi fj ab q fk fl"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Search"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.1 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0zm6.94-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .8-.79l-3.74-3.73A8.05 8.05 0 0 0 11.04 3v.01z" fill="currentColor"></path></svg></div></a></div></div><div class="fh h k j"><div class="ab q"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><a class="be b dw dx eg dy dz eh ea eb ei ej ed ek el ef em eo ep eq er es et eu ev ew ex ey ez fa fb fc bl fd fe" data-testid="headerSignUpButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign up</a></span></p><div class="aw l"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div class="l" aria-hidden="false"><button class="ax fm am ab q ao fn fo fp" aria-label="user options menu" data-testid="headerUserIcon"><div class="l fi"><img alt="" class="l fc bx by bz cw" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"/><div class="fq bx l by bz fr n ax fs"></div></div></button></div></div></div><div class="l"><div class="ft fu fv fw fx l"><div class="ab ca"><div class="ch bg fy fz ga gb"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="fr gh gi gj gk gl"></div><div><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="speechify-ignore gm gn go gp gq l"><div class="gr gs gt gu gv"><div class="speechify-ignore ab co"><div class="speechify-ignore bg l"><div class="gw gx gy gz ha ab"><div><div class="ab hb"><a href="https://medium.com/@payamqorbanpour?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><div><div class="bl" aria-hidden="false"><div class="l hc hd bx he hf"><div class="l fi"><img alt="Payam Qorbanpour" class="l fc bx dc dd cw" src="https://miro.medium.com/v2/resize:fill:88:88/1*w9SkYIW3RsbuTS4ginRz9w.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"/><div class="hg bx l dc dd fr n hh fs"></div></div></div></div></div></a><a href="https://itnext.io/?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener  ugc nofollow"><div class="hi ab fi"><div><div class="bl" aria-hidden="false"><div class="l hj hk bx he hl"><div class="l fi"><img alt="ITNEXT" class="l fc bx bq hm cw" src="https://miro.medium.com/v2/resize:fill:48:48/1*yAqDFIFA5F_NXalOJKz4TA.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto"/><div class="hg bx l bq hm fr n hh fs"></div></div></div></div></div></div></a></div></div><div class="bm bg l"><div class="ab"><div style="flex:1"><span class="be b bf z bj"><div class="hn ab q"><div class="ab q ho"><div class="ab q"><div><div class="bl" aria-hidden="false"><p class="be b hp hq bj"><a class="af ag ah ai aj ak al am an ao ap aq ar hr" data-testid="authorName" href="https://medium.com/@payamqorbanpour?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow">Payam Qorbanpour</a></p></div></div></div><span class="hs ht" aria-hidden="true"><span class="be b bf z dt">·</span></span><p class="be b hp hq dt"><span><a class="hu hv ah ai aj ak al am an ao ap aq ar ew hw hx" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff6f80c903cb9&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=post_page-f6f80c903cb9----5f98f7ef9f75---------------------post_header-----------" rel="noopener follow">Follow</a></span></p></div></div></span></div></div><div class="l hy"><span class="be b bf z dt"><div class="ab cm hz ia ib"><div class="ic id ab"><div class="be b bf z dt ab ie"><span class="if l hy">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hr ab q" data-testid="publicationName" href="https://itnext.io/?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener  ugc nofollow"><p class="be b bf z ig ih ii ij ik il im in bj">ITNEXT</p></a></div></div></div><div class="h k"><span class="hs ht" aria-hidden="true"><span class="be b bf z dt">·</span></span></div></div><span class="be b bf z dt"><div class="ab ae"><span data-testid="storyReadTime">5 min read</span><div class="io ip l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="be b bf z dt">·</span></span></div><span data-testid="storyPublishDate">Apr 21, 2024</span></div></span></div></span></div></div></div><div class="ab co iq ir is it iu iv iw ix iy iz ja jb jc jd je jf"><div class="h k w ff fg q"><div class="jv l"><div class="ab q jw jx"><div class="pw-multi-vote-icon fi if jy jz ka"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fitnext%2F5f98f7ef9f75&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=-----5f98f7ef9f75---------------------clap_footer-----------" rel="noopener follow"><div><div class="bl" aria-hidden="false"><div class="kb ao kc kd ke kf am kg kh ki ka"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kj kk kl km kn ko kp"><p class="be b du z dt"><span class="kq">--</span></p></div></div></div><div><div class="bl" aria-hidden="false"><button class="ao kb kr ks ab q fj kt ku" aria-label="responses"><svg width="24" height="24" viewBox="0 0 24 24" class="kv"><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg></button></div></div></div><div class="ab q jg jh ji jj jk jl jm jn jo jp jq jr js jt ju"><div class="kw k j i d"></div><div class="h k"><div><div class="bl" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f98f7ef9f75&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;source=-----5f98f7ef9f75---------------------bookmark_footer-----------" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="dt kx" aria-label="Add to list bookmark button"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="currentColor"></path></svg></a></span></div></div></div><div class="fc ky cm"><div class="l ae"><div class="ab ca"><div class="kz la lb lc ld le ch bg"><div class="ab"><div class="bl bg" aria-hidden="false"><div><div class="bl" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af fj ah ai aj ak al lf an ao ap ew lg lh ku li lj lk ll lm s ln lo lp lq lr ls lt u lu lv lw"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0zm9-10a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm3.38 10.42l-4.6 3.06a.5.5 0 0 1-.78-.41V8.93c0-.4.45-.63.78-.41l4.6 3.06c.3.2.3.64 0 .84z" fill="currentColor"></path></svg><div class="j i d"><p class="be b bf z dt">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bl" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bl" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af fj ah ai aj ak al lf an ao ap ew lg lh ku li lj lk ll lm s ln lo lp lq lr ls lt u lu lv lw"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.22 4.93a.42.42 0 0 1-.12.13h.01a.45.45 0 0 1-.29.08.52.52 0 0 1-.3-.13L12.5 3v7.07a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V3.02l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.8a.42.42 0 0 1 .07.5zm-.1.14zm.88 2h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.14c.1.1.15.22.15.35a.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9V8.96c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1z" fill="currentColor"></path></svg><div class="j i d"><p class="be b bf z dt">Share</p></div></button></div></div></div></div></div></div></div></div></div></div></div></div><div class="lx ly lz ma mb"><div class="ab ca"><div class="ch bg fy fz ga gb"><figure class="mf mg mh mi mj mk mc md paragraph-image"><div role="button" tabindex="0" class="ml mm fi mn bg mo"><div class="mc md me"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/1*bPuZj4i3fv7uxqelc7Vqaw.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*bPuZj4i3fv7uxqelc7Vqaw.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*bPuZj4i3fv7uxqelc7Vqaw.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*bPuZj4i3fv7uxqelc7Vqaw.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*bPuZj4i3fv7uxqelc7Vqaw.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*bPuZj4i3fv7uxqelc7Vqaw.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPuZj4i3fv7uxqelc7Vqaw.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/1*bPuZj4i3fv7uxqelc7Vqaw.png 640w, https://miro.medium.com/v2/resize:fit:720/1*bPuZj4i3fv7uxqelc7Vqaw.png 720w, https://miro.medium.com/v2/resize:fit:750/1*bPuZj4i3fv7uxqelc7Vqaw.png 750w, https://miro.medium.com/v2/resize:fit:786/1*bPuZj4i3fv7uxqelc7Vqaw.png 786w, https://miro.medium.com/v2/resize:fit:828/1*bPuZj4i3fv7uxqelc7Vqaw.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*bPuZj4i3fv7uxqelc7Vqaw.png 1100w, https://miro.medium.com/v2/resize:fit:1400/1*bPuZj4i3fv7uxqelc7Vqaw.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="Kubernetes Operator" class="bg le mp c" width="700" height="231" loading="eager"/></picture></div></div><figcaption class="mq fe mr mc md ms mt be b bf z dt">Kubernetes Operator</figcaption></figure><p id="55ff" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">As a backend developer dealing with Kubernetes daily, I’ve always carried the hope of writing an operator to expand the boundaries of my knowledge. However, obstacles emerged and hindered me from achieving this goal.</p><p id="cae4" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">This is the story of how I wrote the <a class="af nt" href="https://github.com/gobackup/gobackup-operator" rel="noopener ugc nofollow" target="_blank">gobackup-operator</a> while serving in the military.</p><p id="6009" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj"><em class="nu">tl;dr</em>: Jump right into “Dive into the project” section</p><h2 id="e686" class="nv nw mw be nx ny nz dx oa ob oc dz od ng oe of og nk oh oi oj no ok ol om on bj">Sharpening the axe</h2><p id="98d0" class="pw-post-body-paragraph mu mv mw mx b my oo na nb nc op ne nf ng oq ni nj nk or nm nn no os nq nr ns lx bj">The intention of writing a Kubernetes(K8s) operator was growing within me. I began reading articles, exploring GitHub repositories, and consulting my colleagues about it. Although I can’t say it was entirely successful, the intention remained alive.</p><p id="9f26" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">The result of all those efforts was a collection of tutorial projects stored in my <a class="af nt" href="https://github.com/payamQorbanpour" rel="noopener ugc nofollow" target="_blank">GitHub account</a>.</p><p id="3125" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">The process of practising began approximately a year ago when I was first introduced to kubernetes. I was watching Guru’s tutorial for CKAD and then Nana’s tutorial on youtube.</p><p id="bf47" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">I should mention that the process of practicing approximately began a year ago when I was first introduced to Kubernetes. I started by watching <a class="af nt" href="https://www.pluralsight.com/cloud-guru/courses/certified-kubernetes-application-developer-ckad" rel="noopener ugc nofollow" target="_blank">Guru’s tutorial</a> for CKAD and then <a class="af nt" href="https://www.youtube.com/watch?v=X48VuDVv0do&amp;ab_channel=TechWorldwithNana" rel="noopener ugc nofollow" target="_blank">Nana’s tutorial</a> on YouTube.</p></div></div></div><div class="ab ca ot ou ov ow" role="separator"><span class="ox bx bl oy oz pa"></span><span class="ox bx bl oy oz pa"></span><span class="ox bx bl oy oz"></span></div><div class="lx ly lz ma mb"><div class="ab ca"><div class="ch bg fy fz ga gb"><h2 id="581b" class="nv nw mw be nx ny nz dx oa ob oc dz od ng oe of og nk oh oi oj no ok ol om on bj">Turn into ashes</h2><p id="3181" class="pw-post-body-paragraph mu mv mw mx b my oo na nb nc op ne nf ng oq ni nj nk or nm nn no os nq nr ns lx bj">I was deployed for military service.</p><p id="9ba8" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">There was no internet connection, nor even a single electronic device. Instead, we had only hardcover books, volleyball, and the mesmerizing views of sunrise and sunset to entertain us.</p><p id="dcc5" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">In this situation, the thought of creating an operator was fading away. All I cared about was eating, reading books, and enjoying time to time freedom(vacation). However, sometimes that freedom is short, as the commander once remarked:</p><blockquote class="pb pc pd"><p id="e68f" class="mu mv nu mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">The joy of vacation ends the moment you leave the barracks.</p></blockquote><p id="02fa" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">The training course ended, and I began working as an employee in the office, but the lack of internet connectivity was felt there too! In the evenings, I left the office and pursued the job I loved. Sometimes, you have better performance in limited time. So, from 4 pm to 9 pm, I had to create something special. And it was indeed special to me!</p></div></div></div><div class="ab ca ot ou ov ow" role="separator"><span class="ox bx bl oy oz pa"></span><span class="ox bx bl oy oz pa"></span><span class="ox bx bl oy oz"></span></div><div class="lx ly lz ma mb"><div class="ab ca"><div class="ch bg fy fz ga gb"><h2 id="9972" class="nv nw mw be nx ny nz dx oa ob oc dz od ng oe of og nk oh oi oj no ok ol om on bj">The Simorgh has risen</h2><p id="d7cc" class="pw-post-body-paragraph mu mv mw mx b my oo na nb nc op ne nf ng oq ni nj nk or nm nn no os nq nr ns lx bj">After all, with the help of <a class="af nt" href="https://www.codereliant.io/build-kubernetes-operator-kubebuilder/" rel="noopener ugc nofollow" target="_blank">this series</a> I managed to write another Kubernetes operator from the tutorials :) but this time, it was different.</p><div class="gm gn go gp gq pe"><a href="https://www.codereliant.io/build-kubernetes-operator-kubebuilder/?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener  ugc nofollow" target="_blank"><div class="pf ab hy"><div class="pg ab cn ca ph pi"><h2 class="be pj hp z ig pk ii ij pl il in pm bj">Hands-on Kubernetes Operator Development: Kubebuilder</h2><div class="pn l"><h3 class="be b hp z ig pk ii ij pl il in dt">Learn how to develop a Kubernetes Operator from scratch with this hands-on kubebuilder tutorial.</h3></div><div class="po l"><p class="be b du z ig pk ii ij pl il in dt">www.codereliant.io</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu le pe"></div></div></div></a></div><p id="1cf6" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">My colleagues had already developed a backup system, but it appeared to be not working very well. So, they explored for another solution and came across a project named <a class="af nt" href="https://gobackup.github.io/" rel="noopener ugc nofollow" target="_blank">gobackup</a>, designed to regularly back up databases and push them to storage. The issue was that the project didn’t include support for the etcd database. Therefore, they decided to <a class="af nt" href="https://github.com/gobackup/gobackup/pull/225" rel="noopener ugc nofollow" target="_blank">contribute</a> to the project by adding etcd support to meet the requirements. This ultimately led to a new <a class="af nt" href="https://github.com/gobackup/gobackup/releases/tag/v2.10.0" rel="noopener ugc nofollow" target="_blank">release</a>.</p><p id="c0a7" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">In my absence, they decided to develop a Kubernetes operator based on it. This was a significant step for me. When they shared it with me, I eagerly examined the project and thought, “Finally, this is it. The operator is about to be created. Yaay!”</p><p id="31ae" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">While reading the project, I noticed a problem in the project’s README. One of the links led to a 404 page. I took the initiative to fix this and submitted a pull request. <a class="af nt" href="https://github.com/huacnlee" rel="noopener ugc nofollow" target="_blank">The owners</a> accepted it with open arms. :)</p><p id="d3a7" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Encountering such openness, one of my colleagues suggested that we could place this operator under the <a class="af nt" href="https://github.com/gobackup" rel="noopener ugc nofollow" target="_blank">gobackup organization</a> so that more people could contribute to its development.</p><p id="b751" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">I opened an <a class="af nt" href="https://github.com/gobackup/gobackup/issues/231" rel="noopener ugc nofollow" target="_blank">issue</a> and proposed a repository under the <a class="af nt" href="https://github.com/gobackup" rel="noopener ugc nofollow" target="_blank">gobackup organization</a>, and the openness to collaborate was still present.</p><p id="b402" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">During the days, I was serving in the military, and during the nights, I was committing to the gobackup-operator project.</p><h2 id="ccbf" class="nv nw mw be nx ny nz dx oa ob oc dz od ng oe of og nk oh oi oj no ok ol om on bj">Dive into the project</h2><p id="fc40" class="pw-post-body-paragraph mu mv mw mx b my oo na nb nc op ne nf ng oq ni nj nk or nm nn no os nq nr ns lx bj">I began by setting up my environment.</p><p id="5e67" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Fortunately, I already had <code class="cw pv pw px py b">Golang</code>, <code class="cw pv pw px py b">Docker</code>, and <code class="cw pv pw px py b">kubectl</code> installed on my computer. Through previous practices, I had become familiar with local machine Kubernetes clusters like <code class="cw pv pw px py b">Kind</code> and tools for creating operators such as <code class="cw pv pw px py b">kubebuilder</code>.</p><p id="da37" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">So, I initiated the operator code.</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="ebdf" class="qh nw mw py b bf qi qj l qk ql">$ kubebuilder init --domain gobackup.io --repo github.com/gobackup/gobackup-operator</span></pre><p id="a722" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Then I proceeded to create the APIs for the operator:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="2970" class="qh nw mw py b bf qi qj l qk ql">$ kubebuilder create api --group gobackup --version v1 --kind Backup<br/>Create Resource [y/n]<br/>y<br/>Create Controller [y/n]<br/>y</span></pre><p id="27ca" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">And the same for databases and storages:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="0b08" class="qh nw mw py b bf qi qj l qk ql">$ kubebuilder create api --group database.gobackup --version v1 --kind PostgreSQL<br/>Create Resource [y/n]<br/>y<br/>Create Controller [y/n]<br/>y</span></pre><pre class="qm qe py qf bo qg ba bj"><span id="0abf" class="qh nw mw py b bf qi qj l qk ql">$ kubebuilder create api --group storage.gobackup --version v1 --kind S3<br/>Create Resource [y/n]<br/>y<br/>Create Controller [y/n]<br/>y</span></pre><p id="842f" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">I modified the APIs based on the specific requirements of project:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="172b" class="qh nw mw py b bf qi qj l qk ql">// Backup is the Schema for the backups API<br/>type Backup struct {<br/> metav1.TypeMeta   `json:&quot;,inline&quot;`<br/> metav1.ObjectMeta `json:&quot;metadata,omitempty&quot;`<br/><br/> Spec   BackupSpec   `json:&quot;spec,omitempty&quot;`<br/> Status BackupStatus `json:&quot;status,omitempty&quot;`<br/><br/> BackupModelRef BackupModelRef `json:&quot;backupModelRef,omitempty&quot;`<br/> StorageRefs    []StorageRef   `json:&quot;storageRefs,omitempty&quot;`<br/> DatabaseRefs   []DatabaseRef  `json:&quot;databaseRefs,omitempty&quot;`<br/>}</span></pre><p id="4dee" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Next I modified <code class="cw pv pw px py b">Reconcile</code> method:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="2b13" class="qh nw mw py b bf qi qj l qk ql">//+kubebuilder:rbac:groups=gobackup.io,resources=backups,verbs=get;list;watch;create;update;patch;delete<br/>//+kubebuilder:rbac:groups=gobackup.io,resources=backups/status,verbs=get;update;patch<br/>//+kubebuilder:rbac:groups=gobackup.io,resources=backups/finalizers,verbs=update<br/>func (r *BackupReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {<br/> // reconcile implementation<br/>}</span></pre><h2 id="e990" class="nv nw mw be nx ny nz dx oa ob oc dz od ng oe of og nk oh oi oj no ok ol om on bj">Test it out</h2><p id="77a1" class="pw-post-body-paragraph mu mv mw mx b my oo na nb nc op ne nf ng oq ni nj nk or nm nn no os nq nr ns lx bj">Before testing it out, you needed to prepare a test database to back up from. Therefore, Create a PostgreSQL deployment, using the following yaml file available <code class="cw pv pw px py b">gobackup-operator-postgres-deployment.yaml</code> file:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="3c87" class="qh nw mw py b bf qi qj l qk ql">apiVersion: apps/v1<br/>kind: Deployment<br/>metadata:<br/>  name: postgres-deployment<br/>spec:<br/>  selector:<br/>    matchLabels:<br/>      app: postgres<br/>  replicas: 1<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: postgres<br/>    spec:<br/>      containers:<br/>      - name: postgres<br/>        image: postgres:14.11<br/>        env:<br/>        - name: POSTGRES_USER<br/>          value: &quot;&quot;<br/>        - name: POSTGRES_PASSWORD<br/>          value: &quot;&quot;<br/>        - name: PGDATA<br/>          value: &quot;/var/lib/postgresql/data/pgdata&quot;<br/>        volumeMounts:<br/>        - mountPath: /var/lib/postgresql/data<br/>          name: postgredb<br/>      volumes:<br/>      - name: postgredb<br/>        persistentVolumeClaim:<br/>          claimName: postgres-pvc</span></pre><p id="6c1a" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Remember modifying <em class="nu">POSTGRES_USER </em>and <em class="nu">POSTGRES_PASSWORD</em> in the manifest and the apply it:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="ca9e" class="qh nw mw py b bf qi qj l qk ql">kubectl apply -f example/gobackup-opetator-postgres-deployment.yaml, <br/>example/gobackup-opetator-postgres-service.yaml</span></pre><p id="9241" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Additionally, I added some resources to test it inside the Kubernetes cluster, including deployments, roles, clusterroles, serviceaccounts, etc., all of which are available in the <code class="cw pv pw px py b">gobackup-operator/example/</code> directory.</p><p id="e1a4" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">So apply these manifest to add base resources:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="72ba" class="qh nw mw py b bf qi qj l qk ql">kubectl apply -f example/gobackup-opetator-serviceaccount.yaml,<br/>gobackup-opetator-pvc.yaml,<br/>gobackup-opetator-namespace.yaml,<br/>gobackup-opetator-clusterrolebinding.yaml,<br/>gobackup-opetator-clusterrole.yaml</span></pre><p id="bc8f" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">And then storage and database manifests:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="25c5" class="qh nw mw py b bf qi qj l qk ql">kubectl apply -f example/gobackup-opetator-storage/*<br/>kubectl apply -f example/gobackup-opetator-database/*</span></pre><p id="9d02" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Using the following manifest, I was able to run the operator on my local machine:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="7c0e" class="qh nw mw py b bf qi qj l qk ql">kubectl apply -f example/gobackup-opetator-deployment.yaml</span></pre><p id="f1ca" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">So whenever a Backup or CronBackup object is created or changed, the operator will perform the necessary tasks.</p><p id="413a" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">To create a backup model to set backup configuration:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="809f" class="qh nw mw py b bf qi qj l qk ql">kubectl apply -f example/gobackup-opetator/gobackup-opetator-backupmodel.yaml</span></pre><p id="db7b" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">Applying one of manifests in <code class="cw pv pw px py b">gobackup-operator/example/gobackup-operator</code> directory, backup or cronbackup, will trigger the operator to run the backup:</p><pre class="pz qa qb qc qd qe py qf bo qg ba bj"><span id="63b7" class="qh nw mw py b bf qi qj l qk ql">kubectl apply -f example/gobackup-opetator/gobackup-opetator-cronbackup.yaml</span></pre><h2 id="2001" class="nv nw mw be nx ny nz dx oa ob oc dz od ng oe of og nk oh oi oj no ok ol om on bj">Conclusion</h2><p id="5d24" class="pw-post-body-paragraph mu mv mw mx b my oo na nb nc op ne nf ng oq ni nj nk or nm nn no os nq nr ns lx bj">At first, I felt embarrassed about making such a small change in the README file. It felt like one of those PRs you make just to contribute to Hacktoberfest commits.</p><p id="976a" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">But then I thought about its effectiveness. Even those single-line commits were impactful. Who knows, I might not have created this operator if I hadn’t made that change to the README document.</p><p id="982a" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj"><em class="nu">Small steps count!</em></p></div></div></div><div class="ab ca ot ou ov ow" role="separator"><span class="ox bx bl oy oz pa"></span><span class="ox bx bl oy oz pa"></span><span class="ox bx bl oy oz"></span></div><div class="lx ly lz ma mb"><div class="ab ca"><div class="ch bg fy fz ga gb"><p id="a527" class="pw-post-body-paragraph mu mv mw mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">You’re always welcome to take a look and contribute <a class="af nt" href="https://github.com/gobackup/gobackup-operator" rel="noopener ugc nofollow" target="_blank">here</a>. If you need to change even the README file, don’t hesitate to do it. ;)</p><blockquote class="pb pc pd"><p id="aaee" class="mu mv nu mx b my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns lx bj">If you found this post charming then <strong class="mx pj">clap</strong>, <strong class="mx pj">comment and follow </strong>for more<strong class="mx pj">.</strong></p></blockquote></div></div></div></div></section></div></div></article><div class="ab ca"><div class="ch bg fy fz ga gb"></div></div></div><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="qn qo ab ib"><div class="pn ab"><a class="qp ax am ao" href="https://medium.com/tag/kubernetes?source=post_page-----5f98f7ef9f75---------------kubernetes-----------------" rel="noopener follow"><div class="qq fi cw qr gd qs qt be b bf z bj qu">Kubernetes</div></a></div><div class="pn ab"><a class="qp ax am ao" href="https://medium.com/tag/kubernetes-operator?source=post_page-----5f98f7ef9f75---------------kubernetes_operator-----------------" rel="noopener follow"><div class="qq fi cw qr gd qs qt be b bf z bj qu">Kubernetes Operator</div></a></div><div class="pn ab"><a class="qp ax am ao" href="https://medium.com/tag/golang?source=post_page-----5f98f7ef9f75---------------golang-----------------" rel="noopener follow"><div class="qq fi cw qr gd qs qt be b bf z bj qu">Golang</div></a></div><div class="pn ab"><a class="qp ax am ao" href="https://medium.com/tag/military-service?source=post_page-----5f98f7ef9f75---------------military_service-----------------" rel="noopener follow"><div class="qq fi cw qr gd qs qt be b bf z bj qu">Military Service</div></a></div></div></div></div><div class="l"></div><footer class="qv qw qx qy qz ra rb rc rd ab q re hl c"><div class="l ae"><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="ab co rf"><div class="ab q jw"><div class="rg l"><span class="l rh ri rj e d"><div class="ab q jw jx"><div class="pw-multi-vote-icon fi if jy jz ka"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fitnext%2F5f98f7ef9f75&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=-----5f98f7ef9f75---------------------clap_footer-----------" rel="noopener follow"><div><div class="bl" aria-hidden="false"><div class="kb ao kc kd ke kf am kg kh ki ka"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kj kk kl km kn ko kp"><p class="be b du z dt"><span class="kq">--</span></p></div></div></span><span class="l h g f rk rl"><div class="ab q jw jx"><div class="pw-multi-vote-icon fi if jy jz ka"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fitnext%2F5f98f7ef9f75&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=-----5f98f7ef9f75---------------------clap_footer-----------" rel="noopener follow"><div><div class="bl" aria-hidden="false"><div class="kb ao kc kd ke kf am kg kh ki ka"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kj kk kl km kn ko kp"><p class="be b du z dt"><span class="kq">--</span></p></div></div></span></div><div class="bp ab"><div><div class="bl" aria-hidden="false"><button class="ao kb kr ks ab q fj kt ku" aria-label="responses"><svg width="24" height="24" viewBox="0 0 24 24" class="kv"><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg></button></div></div></div></div><div class="ab q"><div class="pa l hy"><div><div class="bl" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5f98f7ef9f75&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;source=--------------------------bookmark_footer-----------" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="dt kx" aria-label="Add to list bookmark button"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="currentColor"></path></svg></a></span></div></div></div><div class="pa l hy"><div class="bl" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bl" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="af fj ah ai aj ak al lf an ao ap ew lg lh ku li"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.22 4.93a.42.42 0 0 1-.12.13h.01a.45.45 0 0 1-.29.08.52.52 0 0 1-.3-.13L12.5 3v7.07a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V3.02l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.8a.42.42 0 0 1 .07.5zm-.1.14zm.88 2h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.14c.1.1.15.22.15.35a.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9V8.96c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1z" fill="currentColor"></path></svg></button></div></div></div></div></div></div></div></div></div></footer><div class="rm rn ro rp rq l bw"><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="ck ab rr co"><div class="ab hb"><a href="https://medium.com/@payamqorbanpour?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><div class="l rs rt bx ru hf"><div class="l fi"><img alt="Payam Qorbanpour" class="l fc bx rv rw cw" src="https://miro.medium.com/v2/resize:fill:144:144/1*w9SkYIW3RsbuTS4ginRz9w.jpeg" width="72" height="72" loading="lazy"/><div class="hg bx l rv rw fr n hh fs"></div></div></div></a><a href="https://itnext.io/?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><div class="rx ab fi"><div><div class="bl" aria-hidden="false"><div class="l ry rz bx ru hl"><div class="l fi"><img alt="ITNEXT" class="l fc bx by bz cw" src="https://miro.medium.com/v2/resize:fill:64:64/1*yAqDFIFA5F_NXalOJKz4TA.png" width="32" height="32" loading="lazy"/><div class="hg bx l by bz fr n hh fs"></div></div></div></div></div></div></a></div><div class="j i d"><div class="ab"><span><a class="be b bf z eo qq ep eq er es et eu ev ew ex ey ez sa fa fb fc bl fd fe" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff6f80c903cb9&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=post_page-f6f80c903cb9----5f98f7ef9f75---------------------follow_profile-----------" rel="noopener follow">Follow</a></span><div class="ds l"><div><div><div class="bl" aria-hidden="false"><div class="l"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Ff6f80c903cb9%2Flazily-enable-writer-subscription&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=-----5f98f7ef9f75---------------------subscribe_user-----------" rel="noopener follow"><button class="be b bf z sc am sd se sf sg sh si sj sk ev ew ex ey ez fa fb fc bl fd fe" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="sb rz ry"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5L19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div><div class="ab cm co"><div class="l"><div class="ab q"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab q" href="https://medium.com/@payamqorbanpour?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><h2 class="pw-author-name be sl sm sn so bj"><span class="lx">Written by <!-- -->Payam Qorbanpour</span></h2></a></div><div class="pn ab"><div class="l hy"><span class="pw-follower-count be b bf z bj"><a class="af ag ah ai aj ak al am an ao ap aq ar hr" href="https://medium.com/@payamqorbanpour/followers?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow">7 Followers</a></span></div><div class="be b bf z ig ih ii ab ik il im in dt ie"><span class="hs l" aria-hidden="true"><span class="be b bf z dt">·</span></span><span class="l hy">Writer for </span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar hr ab q" href="https://itnext.io/?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b bf z ig ih ii ij ik il im in bj">ITNEXT</p></a></div></div></div></div><div class="qm l"><p class="be b bf z bj"><span class="lx">To give meaning to the world as much as I can.</span></p></div></div><div class="h k"><div class="ab"><span><a class="be b bf z eo qq ep eq er es et eu ev ew ex ey ez sa fa fb fc bl fd fe" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff6f80c903cb9&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=post_page-f6f80c903cb9----5f98f7ef9f75---------------------follow_profile-----------" rel="noopener follow">Follow</a></span><div class="ds l"><div><div><div class="bl" aria-hidden="false"><div class="l"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fusers%2Ff6f80c903cb9%2Flazily-enable-writer-subscription&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75&amp;user=Payam+Qorbanpour&amp;userId=f6f80c903cb9&amp;source=-----5f98f7ef9f75---------------------subscribe_user-----------" rel="noopener follow"><button class="be b bf z sc am sd se sf sg sh si sj sk ev ew ex ey ez fa fb fc bl fd fe" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="sb rz ry"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5L19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div><div class="sp bg sq mf mg mh mi mj"></div></div></div><div class="h k j"><div class="sp bg sq sr"></div><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="ss ab jw ib"><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://help.medium.com/hc/en-us?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Help</p></a></div><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.statuspage.io/?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Status</p></a></div><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/about?autoplay=1&amp;source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">About</p></a></div><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Careers</p></a></div><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.medium.com/?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Blog</p></a></div><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Privacy</p></a></div><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Terms</p></a></div><div class="st su l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://speechify.com/medium?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Text to speech</p></a></div><div class="st l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/business?source=post_page-----5f98f7ef9f75--------------------------------" rel="noopener follow"><p class="be b du z dt">Teams</p></a></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20240506-203317-a496e4bac9"</script><script>window.__GRAPHQL_URI__ = "https://itnext.io/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"This request is not using the cache middleware worker","group":"disabled","tags":["group-edgeCachePosts","post-5f98f7ef9f75","user-f6f80c903cb9","collection-5b301f10ddcd"],"serverVariantState":"","middlewareEnabled":false,"cacheStatus":"DYNAMIC","shouldUseCache":false,"vary":[],"loHomepageEnabled":false,"updatedPostPreviewsEnabled":false,"recommendedTagsQueryEnabled":false,"enableLohpEditorEntry":false},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"COLLECTION","id":"5b301f10ddcd","explicit":true},"viewerIsBot":false},"debug":{"requestId":"a8edb8d4-c5a4-4df1-87f5-0b6aa0cb92d7","hybridDevServices":[],"originalSpanCarrier":{"ot-tracer-spanid":"31b4e26725b44279","ot-tracer-traceid":"679b141d514aee7f","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fitnext.io\u002Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75","host":"itnext.io","hostname":"itnext.io","referrer":"https:\u002F\u002Fwww.google.com","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false},"config":{"nodeEnv":"production","version":"main-20240506-203317-a496e4bac9","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20240506-203317-a496e4bac9","commit":"a496e4bac9875dd272bf81b3ed2f5684fd377b57"}},"datacenter":"us"},"googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","isLoggedIn":false,"viewer":null,"variantFlags":[{"__typename":"VariantFlag","name":"enable_lohp_editor_entry","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_play_purchase_on_backend","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recommended_tags_query","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"covid_19_cdc_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"price_smoke_test_monthly","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"enable_braintree_trial_membership","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mobile_lohp_short_hero","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"can_receive_tips_v0","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"crm_send_contact_to_sendgrid","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_diversification_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tag_recs","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pre_pp_v4","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recaptcha_enterprise","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_speechify_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automod","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_eventstats_event_processing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sharer_create_post_share_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"web_enable_syntax_highlighting","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_friend_links_postpage_banners","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_creator_welcome_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_deprecate_legacy_providers_v3","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_google_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_legacy_feed_in_iceland","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_offline_reading","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_friend_links_postpage_banners","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_expired_membership_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_dynamic_programming_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sharer_validate_post_share_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_speechify_widget","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_susi_redesign_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_monthly_premium_plan","valueType":{"__typename":"VariantFlagString","value":"12a660186432"}},{"__typename":"VariantFlag","name":"can_send_tips_v0","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_seamless_social_sharing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_miro_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_archive_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_easy_resubscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_user_onboarding_emails_flow","valueType":{"__typename":"VariantFlagString","value":"group_2"}},{"__typename":"VariantFlag","name":"enable_pp_dashboard_referred_earnings","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_in_app_free_trial","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reader_fair_distribution_non_qp","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipping_v0_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_auto_follow_on_subscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mps_pp_writer_stats","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_friend_links_creation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_editor_new_publishing_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mastodon_avatar_upload","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"enable_premium_tier_badge","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_syntax_highlight","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_offline_reading","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_v4","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_remove_twitter_onboarding_step","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards_byline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_switch_plan_premium_tier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"enable_lite_continue_this_thread","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_spam_buster","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_group_gifting","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"onboarding_tags_from_top_views","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_reading_history","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cache_less_following_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_aggregator_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_tagline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_rating_prompt_stories_read_threshold","valueType":{"__typename":"VariantFlagNumber"}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_moc_load_processor_c","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipping_v0_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mastodon_for_members_username_selection","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_verified_author","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_autorefresh","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_friend_links_creation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_simplified_digest_v2_b","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_social_share_sheet","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_image_sharer","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefined_top_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pill_based_home_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound-source-serif-pro"}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"textshots_userid","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recirc_model","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_dynamic_paywall_programming","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sprig","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"skip_fs_cache_user_vals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_iceland_forced_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lohp_with_search","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"price_smoke_test_yearly","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_response_markup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lohp_focused","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_maim_the_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_susi_redesign_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_lists_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_partner_program_enrollment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_newsletter_lo_flow_custom_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reengagement_notification_duration","valueType":{"__typename":"VariantFlagNumber"}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"enable_mastodon_for_members","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_premium_tier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_new_user_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"available_annual_premium_plan","valueType":{"__typename":"VariantFlagString","value":"4a442ace1476"}},{"__typename":"VariantFlag","name":"enable_verifications_service","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_two_hour_refresh","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_bg_post_post","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_dynamic_paywall_aspiriational","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_members_only_audio","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_verified_book_author","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"rex_generator_max_candidates","valueType":{"__typename":"VariantFlagNumber"}},{"__typename":"VariantFlag","name":"android_enable_topic_portals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"enable_rex_new_push_notification_endpoint","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_display_paywall_after_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_dynamic_aspirational_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_entities_to_follow_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"collectionByDomainOrSlug({\"domainOrSlug\":\"itnext.io\"})":{"__ref":"Collection:5b301f10ddcd"},"postResult({\"id\":\"5f98f7ef9f75\"})":{"__ref":"Post:5f98f7ef9f75"}},"ImageMetadata:1*SiXeRxgOt0pAYlYhwZIu3g.png":{"__typename":"ImageMetadata","id":"1*SiXeRxgOt0pAYlYhwZIu3g.png"},"Collection:5b301f10ddcd":{"__typename":"Collection","id":"5b301f10ddcd","favicon":{"__ref":"ImageMetadata:1*SiXeRxgOt0pAYlYhwZIu3g.png"},"customStyleSheet":null,"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFE6F5FF","point":0},{"__typename":"ColorPoint","color":"#FFE2F4FF","point":0.1},{"__typename":"ColorPoint","color":"#FFDDF2FF","point":0.2},{"__typename":"ColorPoint","color":"#FFD8F1FF","point":0.3},{"__typename":"ColorPoint","color":"#FFD3F0FF","point":0.4},{"__typename":"ColorPoint","color":"#FFCDEFFF","point":0.5},{"__typename":"ColorPoint","color":"#FFC8EDFF","point":0.6},{"__typename":"ColorPoint","color":"#FFC3ECFF","point":0.7},{"__typename":"ColorPoint","color":"#FFBDEBFF","point":0.8},{"__typename":"ColorPoint","color":"#FFB7E9FF","point":0.9},{"__typename":"ColorPoint","color":"#FFB1E8FF","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF3F8DCE","point":0},{"__typename":"ColorPoint","color":"#FF3F83BD","point":0.1},{"__typename":"ColorPoint","color":"#FF3D79AD","point":0.2},{"__typename":"ColorPoint","color":"#FF3B6E9C","point":0.3},{"__typename":"ColorPoint","color":"#FF38648B","point":0.4},{"__typename":"ColorPoint","color":"#FF34597A","point":0.5},{"__typename":"ColorPoint","color":"#FF2F4E6A","point":0.6},{"__typename":"ColorPoint","color":"#FF2A4259","point":0.7},{"__typename":"ColorPoint","color":"#FF233648","point":0.8},{"__typename":"ColorPoint","color":"#FF1B2937","point":0.9},{"__typename":"ColorPoint","color":"#FF121B25","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF1A71B1","colorPoints":[{"__typename":"ColorPoint","color":"#FF1A71B1","point":0},{"__typename":"ColorPoint","color":"#FF3E82BC","point":0.1},{"__typename":"ColorPoint","color":"#FF5892C7","point":0.2},{"__typename":"ColorPoint","color":"#FF6EA1D1","point":0.3},{"__typename":"ColorPoint","color":"#FF84B0DB","point":0.4},{"__typename":"ColorPoint","color":"#FF98BEE4","point":0.5},{"__typename":"ColorPoint","color":"#FFACCCED","point":0.6},{"__typename":"ColorPoint","color":"#FFBFDAF6","point":0.7},{"__typename":"ColorPoint","color":"#FFD1E7FE","point":0.8},{"__typename":"ColorPoint","color":"#FFE4F4FF","point":0.9},{"__typename":"ColorPoint","color":"#FFF6FFFF","point":1}]}},"googleAnalyticsId":"UA-29035124-5","editors":[{"__typename":"CollectionMastheadUserItem","user":{"__ref":"User:bd28806f72a6"}},{"__typename":"CollectionMastheadUserItem","user":{"__ref":"User:a00cb31d6074"}},{"__typename":"CollectionMastheadUserItem","user":{"__ref":"User:5db23d2304f9"}},{"__typename":"CollectionMastheadUserItem","user":{"__ref":"User:cb3f1b710e82"}},{"__typename":"CollectionMastheadUserItem","user":{"__ref":"User:56eec51fd7a0"}}],"name":"ITNEXT","avatar":{"__ref":"ImageMetadata:1*yAqDFIFA5F_NXalOJKz4TA.png"},"domain":"itnext.io","slug":"itnext","description":"ITNEXT is a platform for IT developers & software engineers to share knowledge, connect, collaborate, learn and experience next-gen technologies.","subscriberCount":55097,"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:5b301f10ddcd-viewerId:lo_8f3e76192498"},"twitterUsername":"itnext_io","facebookPageId":null,"logo":{"__ref":"ImageMetadata:1*jWhTrIoYwTUdKuVXycqAaw.png"}},"User:bd28806f72a6":{"__typename":"User","id":"bd28806f72a6"},"User:a00cb31d6074":{"__typename":"User","id":"a00cb31d6074"},"User:5db23d2304f9":{"__typename":"User","id":"5db23d2304f9"},"User:cb3f1b710e82":{"__typename":"User","id":"cb3f1b710e82"},"User:56eec51fd7a0":{"__typename":"User","id":"56eec51fd7a0"},"ImageMetadata:1*yAqDFIFA5F_NXalOJKz4TA.png":{"__typename":"ImageMetadata","id":"1*yAqDFIFA5F_NXalOJKz4TA.png"},"LinkedAccounts:f6f80c903cb9":{"__typename":"LinkedAccounts","mastodon":null,"id":"f6f80c903cb9"},"UserViewerEdge:userId:f6f80c903cb9-viewerId:lo_8f3e76192498":{"__typename":"UserViewerEdge","id":"userId:f6f80c903cb9-viewerId:lo_8f3e76192498","isFollowing":false,"isUser":false,"isMuting":false},"User:f6f80c903cb9":{"__typename":"User","id":"f6f80c903cb9","linkedAccounts":{"__ref":"LinkedAccounts:f6f80c903cb9"},"isSuspended":false,"imageId":"1*w9SkYIW3RsbuTS4ginRz9w.jpeg","mediumMemberAt":0,"verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"name":"Payam Qorbanpour","socialStats":{"__typename":"SocialStats","followerCount":7},"username":"payamqorbanpour","customDomainState":null,"hasSubdomain":false,"bio":"To give meaning to the world as much as I can.","isPartnerProgramEnrolled":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:f6f80c903cb9-viewerId:lo_8f3e76192498"},"viewerIsUser":false,"newsletterV3":null,"postSubscribeMembershipUpsellShownAt":0,"allowNotes":true,"membership":null,"twitterScreenName":""},"ImageMetadata:1*bPuZj4i3fv7uxqelc7Vqaw.png":{"__typename":"ImageMetadata","id":"1*bPuZj4i3fv7uxqelc7Vqaw.png","originalHeight":282,"originalWidth":856,"focusPercentX":null,"focusPercentY":null,"alt":"Kubernetes Operator"},"Paragraph:b93a96866867_0":{"__typename":"Paragraph","id":"b93a96866867_0","name":"fbc9","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*bPuZj4i3fv7uxqelc7Vqaw.png"},"text":"Kubernetes Operator","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_1":{"__typename":"Paragraph","id":"b93a96866867_1","name":"55ff","type":"P","href":null,"layout":null,"metadata":null,"text":"As a backend developer dealing with Kubernetes daily, I’ve always carried the hope of writing an operator to expand the boundaries of my knowledge. However, obstacles emerged and hindered me from achieving this goal.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_2":{"__typename":"Paragraph","id":"b93a96866867_2","name":"cae4","type":"P","href":null,"layout":null,"metadata":null,"text":"This is the story of how I wrote the gobackup-operator while serving in the military.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":37,"end":54,"href":"https:\u002F\u002Fgithub.com\u002Fgobackup\u002Fgobackup-operator","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_3":{"__typename":"Paragraph","id":"b93a96866867_3","name":"6009","type":"P","href":null,"layout":null,"metadata":null,"text":"tl;dr: Jump right into “Dive into the project” section","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":0,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_4":{"__typename":"Paragraph","id":"b93a96866867_4","name":"e686","type":"H4","href":null,"layout":null,"metadata":null,"text":"Sharpening the axe","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_5":{"__typename":"Paragraph","id":"b93a96866867_5","name":"98d0","type":"P","href":null,"layout":null,"metadata":null,"text":"The intention of writing a Kubernetes(K8s) operator was growing within me. I began reading articles, exploring GitHub repositories, and consulting my colleagues about it. Although I can’t say it was entirely successful, the intention remained alive.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_6":{"__typename":"Paragraph","id":"b93a96866867_6","name":"9f26","type":"P","href":null,"layout":null,"metadata":null,"text":"The result of all those efforts was a collection of tutorial projects stored in my GitHub account.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":83,"end":97,"href":"https:\u002F\u002Fgithub.com\u002FpayamQorbanpour","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_7":{"__typename":"Paragraph","id":"b93a96866867_7","name":"3125","type":"P","href":null,"layout":null,"metadata":null,"text":"The process of practising began approximately a year ago when I was first introduced to kubernetes. I was watching Guru’s tutorial for CKAD and then Nana’s tutorial on youtube.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_8":{"__typename":"Paragraph","id":"b93a96866867_8","name":"bf47","type":"P","href":null,"layout":null,"metadata":null,"text":"I should mention that the process of practicing approximately began a year ago when I was first introduced to Kubernetes. I started by watching Guru’s tutorial for CKAD and then Nana’s tutorial on YouTube.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":144,"end":159,"href":"https:\u002F\u002Fwww.pluralsight.com\u002Fcloud-guru\u002Fcourses\u002Fcertified-kubernetes-application-developer-ckad","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":178,"end":193,"href":"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=X48VuDVv0do&ab_channel=TechWorldwithNana","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_9":{"__typename":"Paragraph","id":"b93a96866867_9","name":"581b","type":"H4","href":null,"layout":null,"metadata":null,"text":"Turn into ashes","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_10":{"__typename":"Paragraph","id":"b93a96866867_10","name":"3181","type":"P","href":null,"layout":null,"metadata":null,"text":"I was deployed for military service.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_11":{"__typename":"Paragraph","id":"b93a96866867_11","name":"9ba8","type":"P","href":null,"layout":null,"metadata":null,"text":"There was no internet connection, nor even a single electronic device. Instead, we had only hardcover books, volleyball, and the mesmerizing views of sunrise and sunset to entertain us.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_12":{"__typename":"Paragraph","id":"b93a96866867_12","name":"dcc5","type":"P","href":null,"layout":null,"metadata":null,"text":"In this situation, the thought of creating an operator was fading away. All I cared about was eating, reading books, and enjoying time to time freedom(vacation). However, sometimes that freedom is short, as the commander once remarked:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_13":{"__typename":"Paragraph","id":"b93a96866867_13","name":"e68f","type":"BQ","href":null,"layout":null,"metadata":null,"text":"The joy of vacation ends the moment you leave the barracks.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_14":{"__typename":"Paragraph","id":"b93a96866867_14","name":"02fa","type":"P","href":null,"layout":null,"metadata":null,"text":"The training course ended, and I began working as an employee in the office, but the lack of internet connectivity was felt there too! In the evenings, I left the office and pursued the job I loved. Sometimes, you have better performance in limited time. So, from 4 pm to 9 pm, I had to create something special. And it was indeed special to me!","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_15":{"__typename":"Paragraph","id":"b93a96866867_15","name":"9972","type":"H4","href":null,"layout":null,"metadata":null,"text":"The Simorgh has risen","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_16":{"__typename":"Paragraph","id":"b93a96866867_16","name":"d7cc","type":"P","href":null,"layout":null,"metadata":null,"text":"After all, with the help of this series I managed to write another Kubernetes operator from the tutorials :) but this time, it was different.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":28,"end":39,"href":"https:\u002F\u002Fwww.codereliant.io\u002Fbuild-kubernetes-operator-kubebuilder\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_17":{"__typename":"Paragraph","id":"b93a96866867_17","name":"d70f","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Hands-on Kubernetes Operator Development: Kubebuilder\nLearn how to develop a Kubernetes Operator from scratch with this hands-on kubebuilder tutorial.www.codereliant.io","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":168,"href":"https:\u002F\u002Fwww.codereliant.io\u002Fbuild-kubernetes-operator-kubebuilder\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":54,"end":150,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":{"__typename":"MixtapeMetadata","href":"https:\u002F\u002Fwww.codereliant.io\u002Fbuild-kubernetes-operator-kubebuilder\u002F","mediaResource":{"__typename":"MediaResource","mediumCatalog":null},"thumbnailImageId":"0*IPu3d7l0KVU5AQbk"}},"Paragraph:b93a96866867_18":{"__typename":"Paragraph","id":"b93a96866867_18","name":"1cf6","type":"P","href":null,"layout":null,"metadata":null,"text":"My colleagues had already developed a backup system, but it appeared to be not working very well. So, they explored for another solution and came across a project named gobackup, designed to regularly back up databases and push them to storage. The issue was that the project didn’t include support for the etcd database. Therefore, they decided to contribute to the project by adding etcd support to meet the requirements. This ultimately led to a new release.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":169,"end":177,"href":"https:\u002F\u002Fgobackup.github.io\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":349,"end":359,"href":"https:\u002F\u002Fgithub.com\u002Fgobackup\u002Fgobackup\u002Fpull\u002F225","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":453,"end":460,"href":"https:\u002F\u002Fgithub.com\u002Fgobackup\u002Fgobackup\u002Freleases\u002Ftag\u002Fv2.10.0","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_19":{"__typename":"Paragraph","id":"b93a96866867_19","name":"c0a7","type":"P","href":null,"layout":null,"metadata":null,"text":"In my absence, they decided to develop a Kubernetes operator based on it. This was a significant step for me. When they shared it with me, I eagerly examined the project and thought, “Finally, this is it. The operator is about to be created. Yaay!”","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_20":{"__typename":"Paragraph","id":"b93a96866867_20","name":"31ae","type":"P","href":null,"layout":null,"metadata":null,"text":"While reading the project, I noticed a problem in the project’s README. One of the links led to a 404 page. I took the initiative to fix this and submitted a pull request. The owners accepted it with open arms. :)","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":172,"end":182,"href":"https:\u002F\u002Fgithub.com\u002Fhuacnlee","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_21":{"__typename":"Paragraph","id":"b93a96866867_21","name":"d3a7","type":"P","href":null,"layout":null,"metadata":null,"text":"Encountering such openness, one of my colleagues suggested that we could place this operator under the gobackup organization so that more people could contribute to its development.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":103,"end":124,"href":"https:\u002F\u002Fgithub.com\u002Fgobackup","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_22":{"__typename":"Paragraph","id":"b93a96866867_22","name":"b751","type":"P","href":null,"layout":null,"metadata":null,"text":"I opened an issue and proposed a repository under the gobackup organization, and the openness to collaborate was still present.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":12,"end":17,"href":"https:\u002F\u002Fgithub.com\u002Fgobackup\u002Fgobackup\u002Fissues\u002F231","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":54,"end":75,"href":"https:\u002F\u002Fgithub.com\u002Fgobackup","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_23":{"__typename":"Paragraph","id":"b93a96866867_23","name":"b402","type":"P","href":null,"layout":null,"metadata":null,"text":"During the days, I was serving in the military, and during the nights, I was committing to the gobackup-operator project.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_24":{"__typename":"Paragraph","id":"b93a96866867_24","name":"ccbf","type":"H4","href":null,"layout":null,"metadata":null,"text":"Dive into the project","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_25":{"__typename":"Paragraph","id":"b93a96866867_25","name":"fc40","type":"P","href":null,"layout":null,"metadata":null,"text":"I began by setting up my environment.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_26":{"__typename":"Paragraph","id":"b93a96866867_26","name":"5e67","type":"P","href":null,"layout":null,"metadata":null,"text":"Fortunately, I already had Golang, Docker, and kubectl installed on my computer. Through previous practices, I had become familiar with local machine Kubernetes clusters like Kind and tools for creating operators such as kubebuilder.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":27,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":35,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":47,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":175,"end":179,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":221,"end":232,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_27":{"__typename":"Paragraph","id":"b93a96866867_27","name":"da37","type":"P","href":null,"layout":null,"metadata":null,"text":"So, I initiated the operator code.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_28":{"__typename":"Paragraph","id":"b93a96866867_28","name":"ebdf","type":"PRE","href":null,"layout":null,"metadata":null,"text":"$ kubebuilder init --domain gobackup.io --repo github.com\u002Fgobackup\u002Fgobackup-operator","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_29":{"__typename":"Paragraph","id":"b93a96866867_29","name":"a722","type":"P","href":null,"layout":null,"metadata":null,"text":"Then I proceeded to create the APIs for the operator:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_30":{"__typename":"Paragraph","id":"b93a96866867_30","name":"2970","type":"PRE","href":null,"layout":null,"metadata":null,"text":"$ kubebuilder create api --group gobackup --version v1 --kind Backup\nCreate Resource [y\u002Fn]\ny\nCreate Controller [y\u002Fn]\ny","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_31":{"__typename":"Paragraph","id":"b93a96866867_31","name":"27ca","type":"P","href":null,"layout":null,"metadata":null,"text":"And the same for databases and storages:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_32":{"__typename":"Paragraph","id":"b93a96866867_32","name":"0b08","type":"PRE","href":null,"layout":null,"metadata":null,"text":"$ kubebuilder create api --group database.gobackup --version v1 --kind PostgreSQL\nCreate Resource [y\u002Fn]\ny\nCreate Controller [y\u002Fn]\ny","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_33":{"__typename":"Paragraph","id":"b93a96866867_33","name":"0abf","type":"PRE","href":null,"layout":null,"metadata":null,"text":"$ kubebuilder create api --group storage.gobackup --version v1 --kind S3\nCreate Resource [y\u002Fn]\ny\nCreate Controller [y\u002Fn]\ny","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_34":{"__typename":"Paragraph","id":"b93a96866867_34","name":"842f","type":"P","href":null,"layout":null,"metadata":null,"text":"I modified the APIs based on the specific requirements of project:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_35":{"__typename":"Paragraph","id":"b93a96866867_35","name":"172b","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\u002F\u002F Backup is the Schema for the backups API\ntype Backup struct {\n metav1.TypeMeta   `json:\",inline\"`\n metav1.ObjectMeta `json:\"metadata,omitempty\"`\n\n Spec   BackupSpec   `json:\"spec,omitempty\"`\n Status BackupStatus `json:\"status,omitempty\"`\n\n BackupModelRef BackupModelRef `json:\"backupModelRef,omitempty\"`\n StorageRefs    []StorageRef   `json:\"storageRefs,omitempty\"`\n DatabaseRefs   []DatabaseRef  `json:\"databaseRefs,omitempty\"`\n}","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_36":{"__typename":"Paragraph","id":"b93a96866867_36","name":"4dee","type":"P","href":null,"layout":null,"metadata":null,"text":"Next I modified Reconcile method:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":16,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_37":{"__typename":"Paragraph","id":"b93a96866867_37","name":"2b13","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\u002F\u002F+kubebuilder:rbac:groups=gobackup.io,resources=backups,verbs=get;list;watch;create;update;patch;delete\n\u002F\u002F+kubebuilder:rbac:groups=gobackup.io,resources=backups\u002Fstatus,verbs=get;update;patch\n\u002F\u002F+kubebuilder:rbac:groups=gobackup.io,resources=backups\u002Ffinalizers,verbs=update\nfunc (r *BackupReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {\n \u002F\u002F reconcile implementation\n}","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_38":{"__typename":"Paragraph","id":"b93a96866867_38","name":"e990","type":"H4","href":null,"layout":null,"metadata":null,"text":"Test it out","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_39":{"__typename":"Paragraph","id":"b93a96866867_39","name":"77a1","type":"P","href":null,"layout":null,"metadata":null,"text":"Before testing it out, you needed to prepare a test database to back up from. Therefore, Create a PostgreSQL deployment, using the following yaml file available gobackup-operator-postgres-deployment.yaml file:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":161,"end":203,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_40":{"__typename":"Paragraph","id":"b93a96866867_40","name":"3c87","type":"PRE","href":null,"layout":null,"metadata":null,"text":"apiVersion: apps\u002Fv1\nkind: Deployment\nmetadata:\n  name: postgres-deployment\nspec:\n  selector:\n    matchLabels:\n      app: postgres\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: postgres\n    spec:\n      containers:\n      - name: postgres\n        image: postgres:14.11\n        env:\n        - name: POSTGRES_USER\n          value: \"\"\n        - name: POSTGRES_PASSWORD\n          value: \"\"\n        - name: PGDATA\n          value: \"\u002Fvar\u002Flib\u002Fpostgresql\u002Fdata\u002Fpgdata\"\n        volumeMounts:\n        - mountPath: \u002Fvar\u002Flib\u002Fpostgresql\u002Fdata\n          name: postgredb\n      volumes:\n      - name: postgredb\n        persistentVolumeClaim:\n          claimName: postgres-pvc","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"yaml"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_41":{"__typename":"Paragraph","id":"b93a96866867_41","name":"6c1a","type":"P","href":null,"layout":null,"metadata":null,"text":"Remember modifying POSTGRES_USER and POSTGRES_PASSWORD in the manifest and the apply it:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":19,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":37,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_42":{"__typename":"Paragraph","id":"b93a96866867_42","name":"ca9e","type":"PRE","href":null,"layout":null,"metadata":null,"text":"kubectl apply -f example\u002Fgobackup-opetator-postgres-deployment.yaml, \nexample\u002Fgobackup-opetator-postgres-service.yaml","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_43":{"__typename":"Paragraph","id":"b93a96866867_43","name":"9241","type":"P","href":null,"layout":null,"metadata":null,"text":"Additionally, I added some resources to test it inside the Kubernetes cluster, including deployments, roles, clusterroles, serviceaccounts, etc., all of which are available in the gobackup-operator\u002Fexample\u002F directory.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":180,"end":206,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_44":{"__typename":"Paragraph","id":"b93a96866867_44","name":"e1a4","type":"P","href":null,"layout":null,"metadata":null,"text":"So apply these manifest to add base resources:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_45":{"__typename":"Paragraph","id":"b93a96866867_45","name":"72ba","type":"PRE","href":null,"layout":null,"metadata":null,"text":"kubectl apply -f example\u002Fgobackup-opetator-serviceaccount.yaml,\ngobackup-opetator-pvc.yaml,\ngobackup-opetator-namespace.yaml,\ngobackup-opetator-clusterrolebinding.yaml,\ngobackup-opetator-clusterrole.yaml","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_46":{"__typename":"Paragraph","id":"b93a96866867_46","name":"bc8f","type":"P","href":null,"layout":null,"metadata":null,"text":"And then storage and database manifests:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_47":{"__typename":"Paragraph","id":"b93a96866867_47","name":"25c5","type":"PRE","href":null,"layout":null,"metadata":null,"text":"kubectl apply -f example\u002Fgobackup-opetator-storage\u002F*\nkubectl apply -f example\u002Fgobackup-opetator-database\u002F*","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_48":{"__typename":"Paragraph","id":"b93a96866867_48","name":"9d02","type":"P","href":null,"layout":null,"metadata":null,"text":"Using the following manifest, I was able to run the operator on my local machine:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_49":{"__typename":"Paragraph","id":"b93a96866867_49","name":"7c0e","type":"PRE","href":null,"layout":null,"metadata":null,"text":"kubectl apply -f example\u002Fgobackup-opetator-deployment.yaml","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_50":{"__typename":"Paragraph","id":"b93a96866867_50","name":"f1ca","type":"P","href":null,"layout":null,"metadata":null,"text":"So whenever a Backup or CronBackup object is created or changed, the operator will perform the necessary tasks.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_51":{"__typename":"Paragraph","id":"b93a96866867_51","name":"413a","type":"P","href":null,"layout":null,"metadata":null,"text":"To create a backup model to set backup configuration:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_52":{"__typename":"Paragraph","id":"b93a96866867_52","name":"809f","type":"PRE","href":null,"layout":null,"metadata":null,"text":"kubectl apply -f example\u002Fgobackup-opetator\u002Fgobackup-opetator-backupmodel.yaml","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_53":{"__typename":"Paragraph","id":"b93a96866867_53","name":"db7b","type":"P","href":null,"layout":null,"metadata":null,"text":"Applying one of manifests in gobackup-operator\u002Fexample\u002Fgobackup-operator directory, backup or cronbackup, will trigger the operator to run the backup:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":29,"end":72,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_54":{"__typename":"Paragraph","id":"b93a96866867_54","name":"63b7","type":"PRE","href":null,"layout":null,"metadata":null,"text":"kubectl apply -f example\u002Fgobackup-opetator\u002Fgobackup-opetator-cronbackup.yaml","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_55":{"__typename":"Paragraph","id":"b93a96866867_55","name":"2001","type":"H4","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_56":{"__typename":"Paragraph","id":"b93a96866867_56","name":"5d24","type":"P","href":null,"layout":null,"metadata":null,"text":"At first, I felt embarrassed about making such a small change in the README file. It felt like one of those PRs you make just to contribute to Hacktoberfest commits.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_57":{"__typename":"Paragraph","id":"b93a96866867_57","name":"976a","type":"P","href":null,"layout":null,"metadata":null,"text":"But then I thought about its effectiveness. Even those single-line commits were impactful. Who knows, I might not have created this operator if I hadn’t made that change to the README document.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_58":{"__typename":"Paragraph","id":"b93a96866867_58","name":"982a","type":"P","href":null,"layout":null,"metadata":null,"text":"Small steps count!","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":0,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_59":{"__typename":"Paragraph","id":"b93a96866867_59","name":"a527","type":"P","href":null,"layout":null,"metadata":null,"text":"You’re always welcome to take a look and contribute here. If you need to change even the README file, don’t hesitate to do it. ;)","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":52,"end":56,"href":"https:\u002F\u002Fgithub.com\u002Fgobackup\u002Fgobackup-operator","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:b93a96866867_60":{"__typename":"Paragraph","id":"b93a96866867_60","name":"aaee","type":"BQ","href":null,"layout":null,"metadata":null,"text":"If you found this post charming then clap, comment and follow for more.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":37,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":43,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":70,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"CollectionViewerEdge:collectionId:5b301f10ddcd-viewerId:lo_8f3e76192498":{"__typename":"CollectionViewerEdge","id":"collectionId:5b301f10ddcd-viewerId:lo_8f3e76192498","isEditor":false,"isMuting":false},"ImageMetadata:1*jWhTrIoYwTUdKuVXycqAaw.png":{"__typename":"ImageMetadata","id":"1*jWhTrIoYwTUdKuVXycqAaw.png","originalWidth":800,"originalHeight":152},"Tag:kubernetes":{"__typename":"Tag","id":"kubernetes","displayTitle":"Kubernetes","normalizedTagSlug":"kubernetes"},"Tag:kubernetes-operator":{"__typename":"Tag","id":"kubernetes-operator","displayTitle":"Kubernetes Operator","normalizedTagSlug":"kubernetes-operator"},"Tag:golang":{"__typename":"Tag","id":"golang","displayTitle":"Golang","normalizedTagSlug":"golang"},"Tag:military-service":{"__typename":"Tag","id":"military-service","displayTitle":"Military Service","normalizedTagSlug":"military-service"},"Post:5f98f7ef9f75":{"__typename":"Post","id":"5f98f7ef9f75","collection":{"__ref":"Collection:5b301f10ddcd"},"content({\"postMeteringOptions\":{}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"db7a","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"fed5","startIndex":9,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"f837","startIndex":15,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"85b2","startIndex":59,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:b93a96866867_0"},{"__ref":"Paragraph:b93a96866867_1"},{"__ref":"Paragraph:b93a96866867_2"},{"__ref":"Paragraph:b93a96866867_3"},{"__ref":"Paragraph:b93a96866867_4"},{"__ref":"Paragraph:b93a96866867_5"},{"__ref":"Paragraph:b93a96866867_6"},{"__ref":"Paragraph:b93a96866867_7"},{"__ref":"Paragraph:b93a96866867_8"},{"__ref":"Paragraph:b93a96866867_9"},{"__ref":"Paragraph:b93a96866867_10"},{"__ref":"Paragraph:b93a96866867_11"},{"__ref":"Paragraph:b93a96866867_12"},{"__ref":"Paragraph:b93a96866867_13"},{"__ref":"Paragraph:b93a96866867_14"},{"__ref":"Paragraph:b93a96866867_15"},{"__ref":"Paragraph:b93a96866867_16"},{"__ref":"Paragraph:b93a96866867_17"},{"__ref":"Paragraph:b93a96866867_18"},{"__ref":"Paragraph:b93a96866867_19"},{"__ref":"Paragraph:b93a96866867_20"},{"__ref":"Paragraph:b93a96866867_21"},{"__ref":"Paragraph:b93a96866867_22"},{"__ref":"Paragraph:b93a96866867_23"},{"__ref":"Paragraph:b93a96866867_24"},{"__ref":"Paragraph:b93a96866867_25"},{"__ref":"Paragraph:b93a96866867_26"},{"__ref":"Paragraph:b93a96866867_27"},{"__ref":"Paragraph:b93a96866867_28"},{"__ref":"Paragraph:b93a96866867_29"},{"__ref":"Paragraph:b93a96866867_30"},{"__ref":"Paragraph:b93a96866867_31"},{"__ref":"Paragraph:b93a96866867_32"},{"__ref":"Paragraph:b93a96866867_33"},{"__ref":"Paragraph:b93a96866867_34"},{"__ref":"Paragraph:b93a96866867_35"},{"__ref":"Paragraph:b93a96866867_36"},{"__ref":"Paragraph:b93a96866867_37"},{"__ref":"Paragraph:b93a96866867_38"},{"__ref":"Paragraph:b93a96866867_39"},{"__ref":"Paragraph:b93a96866867_40"},{"__ref":"Paragraph:b93a96866867_41"},{"__ref":"Paragraph:b93a96866867_42"},{"__ref":"Paragraph:b93a96866867_43"},{"__ref":"Paragraph:b93a96866867_44"},{"__ref":"Paragraph:b93a96866867_45"},{"__ref":"Paragraph:b93a96866867_46"},{"__ref":"Paragraph:b93a96866867_47"},{"__ref":"Paragraph:b93a96866867_48"},{"__ref":"Paragraph:b93a96866867_49"},{"__ref":"Paragraph:b93a96866867_50"},{"__ref":"Paragraph:b93a96866867_51"},{"__ref":"Paragraph:b93a96866867_52"},{"__ref":"Paragraph:b93a96866867_53"},{"__ref":"Paragraph:b93a96866867_54"},{"__ref":"Paragraph:b93a96866867_55"},{"__ref":"Paragraph:b93a96866867_56"},{"__ref":"Paragraph:b93a96866867_57"},{"__ref":"Paragraph:b93a96866867_58"},{"__ref":"Paragraph:b93a96866867_59"},{"__ref":"Paragraph:b93a96866867_60"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:f6f80c903cb9"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Fitnext.io\u002Fhow-to-write-a-kubernetes-operator-5f98f7ef9f75","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"programming"}],"isPublished":true,"latestPublishedVersion":"b93a96866867","visibility":"PUBLIC","postResponses":{"__typename":"PostResponses","count":0},"createdAt":1710437197476,"firstPublishedAt":1713675086176,"latestPublishedAt":1714986143721,"clapCount":24,"allowResponses":true,"isLimitedState":false,"title":"How to Write a Kubernetes Operator","isSeries":false,"sequence":null,"uniqueSlug":"how-to-write-a-kubernetes-operator-5f98f7ef9f75","socialTitle":"","socialDek":"","noIndex":null,"canonicalUrl":"","metaDescription":"","readingTime":4.626415094339623,"previewContent":{"__typename":"PreviewContent","subtitle":"The Story of Creating gobackup-operator While Serving in the…"},"previewImage":{"__ref":"ImageMetadata:1*bPuZj4i3fv7uxqelc7Vqaw.png"},"isShortform":false,"seoTitle":"","updatedAt":1714986144263,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:kubernetes"},{"__ref":"Tag:kubernetes-operator"},{"__ref":"Tag:golang"},{"__ref":"Tag:military-service"}],"isNewsletter":false,"statusForCollection":"APPROVED","pendingCollection":null,"detectedLanguage":"en","wordCount":1173,"layerCake":0}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.9f29ac84.js"></script><script src="https://cdn-client.medium.com/lite/static/js/3057.5e22bbb0.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.832f5cd9.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.7c58a71f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.2021fe63.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6068.e9093f2e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4398.db4d4378.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7883.0e445e04.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9281.e9be8bce.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7111.1421aaa2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6481.e3e8b67f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8695.17d1af21.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6358.a78f5809.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4341.e697d2a1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8512.d5403226.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5514.97be1308.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5203.910c275f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7098.7bbb418a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2187.784e23a7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8597.86d62990.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1711.b70f1a35.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9174.244cf6ba.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8883.c8b03d13.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/705.da9267d6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5781.39279ff8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8580.feeb2549.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6046.f9be485b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6605.84e81b15.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/500.596a9584.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9408.9f41b422.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6637.8a411a8c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8565.ce53d42b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4667.993ebc2b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.793c1f2c.chunk.js"></script><script>window.main();</script></body></html>