<!doctype html><html lang="en"><head><title data-rh="true">How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL | by Team Timescale | Timescale | Dec, 2024 | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2024-12-31T13:01:06.146Z"/><meta data-rh="true" name="title" content="How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL | by Team Timescale | Timescale | Dec, 2024 | Medium"/><meta data-rh="true" property="og:title" content="How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL"/><meta data-rh="true" property="al:android:url" content="medium://p/c329d5fc02d9"/><meta data-rh="true" property="al:ios:url" content="medium://p/c329d5fc02d9"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="PostgreSQL is a great option for IoT data and the real-time analytics it often requires. Need proof? Read how we built and benchmarked an IoT pipeline."/><meta data-rh="true" property="og:description" content="PostgreSQL is a great option for IoT data and the real-time analytics it often requires. Read how we built and benchmarked an IoT pipeline."/><meta data-rh="true" property="og:url" content="https://medium.com/timescale/how-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9"/><meta data-rh="true" property="al:web:url" content="https://medium.com/timescale/how-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/da:true/resize:fit:1200/0*5i5C_3d8fFMWYfCm"/><meta data-rh="true" property="article:author" content="https://medium.com/@team-timescale"/><meta data-rh="true" name="author" content="Team Timescale"/><meta data-rh="true" name="robots" content="index,noarchive,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" property="twitter:title" content="How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL"/><meta data-rh="true" name="twitter:site" content="@timescaledb"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/c329d5fc02d9"/><meta data-rh="true" property="twitter:description" content="PostgreSQL is a great option for IoT data and the real-time analytics it often requires. Read how we built and benchmarked an IoT pipeline."/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/da:true/resize:fit:1200/0*5i5C_3d8fFMWYfCm"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="15 min read"/><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/5d8de952517e8160e40ef9841c781cdc14a5db313057fa3c3de41c6f5b494b19"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:304:304/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:240:240/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:152:152/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:120:120/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="mask-icon" href="https://miro.medium.com/v2/resize:fill:1000:1000/7*GAOKVe--MXbEJmV9230oOQ.png" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@team-timescale"/><link data-rh="true" rel="canonical" href="https://www.timescale.com/blog/how-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/c329d5fc02d9"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fda:true\u002Fresize:fit:1200\u002F0*5i5C_3d8fFMWYfCm"],"url":"https:\u002F\u002Fmedium.com\u002Ftimescale\u002Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9","dateCreated":"2024-12-31T13:01:06.146Z","datePublished":"2024-12-31T13:01:06.146Z","dateModified":"2024-12-31T14:28:34.092Z","headline":"How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL","name":"How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL","description":"PostgreSQL is a great option for IoT data and the real-time analytics it often requires. Need proof? Read how we built and benchmarked an IoT pipeline.","identifier":"c329d5fc02d9","author":{"@type":"Person","name":"Team Timescale","url":"https:\u002F\u002Fmedium.com\u002F@team-timescale"},"creator":["Team Timescale"],"publisher":{"@type":"Organization","name":"Timescale","url":"https:\u002F\u002Fmedium.com\u002Ftimescale","logo":{"@type":"ImageObject","width":163,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:326\u002F1*gOEnwizcgWX1HSdbJslc9A.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Ftimescale\u002Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9"}</script><style type="text/css" data-fela-rehydration="576" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="576" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:sticky}.n{top:0}.o{z-index:500}.p{padding:0 24px}.q{align-items:center}.r{border-bottom:solid 1px #F2F2F2}.y{height:41px}.z{line-height:20px}.ab{display:flex}.ac{height:57px}.ae{flex:1 0 auto}.af{color:inherit}.ag{fill:inherit}.ah{font-size:inherit}.ai{border:inherit}.aj{font-family:inherit}.ak{letter-spacing:inherit}.al{font-weight:inherit}.am{padding:0}.an{margin:0}.ao{cursor:pointer}.ap:disabled{cursor:not-allowed}.aq:disabled{color:#6B6B6B}.ar:disabled{fill:#6B6B6B}.au{width:auto}.av path{fill:#242424}.aw{height:25px}.ax{margin-left:16px}.ay{border:none}.az{border-radius:20px}.ba{width:240px}.bb{background:#F9F9F9}.bc path{fill:#6B6B6B}.be{outline:none}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{width:100%}.bi{padding:10px 20px 10px 0}.bj{background-color:transparent}.bk{color:#242424}.bl::placeholder{color:#6B6B6B}.bm{display:inline-block}.bn{margin-left:12px}.bo{margin-right:12px}.bp{border-radius:4px}.bq{margin-left:24px}.br{height:24px}.bx{background-color:#F9F9F9}.by{border-radius:50%}.bz{height:32px}.ca{width:32px}.cb{justify-content:center}.ch{max-width:680px}.ci{min-width:0}.cj{animation:k1 1.2s ease-in-out infinite}.ck{height:100vh}.cl{margin-bottom:16px}.cm{margin-top:48px}.cn{align-items:flex-start}.co{flex-direction:column}.cp{justify-content:space-between}.cq{margin-bottom:24px}.cw{width:80%}.cx{background-color:#F2F2F2}.dd{height:44px}.de{width:44px}.df{margin:auto 0}.dg{margin-bottom:4px}.dh{height:16px}.di{width:120px}.dj{width:80px}.dp{margin-bottom:8px}.dq{width:96%}.dr{width:98%}.ds{width:81%}.dt{margin-left:8px}.du{color:#6B6B6B}.dv{font-size:13px}.dw{height:100%}.ep{color:#FFFFFF}.eq{fill:#FFFFFF}.er{background:rgba(134, 132, 132, 1)}.es{border-color:rgba(134, 132, 132, 1)}.ew:disabled{cursor:inherit !important}.ex:disabled{opacity:0.3}.ey:disabled:hover{background:rgba(134, 132, 132, 1)}.ez:disabled:hover{border-color:rgba(134, 132, 132, 1)}.fa{border-radius:99em}.fb{border-width:1px}.fc{border-style:solid}.fd{box-sizing:border-box}.fe{text-decoration:none}.ff{text-align:center}.fi{margin-right:32px}.fj{position:relative}.fk{fill:#6B6B6B}.fn{background:transparent}.fo svg{margin-left:4px}.fp svg{fill:#6B6B6B}.fr{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fs{position:absolute}.fz{margin:0 24px}.gd{background:rgba(255, 255, 255, 1)}.ge{border:1px solid #F2F2F2}.gf{box-shadow:0 1px 4px #F2F2F2}.gg{max-height:100vh}.gh{overflow-y:auto}.gi{left:0}.gj{top:calc(100vh + 100px)}.gk{bottom:calc(100vh + 100px)}.gl{width:10px}.gm{pointer-events:none}.gn{word-break:break-word}.go{word-wrap:break-word}.gp:after{display:block}.gq:after{content:""}.gr:after{clear:both}.gs{line-height:1.23}.gt{letter-spacing:0}.gu{font-style:normal}.gv{font-weight:700}.ia{align-items:baseline}.ib{width:48px}.ic{height:48px}.id{border:2px solid rgba(255, 255, 255, 1)}.ie{z-index:0}.if{box-shadow:none}.ig{border:1px solid rgba(0, 0, 0, 0.05)}.ih{margin-left:-12px}.ii{width:28px}.ij{height:28px}.ik{z-index:1}.il{width:24px}.im{margin-bottom:2px}.in{flex-wrap:nowrap}.io{font-size:16px}.ip{line-height:24px}.ir{margin:0 8px}.is{display:inline}.it{color:rgba(134, 132, 132, 1)}.iu{fill:rgba(134, 132, 132, 1)}.ix{flex:0 0 auto}.ja{flex-wrap:wrap}.jd{white-space:pre-wrap}.je{margin-right:4px}.jf{overflow:hidden}.jg{max-height:20px}.jh{text-overflow:ellipsis}.ji{display:-webkit-box}.jj{-webkit-line-clamp:1}.jk{-webkit-box-orient:vertical}.jl{word-break:break-all}.jn{padding-left:8px}.jo{padding-right:8px}.kp> *{flex-shrink:0}.kq{overflow-x:scroll}.kr::-webkit-scrollbar{display:none}.ks{scrollbar-width:none}.kt{-ms-overflow-style:none}.ku{width:74px}.kv{flex-direction:row}.kw{z-index:2}.kz{-webkit-user-select:none}.la{border:0}.lb{fill:rgba(117, 117, 117, 1)}.le{outline:0}.lf{user-select:none}.lg> svg{pointer-events:none}.lp{cursor:progress}.lq{opacity:1}.lr{padding:4px 0}.lu{margin-top:0px}.lv{width:16px}.lx{display:inline-flex}.md{max-width:100%}.me{padding:8px 2px}.mf svg{color:#6B6B6B}.mw{margin-left:auto}.mx{margin-right:auto}.my{max-width:1246px}.ne{clear:both}.ng{cursor:zoom-in}.nh{z-index:auto}.nj{height:auto}.nk{line-height:1.58}.nl{letter-spacing:-0.004em}.nm{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.oh{margin-bottom:-0.46em}.oi{text-decoration:underline}.oj{font-style:italic}.ok{list-style-type:disc}.ol{margin-left:30px}.om{padding-left:0px}.os{line-height:1.12}.ot{letter-spacing:-0.022em}.ou{font-weight:600}.pp{margin-bottom:-0.28em}.pv{line-height:1.18}.qj{margin-bottom:-0.31em}.qp{overflow-x:auto}.qq{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.qr{padding:32px}.qs{border:1px solid #E5E5E5}.qt{line-height:1.4}.qu{margin-top:-0.2em}.qv{margin-bottom:-0.2em}.qw{white-space:pre}.qx{min-width:fit-content}.qy{padding:2px 4px}.qz{font-size:75%}.ra> strong{font-family:inherit}.rb{margin-top:32px}.rc{margin-bottom:14px}.rd{padding-top:24px}.re{padding-bottom:10px}.rf{background-color:#000000}.rg{height:3px}.rh{width:3px}.ri{margin-right:20px}.rj{max-width:1247px}.rk{max-width:1240px}.rl{max-width:1243px}.rm{max-width:1245px}.rn{max-width:1244px}.ro{margin-bottom:26px}.rp{margin-top:6px}.rq{margin-top:8px}.rr{margin-right:8px}.rs{padding:8px 16px}.rt{border-radius:100px}.ru{transition:background 300ms ease}.rw{white-space:nowrap}.rx{border-top:none}.ry{height:52px}.rz{max-height:52px}.sa{box-sizing:content-box}.sb{position:static}.sd{max-width:155px}.so{height:0px}.sp{margin-bottom:40px}.sq{margin-bottom:48px}.te{border-radius:2px}.tg{height:64px}.th{width:64px}.ti{align-self:flex-end}.tj{flex:1 1 auto}.tp{padding-right:4px}.tq{font-weight:500}.tx{margin-top:16px}.ty{color:rgba(255, 255, 255, 1)}.tz{fill:rgba(255, 255, 255, 1)}.ua{background:rgba(25, 25, 25, 1)}.ub{border-color:rgba(25, 25, 25, 1)}.ue:disabled{opacity:0.1}.uf:disabled:hover{background:rgba(25, 25, 25, 1)}.ug:disabled:hover{border-color:rgba(25, 25, 25, 1)}.uh{margin-bottom:54px}.un{gap:18px}.uo{fill:rgba(61, 61, 61, 1)}.va{border-bottom:solid 1px #E5E5E5}.vb{margin-top:72px}.vc{padding:24px 0}.vd{margin-bottom:0px}.ve{margin-right:16px}.as:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.at:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.et:hover{background:rgba(115, 113, 113, 1)}.eu:hover{border-color:rgba(115, 113, 113, 1)}.ev:hover{cursor:pointer}.fl:hover{color:#242424}.fm:hover{fill:#242424}.fq:hover svg{fill:#242424}.ft:hover{background-color:rgba(0, 0, 0, 0.1)}.iq:hover{text-decoration:underline}.iv:hover:not(:disabled){color:rgba(115, 113, 113, 1)}.iw:hover:not(:disabled){fill:rgba(115, 113, 113, 1)}.ld:hover{fill:rgba(8, 8, 8, 1)}.ls:hover{fill:#000000}.lt:hover p{color:#000000}.lw:hover{color:#000000}.mg:hover svg{color:#000000}.rv:hover{background-color:#F2F2F2}.tf:hover{background-color:none}.uc:hover{background:#000000}.ud:hover{border-color:#242424}.up:hover{fill:rgba(25, 25, 25, 1)}.bd:focus-within path{fill:#242424}.lc:focus{fill:rgba(8, 8, 8, 1)}.mh:focus svg{color:#000000}.ni:focus{transform:scale(1.01)}.lh:active{border-style:none}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.bw{width:64px}.cg{margin:0 64px}.cv{height:48px}.dc{margin-bottom:52px}.do{margin-bottom:48px}.ef{font-size:14px}.eg{line-height:20px}.em{font-size:13px}.eo{padding:5px 12px}.fh{display:flex}.fy{margin-bottom:68px}.gc{max-width:680px}.hq{font-size:42px}.hr{margin-top:1.19em}.hs{margin-bottom:32px}.ht{line-height:52px}.hu{letter-spacing:-0.011em}.hz{align-items:center}.kb{border-top:solid 1px #F2F2F2}.kc{border-bottom:solid 1px #F2F2F2}.kd{margin:32px 0 0}.ke{padding:3px 8px}.kn> *{margin-right:24px}.ko> :last-child{margin-right:0}.lo{margin-top:0px}.mc{margin:0}.nd{margin-top:40px}.od{font-size:20px}.oe{margin-top:2.14em}.of{line-height:32px}.og{letter-spacing:-0.003em}.or{margin-top:1.14em}.pl{font-size:24px}.pm{margin-top:1.95em}.pn{line-height:30px}.po{letter-spacing:-0.016em}.pu{margin-top:0.94em}.qg{margin-top:1.72em}.qh{line-height:24px}.qi{letter-spacing:0}.qo{margin-top:56px}.si{display:inline-block}.sn{margin-bottom:104px}.sr{flex-direction:row}.su{margin-bottom:0}.sv{margin-right:20px}.tk{max-width:500px}.um{margin-bottom:72px}.uu{margin:40px 0 0}.uz{padding-top:72px}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.ln{margin-top:0px}.sh{display:inline-block}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.lm{margin-top:0px}.sg{display:inline-block}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.lk{margin-top:0px}.ll{margin-right:0px}.sf{display:inline-block}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.s{display:flex}.t{justify-content:space-between}.bs{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dx{font-size:13px}.dy{line-height:20px}.eh{padding:0px 8px 1px}.fu{margin-bottom:4px}.gw{font-size:32px}.gx{margin-top:1.01em}.gy{margin-bottom:24px}.gz{line-height:38px}.ha{letter-spacing:-0.014em}.hv{align-items:flex-start}.iy{flex-direction:column}.jb{margin-bottom:2px}.jp{margin:24px -24px 0}.jq{padding:0}.kf> *{margin-right:8px}.kg> :last-child{margin-right:24px}.kx{margin-left:0px}.li{margin-top:0px}.lj{margin-right:0px}.ly{margin:0}.mi{border:1px solid #F2F2F2}.mj{border-radius:99em}.mk{padding:0px 16px 0px 12px}.ml{height:38px}.mm{align-items:center}.mo svg{margin-right:8px}.mz{margin-top:32px}.nn{font-size:18px}.no{margin-top:1.56em}.np{line-height:28px}.nq{letter-spacing:-0.003em}.on{margin-top:1.34em}.ov{font-size:20px}.ow{margin-top:1.2em}.ox{line-height:24px}.oy{letter-spacing:0}.pq{margin-top:0.67em}.pw{font-size:16px}.px{margin-top:1.23em}.qk{margin-top:40px}.se{display:inline-block}.sj{margin-bottom:96px}.tc{margin-bottom:20px}.td{margin-right:0}.to{max-width:100%}.tr{font-size:24px}.ts{line-height:30px}.tt{letter-spacing:-0.016em}.ui{margin-bottom:64px}.uq{margin:32px 0 0}.uv{padding-top:48px}.mn:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.bv{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ed{font-size:14px}.ee{line-height:20px}.ek{font-size:13px}.el{padding:5px 12px}.fg{display:flex}.fx{margin-bottom:68px}.gb{max-width:680px}.hl{font-size:42px}.hm{margin-top:1.19em}.hn{margin-bottom:32px}.ho{line-height:52px}.hp{letter-spacing:-0.011em}.hy{align-items:center}.jx{border-top:solid 1px #F2F2F2}.jy{border-bottom:solid 1px #F2F2F2}.jz{margin:32px 0 0}.ka{padding:3px 8px}.kl> *{margin-right:24px}.km> :last-child{margin-right:0}.mb{margin:0}.nc{margin-top:40px}.nz{font-size:20px}.oa{margin-top:2.14em}.ob{line-height:32px}.oc{letter-spacing:-0.003em}.oq{margin-top:1.14em}.ph{font-size:24px}.pi{margin-top:1.95em}.pj{line-height:30px}.pk{letter-spacing:-0.016em}.pt{margin-top:0.94em}.qd{margin-top:1.72em}.qe{line-height:24px}.qf{letter-spacing:0}.qn{margin-top:56px}.sm{margin-bottom:104px}.ss{flex-direction:row}.sw{margin-bottom:0}.sx{margin-right:20px}.tl{max-width:500px}.ul{margin-bottom:72px}.ut{margin:40px 0 0}.uy{padding-top:72px}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.w{display:flex}.x{justify-content:space-between}.bu{width:64px}.ce{margin:0 48px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.eb{font-size:13px}.ec{line-height:20px}.ej{padding:0px 8px 1px}.fw{margin-bottom:68px}.ga{max-width:680px}.hg{font-size:42px}.hh{margin-top:1.19em}.hi{margin-bottom:32px}.hj{line-height:52px}.hk{letter-spacing:-0.011em}.hx{align-items:center}.jt{border-top:solid 1px #F2F2F2}.ju{border-bottom:solid 1px #F2F2F2}.jv{margin:32px 0 0}.jw{padding:3px 8px}.kj> *{margin-right:24px}.kk> :last-child{margin-right:0}.ma{margin:0}.nb{margin-top:40px}.nv{font-size:20px}.nw{margin-top:2.14em}.nx{line-height:32px}.ny{letter-spacing:-0.003em}.op{margin-top:1.14em}.pd{font-size:24px}.pe{margin-top:1.95em}.pf{line-height:30px}.pg{letter-spacing:-0.016em}.ps{margin-top:0.94em}.qa{margin-top:1.72em}.qb{line-height:24px}.qc{letter-spacing:0}.qm{margin-top:56px}.sl{margin-bottom:104px}.st{flex-direction:row}.sy{margin-bottom:0}.sz{margin-right:20px}.tm{max-width:500px}.uk{margin-bottom:72px}.us{margin:40px 0 0}.ux{padding-top:72px}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.u{display:flex}.v{justify-content:space-between}.bt{width:24px}.cd{margin:0 24px}.cs{height:40px}.cz{margin-bottom:44px}.dl{margin-bottom:32px}.dz{font-size:13px}.ea{line-height:20px}.ei{padding:0px 8px 1px}.fv{margin-bottom:4px}.hb{font-size:32px}.hc{margin-top:1.01em}.hd{margin-bottom:24px}.he{line-height:38px}.hf{letter-spacing:-0.014em}.hw{align-items:flex-start}.iz{flex-direction:column}.jc{margin-bottom:2px}.jr{margin:24px 0 0}.js{padding:0}.kh> *{margin-right:8px}.ki> :last-child{margin-right:8px}.ky{margin-left:0px}.lz{margin:0}.mp{border:1px solid #F2F2F2}.mq{border-radius:99em}.mr{padding:0px 16px 0px 12px}.ms{height:38px}.mt{align-items:center}.mv svg{margin-right:8px}.na{margin-top:32px}.nr{font-size:18px}.ns{margin-top:1.56em}.nt{line-height:28px}.nu{letter-spacing:-0.003em}.oo{margin-top:1.34em}.oz{font-size:20px}.pa{margin-top:1.2em}.pb{line-height:24px}.pc{letter-spacing:0}.pr{margin-top:0.67em}.py{font-size:16px}.pz{margin-top:1.23em}.ql{margin-top:40px}.sk{margin-bottom:96px}.ta{margin-bottom:20px}.tb{margin-right:0}.tn{max-width:100%}.tu{font-size:24px}.tv{line-height:30px}.tw{letter-spacing:-0.016em}.uj{margin-bottom:64px}.ur{margin:32px 0 0}.uw{padding-top:48px}.mu:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="print">.sc{display:none}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.jm{max-height:none}</style><style type="text/css" data-fela-rehydration="576" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.nf{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="l m n o c"><div class="p q r s t u v w x i d y z"><a class="du ag dv bf ak b am an ao ap aq ar as at s u w i d q dw z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fc329d5fc02d9&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderCollection&amp;source=---top_nav_layout_nav----------------------------------" rel="noopener follow">Open in app<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 10 10" class="dt"><path fill="currentColor" d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z"></path></svg></a><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------">Sign in</a></span></p></div></div></div><div class="p q r ab ac"><div class="ab q ae"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab" aria-label="Homepage" data-testid="headerMediumLogo" rel="noopener follow" href="/?source=---top_nav_layout_nav----------------------------------"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" viewBox="0 0 719 160" class="au av aw"><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></a><div class="ax h"><div class="ab ay az ba bb q bc bd"><div class="bm" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bn bo ab"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="ay be bf bg z bh bi bj bk bl" placeholder="Search" value=""/></div></div></div><div class="h k w fg fh"><div class="fi ab"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerWriteButton" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---top_nav_layout_nav-----------------------new_post_topnav-----------"><div class="bf b bg z du fj fk ab q fl fm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Write"><path fill="currentColor" d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z"></path><path stroke="currentColor" d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2"></path></svg><div class="dt l">Write</div></div></a></span></div></div><div class="k j i d"><div class="fi ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSearchButton" rel="noopener follow" href="/search?source=---top_nav_layout_nav----------------------------------"><div class="bf b bg z du fj fk ab q fl fm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Search"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div></a></div></div><div class="fi h k j"><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------">Sign in</a></span></p></div></div></div><div class="l" aria-hidden="false"><button class="ay fn am ab q ao fo fp fq" aria-label="user options menu" data-testid="headerUserIcon"><div class="l fj"><img alt="" class="l fd by bz ca cx" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"/><div class="fr by l bz ca fs n ay ft"></div></div></button></div></div></div><div class="l"><div class="fu fv fw fx fy l"><div class="ab cb"><div class="ci bh fz ga gb gc"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="fs gi gj gk gl gm"></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><div><h1 id="d456" class="pw-post-title gs gt gu bf gv gw gx gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht hu bk" data-testid="storyTitle">How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL</h1><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hv hw hx hy hz ab"><div><div class="ab ia"><div><div class="bm" aria-hidden="false"><a rel="noopener follow" href="/@team-timescale?source=post_page---byline--c329d5fc02d9--------------------------------"><div class="l ib ic by id ie"><div class="l fj"><img alt="Team Timescale" class="l fd by dd de cx" src="https://miro.medium.com/v2/resize:fill:88:88/1*1hiEAsTlce_ICvVpGm2Cgg.png" width="44" height="44" loading="lazy" data-testid="authorPhoto"/><div class="if by l dd de fs n ig ft"></div></div></div></a></div></div><div class="ih ab fj"><div><div class="bm" aria-hidden="false"><a href="https://medium.com/timescale?source=post_page---byline--c329d5fc02d9--------------------------------" rel="noopener follow"><div class="l ii ij by id ik"><div class="l fj"><img alt="Timescale" class="l fd by br il cx" src="https://miro.medium.com/v2/resize:fill:48:48/1*1hiEAsTlce_ICvVpGm2Cgg.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto"/><div class="if by l br il fs n ig ft"></div></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="im ab q"><div class="ab q in"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b io ip bk"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" data-testid="authorName" rel="noopener follow" href="/@team-timescale?source=post_page---byline--c329d5fc02d9--------------------------------">Team Timescale</a></p></div></div></div><span class="ir is" aria-hidden="true"><span class="bf b bg z du">·</span></span><p class="bf b io ip du"><span><a class="it iu ah ai aj ak al am an ao ap aq ar ex iv iw" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc84b80175451&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;user=Team+Timescale&amp;userId=c84b80175451&amp;source=post_page-c84b80175451--byline--c329d5fc02d9---------------------post_header-----------">Follow</a></span></p></div></div></span></div></div><div class="l ix"><span class="bf b bg z du"><div class="ab cn iy iz ja"><div class="jb jc ab"><div class="bf b bg z du ab jd"><span class="je l ix">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar iq ab q" data-testid="publicationName" href="https://medium.com/timescale?source=post_page---byline--c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b bg z jf jg jh ji jj jk jl jm bk">Timescale</p></a></div></div></div><div class="h k"><span class="ir is" aria-hidden="true"><span class="bf b bg z du">·</span></span></div></div><span class="bf b bg z du"><div class="ab ae"><span data-testid="storyReadTime">15 min read</span><div class="jn jo l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z du">·</span></span></div>1 day ago</div></span></div></span></div></div></div><div class="ab cp jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke"><div class="h k w fg fh q"><div class="ku l"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftimescale%2Fc329d5fc02d9&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;user=Team+Timescale&amp;userId=c84b80175451&amp;source=---header_actions--c329d5fc02d9---------------------clap_footer-----------"><div><div class="bm" aria-hidden="false"><div class="la ao lb lc ld le am lf lg lh kz"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao la lq lr ab q fk ls lt" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="lu"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div><div class="ab q kf kg kh ki kj kk kl km kn ko kp kq kr ks kt"><div class="lv k j i d"></div><div class="h k"><div><div class="bm" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc329d5fc02d9&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;source=---header_actions--c329d5fc02d9---------------------bookmark_footer-----------"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du lw" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="fd lx cn"><div class="l ae"><div class="ab cb"><div class="ly lz ma mb mc md ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af fk ah ai aj ak al me an ao ap ex mf mg lt mh mi mj mk ml s mm mn mo mp mq mr ms u mt mu mv"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af fk ah ai aj ak al me an ao ap ex mf mg lt mh mi mj mk ml s mm mn mo mp mq mr ms u mt mu mv"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Share</p></div></button></div></div></div></div></div></div></div></div></div><figure class="mz na nb nc nd ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx my"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*5i5C_3d8fFMWYfCm 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*5i5C_3d8fFMWYfCm 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*5i5C_3d8fFMWYfCm 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*5i5C_3d8fFMWYfCm 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*5i5C_3d8fFMWYfCm 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*5i5C_3d8fFMWYfCm 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5i5C_3d8fFMWYfCm 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*5i5C_3d8fFMWYfCm 640w, https://miro.medium.com/v2/resize:fit:720/0*5i5C_3d8fFMWYfCm 720w, https://miro.medium.com/v2/resize:fit:750/0*5i5C_3d8fFMWYfCm 750w, https://miro.medium.com/v2/resize:fit:786/0*5i5C_3d8fFMWYfCm 786w, https://miro.medium.com/v2/resize:fit:828/0*5i5C_3d8fFMWYfCm 828w, https://miro.medium.com/v2/resize:fit:1100/0*5i5C_3d8fFMWYfCm 1100w, https://miro.medium.com/v2/resize:fit:1400/0*5i5C_3d8fFMWYfCm 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="355" loading="eager" role="presentation"/></picture></div></div></figure><p id="f185" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">The Internet of Things (IoT) is transforming industries by connecting devices and enabling real-time data sharing. For applications that do predictive maintenance, enable smart cities, and implement industrial automation, managing IoT data effectively is key to ensuring smooth operations and timely decision-making.</p><p id="748b" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">While many organizations opt to manage the deluge of sensor data and power their real-time analytics using different databases, <a class="af oi" href="https://www.timescale.com/blog/storing-iot-data-why-you-should-use-postgresql/" rel="noopener ugc nofollow" target="_blank">we’ve always favored PostgreSQL</a>. With the help of extensions like <a class="af oi" href="https://docs.timescale.com/" rel="noopener ugc nofollow" target="_blank">TimescaleDB</a>, which <em class="oj">is </em>PostgreSQL under the hood and adds automatic data partitioning, always up-to-date materialized views, and a powerful hybrid-row columnar storage engine to PostgreSQL, this relational database becomes a robust IoT database.</p><p id="55d2" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">With these additions, PostgreSQL keeps your relational and time-series data in one place as it endlessly grows, simplifies your operations, and provides speed and scale for real-time analytics.</p><p id="1bd8" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">To demonstrate this, in this blog, we’ll explore the following:</p><ul class=""><li id="7433" class="nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh ok ol om bk">How to integrate PostgreSQL (with TimescaleDB) with Kafka for efficient data ingestion.</li><li id="7fc4" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">We’ll assess the performance of the data pipeline, measuring throughput and latency from data generation to storage.</li><li id="4a24" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Finally, we’ll set up monitoring queries in Grafana and create a dashboard to enable real-time monitoring of your IoT system, helping you make informed, data-driven decisions.</li></ul><h1 id="0eac" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">An IoT Pipeline for Real-Time Analytics: Key Concepts and Tools</h1><p id="ee0f" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Before we dive into our tutorial, let’s take a moment to explain some key concepts.</p><h2 id="ccb5" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">IoT data challenges</h2><p id="21c4" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">The Internet of Things (IoT) is a network of everyday objects — like smartwatches, refrigerators, cars, and industrial sensors — that are connected to the Internet and can collect, share, and act on data. The IoT data collected by devices like fitness trackers and smartwatches presents a number of challenges. Its high volume, velocity, and variety require scalable storage and real-time processing capabilities. Additionally, ensuring data reliability, security, and integration across diverse devices and systems adds significant complexity. To deal with such complexity, we’ll add the following tools with our supercharged PostgreSQL (TimescaleDB <em class="oj">is </em>PostgreSQL under the hood) to build an IoT pipeline and enable real-time monitoring.</p><h2 id="ce7c" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Kafka</h2><p id="1451" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Apache Kafka is an open-source distributed event streaming platform for building real-time data pipelines and streaming applications. It is designed to handle large volumes of data in real time and efficiently transmit it between systems. It allows you to publish, subscribe, store, and process streams of records (events) in a fault-tolerant and scalable manner. Kafka is widely used in industries for handling high-throughput data, such as log aggregation, real-time analytics, and stream processing.</p><p id="6bad" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Think of Kafka as a messaging app, where messages or data are like text messages, and Kafka is the platform that manages the sending and receiving of those messages.</p><ul class=""><li id="dc71" class="nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh ok ol om bk">Producers are like users who send messages (data) through the app. These could be different systems or applications generating data that needs to be shared.</li><li id="ede1" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Topics in Kafka are like different chat groups or threads in the app. Each topic is a category or a channel where related messages are stored. For example, one thread might be for “orders,” another for “payments,” and another for “sensor readings.”</li><li id="617f" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Consumers are like users or apps that receive and read the messages from the chat groups. These could be other applications or systems that need to process the data, such as analytics tools, databases, or alerting systems.</li><li id="d676" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">The queue or login Kafka is like the message inbox, where the messages wait to be read by the consumers. Kafka ensures that messages are delivered in the correct order and that consumers can access them at any time, even if they need to process the messages later.</li></ul><h2 id="0f9c" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Grafana</h2><p id="12f2" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Grafana is an open-source platform used for monitoring and visualizing data. It helps you understand and analyze your data by turning it into interactive and customizable dashboards. Grafana connects to various data sources, like databases, cloud services, and application logs, and allows you to create graphs, charts, and alerts based on the data you want to monitor.</p><p id="4456" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">With Grafana, you can track the health of your systems, view real-time metrics, and easily spot issues. It’s widely used for monitoring infrastructure, application performance, and business metrics and is particularly popular in DevOps and IT operations. Grafana also allows you to set up alerts so you can be notified when certain conditions are met, making it an essential tool for ensuring everything is running smoothly.</p><h1 id="de4d" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">Integrating PostgreSQL via Timescale With Kafka</h1><p id="6c34" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">The goal here is to stream data into a Kafka topic, sending a continuous flow of records (or events). This data can represent various types of information, such as sensor readings, logs, or transaction data, that are generated in real time. While the data is being streamed into the Kafka topic, it’s simultaneously ingested into PostgreSQL via the Timescale database through Kafka Connect.</p><p id="949e" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Kafka Connect is a framework designed to integrate Kafka with different data sources and sinks such as databases or analytics platforms. It streamlines the process of sending data into TimescaleDB without the need for custom code. Kafka Connect automatically pulls data from Kafka topics and writes it to TimescaleDB, ensuring the data is stored and ready for further processing or analysis.</p><p id="1987" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">For speed and convenience, we used TimescaleDB in our mature PostgreSQL cloud platform, <a class="af oi" href="https://console.cloud.timescale.com/signup" rel="noopener ugc nofollow" target="_blank">Timescale Cloud (it’s free for 30 days, no credit card required)</a>, but you can always use the open-source extension. <a class="af oi" href="https://docs.timescale.com/self-hosted/latest/install/" rel="noopener ugc nofollow" target="_blank">Here’s how to install it</a>. To integrate Kafka with Timescale Cloud, you can check out another excellent blog post that provides detailed instructions <a class="af oi" href="https://www.timescale.com/blog/building-a-kafka-data-pipeline-for-time-series-with-kafka-connect-and-timescale/" rel="noopener ugc nofollow" target="_blank">here</a>.</p><p id="181a" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">I’ve used the same example to integrate the Timescale Cloud instance with Kafka. Below, I’ll outline the changes I made during the integration process.</p><p id="479d" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Obtain the latest Kafka source:</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="5d90" class="qt ot gu qq b bg qu qv l qw qx">sudo mkdir /usr/local/kafka<br/>sudo chown -R $(whoami) /usr/local/kafka<br/>wget https://downloads.apache.org/kafka/3.9.0/kafka_2.13-3.9.0.tgz &amp;&amp; tar -xzf kafka_2.13-3.9.0.tgz -C /usr/local/kafka --strip-components=1</span></pre><p id="1971" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">And continue with the script used <a class="af oi" href="https://github.com/mathisve/kafka-shenanigans/blob/main/baremetal-configs/commands.sh?ref=timescale.ghost.io" rel="noopener ugc nofollow" target="_blank">here</a>.</p><p id="9254" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Replace the following line in <code class="cx qy qz ra qq b">timescale-sink.properties</code> file:</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="7e32" class="qt ot gu qq b bg qu qv l qw qx">&quot;camel.kamelet.postgresql-sink.query&quot;:&quot;INSERT INTO accounts (name,city) VALUES (:#name,:#city)&quot;,</span></pre><p id="8b6f" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">With this line:</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="eb72" class="qt ot gu qq b bg qu qv l qw qx">&quot;camel.kamelet.postgresql-sink.query&quot;:&quot;INSERT INTO metrics (ts, sensor_id, value) VALUES (CAST(:#ts AS TIMESTAMPTZ), :#sensor_id, :#value)&quot;,</span></pre><p id="becf" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">This line tells the system how to save data from a sensor into the metrics table. For every new record, it saves the following:</p><ul class=""><li id="b8e2" class="nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh ok ol om bk">The time (:#ts)</li><li id="ddf4" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">The sensor’s ID (:#sensor_id)</li><li id="54f8" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">And the reading or measurement (:#value)</li></ul><p id="26fb" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">The <code class="cx qy qz ra qq b">:#</code> syntax is used to represent parameters in the query. It&#x27;s a way to tell the system that the values for these placeholders will be provided dynamically, typically by the system or application executing the query.</p><p id="db42" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Also, make sure to insert valid credentials in the following properties:</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="cf50" class="qt ot gu qq b bg qu qv l qw qx">- &quot;camel.kamelet.postgresql-sink.databaseName&quot;:&quot;tsdb&quot;,<br/>- &quot;camel.kamelet.postgresql-sink.password&quot;:&quot;password&quot;,<br/>- &quot;camel.kamelet.postgresql-sink.serverName&quot;:&quot;service_id.project_id.tsdb.cloud.timescale.com&quot;,<br/>- &quot;camel.kamelet.postgresql-sink.serverPort&quot;:&quot;5432&quot;,<br/>- &quot;camel.kamelet.postgresql-sink.username&quot;:&quot;tsdbadmin&quot;</span></pre><h1 id="12b8" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">About the Dataset</h1><p id="ea5f" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">In this blog, I’ll be using the dataset provided by Timescale, which can be found <a class="af oi" href="https://assets.timescale.com/docs/downloads/metrics.csv.gz" rel="noopener ugc nofollow" target="_blank">here</a>.</p><p id="ade1" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Inside this dataset, we have a table named metrics. This table is used to store time-series data commonly used in IoT (Internet of Things) or monitoring systems. Here’s a breakdown of its structure and the kind of data it holds:</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="e3ad" class="qt ot gu qq b bg qu qv l qw qx">tsdb=&gt; \d metrics<br/>Table &quot;public.metrics&quot;<br/>Column | Type | Collation | Nullable | Default<br/>-----------+--------------------------+-----------+----------+---------<br/>ts | timestamp with time zone | | |<br/>sensor_id | integer | | |<br/>value | numeric | | |</span></pre><h2 id="f624" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Columns and their roles</h2><ul class=""><li id="29e5" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk"><code class="cx qy qz ra qq b">ts</code> (timestamp with time zone): represents the exact time when the data was recorded.</li><li id="3632" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk"><code class="cx qy qz ra qq b">sensor_id</code> (integer): identifies the sensor that generated the data.</li><li id="d463" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk"><code class="cx qy qz ra qq b">value</code> (numeric): represents the reading or measurement taken by the sensor.</li></ul><h2 id="03cf" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Example record</h2><ul class=""><li id="09d6" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk">Timestamp (ts): 2023–05–31 21:48:41.234187+00</li><li id="02e6" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Sensor ID (sensor_id): 21</li><li id="b6d7" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Value (value): 0.68</li></ul><p id="0158" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">This record indicates that at the specified timestamp, Sensor 21 recorded a measurement of 0.68.</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="3386" class="qt ot gu qq b bg qu qv l qw qx">tsdb=&gt; select * from metrics limit 1;<br/>ts | sensor_id | value<br/>-------------------------------+-----------+-------<br/>2023-05-31 21:48:41.234187+00 | 21 | 0.68<br/>(1 row)</span></pre><h1 id="8d9f" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">Prepare the Dataset</h1><p id="e070" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Download and decompress the dataset.</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="6773" class="qt ot gu qq b bg qu qv l qw qx">wget https://assets.timescale.com/docs/downloads/metrics.csv.gzgzip -d metrics.csv.gz</span></pre><p id="0c59" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Convert the dataset to JSON format so we can easily stream this data to Kafka topic.</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="1899" class="qt ot gu qq b bg qu qv l qw qx">echo &quot;[&quot; &gt; metrics.jsonawk -F&#x27;,&#x27; &#x27;{print &quot;{\&quot;ts\&quot;: \&quot;&quot;$1&quot;\&quot;, \&quot;sensor_id\&quot;: &quot;$2&quot;, \&quot;value\&quot;: &quot;$3&quot;},&quot;}&#x27; metrics.csv | sed &#x27;$ s/,$//&#x27; &gt;&gt; metrics.jsonecho &quot;]&quot; &gt;&gt; metrics.json</span></pre><p id="961a" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Once the dataset is ready, stream the data to Kafka topic.</p><p id="ba0c" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">To stream data to the Kafka topic, we are going to use a utility named <code class="cx qy qz ra qq b">kcat</code>, which was formerly known as <code class="cx qy qz ra qq b">kafkacat</code>.</p><p id="7edc" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">The <code class="cx qy qz ra qq b">kcat</code> utility is a flexible tool that can function as either a producer (sending data) or a consumer (receiving data), depending on its configuration. It can easily switch between these roles.</p><p id="88c0" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">In our example, by using the <code class="cx qy qz ra qq b">-p</code> switch, we configure <code class="cx qy qz ra qq b">kcat</code> as a producer to send data to a Kafka topic specified with the <code class="cx qy qz ra qq b">-t</code> switch. Once the data starts appearing in the Kafka topic, tools like Kafka Connect can be used to read the data and stream it into the Timescale database for permanent storage.</p><p id="11c1" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">The <code class="cx qy qz ra qq b">-b</code> switch is used to specify the Kafka broker address. A Kafka broker is like a server that stores and manages messages, which are saved in topic partitions. These partitions act as separate storage areas where the messages are kept in the order they were sent.</p><p id="2120" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">When producers, like <code class="cx qy qz ra qq b">kcat</code> in our example, want to send data, they send it to the Kafka broker. The broker stores the data across different partitions.</p><p id="5a3c" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Then consumers, such as <code class="cx qy qz ra qq b">Kafka Connect</code>, connect to the Kafka broker and fetch the data from the topics they&#x27;re interested in. Even in case of system failures, Kafka brokers ensure that the data remains accessible and available, keeping the system reliable.</p><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="e2a0" class="qt ot gu qq b bg qu qv l qw qx">kcat -P -b localhost:9092 -t mytopic -l metrics.json</span></pre></div></div></div><div class="ab cb rb rc rd re" role="separator"><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><p id="8bd5" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">✨ <strong class="nm gv">Note</strong>: Both the Timescale instance and the Kafka host were located in the same AWS region.</p></div></div></div><div class="ab cb rb rc rd re" role="separator"><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><h2 id="5266" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Important timelines</h2><ul class=""><li id="f447" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk">Data streaming to the Kafka topic started at:<br/>- Mon Dec 2 01:44:40 UTC 2024</li><li id="0dba" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Data streaming to the Kafka topic ends at:<br/>- Mon Dec 2 01:44:58 UTC 2024</li><li id="cafc" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">The total number of rows to be ingested was:<br/>- 2523726</li><li id="d322" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Data ingestion to Timescale instance started at:<br/>- Mon Dec 2 01:44:40 UTC 2024</li><li id="0846" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Data ingestion to Timescale instance ends at:<br/>- Mon Dec 2 02:15:38 UTC 2024</li><li id="23a1" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Total time taken to ingest the data to Timescale:<br/>- 30 minutes and 58 seconds.</li></ul><h2 id="8117" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Stats</h2><ul class=""><li id="7591" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk">Streaming rate to Kafka topic:<br/>- Total number of rows / total time = 2523726 / 18 = <strong class="nm gv">140207 rows / sec</strong></li><li id="9bb9" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Data ingestion rate to Timescale instance:<br/>- Time taken for ingestion / total number of rows = 2523726 / 1858 = ~<strong class="nm gv">1358 ​rows / sec</strong></li><li id="e47f" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Total latency to ingest the data to Timescale Cloud:<br/>- The time when ingestion ends in Timescale.The time when ingestion started in Timescale = Mon Dec 2 02:15:38 UTC 2024 — Mon Dec 2 01:44:40 UTC 2024 = <strong class="nm gv">1,858 seconds</strong></li></ul><h1 id="5234" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">Monitoring IoT Data With Grafana</h1><p id="bc92" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">To integrate Timescale with Grafana, I recommend reading the following blog post, which provides a step-by-step guide for the integration process <a class="af oi" href="https://www.timescale.com/learn/5-ways-to-monitor-your-postgresql-database" rel="noopener ugc nofollow" target="_blank">here</a>.</p><p id="eed9" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">After completing the Grafana integration, the next step is to create your first Grafana dashboard. To do this, follow these steps:</p><ul class=""><li id="5ac2" class="nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh ok ol om bk">From the left panel, select “Dashboard.”</li><li id="1b87" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Then, create a new dashboard for visualization.</li></ul><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rj"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*LrnTkeRRQPkwV5QI 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*LrnTkeRRQPkwV5QI 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*LrnTkeRRQPkwV5QI 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*LrnTkeRRQPkwV5QI 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*LrnTkeRRQPkwV5QI 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*LrnTkeRRQPkwV5QI 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LrnTkeRRQPkwV5QI 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*LrnTkeRRQPkwV5QI 640w, https://miro.medium.com/v2/resize:fit:720/0*LrnTkeRRQPkwV5QI 720w, https://miro.medium.com/v2/resize:fit:750/0*LrnTkeRRQPkwV5QI 750w, https://miro.medium.com/v2/resize:fit:786/0*LrnTkeRRQPkwV5QI 786w, https://miro.medium.com/v2/resize:fit:828/0*LrnTkeRRQPkwV5QI 828w, https://miro.medium.com/v2/resize:fit:1100/0*LrnTkeRRQPkwV5QI 1100w, https://miro.medium.com/v2/resize:fit:1400/0*LrnTkeRRQPkwV5QI 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="299" loading="lazy" role="presentation"/></picture></div></div></figure><p id="4d18" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Next, choose your PostgreSQL data source.</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rj"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*n1b7oT244mKyAxYK 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*n1b7oT244mKyAxYK 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*n1b7oT244mKyAxYK 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*n1b7oT244mKyAxYK 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*n1b7oT244mKyAxYK 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*n1b7oT244mKyAxYK 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*n1b7oT244mKyAxYK 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*n1b7oT244mKyAxYK 640w, https://miro.medium.com/v2/resize:fit:720/0*n1b7oT244mKyAxYK 720w, https://miro.medium.com/v2/resize:fit:750/0*n1b7oT244mKyAxYK 750w, https://miro.medium.com/v2/resize:fit:786/0*n1b7oT244mKyAxYK 786w, https://miro.medium.com/v2/resize:fit:828/0*n1b7oT244mKyAxYK 828w, https://miro.medium.com/v2/resize:fit:1100/0*n1b7oT244mKyAxYK 1100w, https://miro.medium.com/v2/resize:fit:1400/0*n1b7oT244mKyAxYK 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="348" loading="lazy" role="presentation"/></picture></div></div></figure><p id="d0ab" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">At this stage, your first dashboard is nearly complete. Simply click on the “Back to Dashboard” option in the top right corner to return to it, where you can begin creating custom variables and queries for data visualization.</p><p id="4579" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">A new dashboard is created successfully:</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx my"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*Qkni4caP4IVZ8q6N 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*Qkni4caP4IVZ8q6N 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*Qkni4caP4IVZ8q6N 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*Qkni4caP4IVZ8q6N 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*Qkni4caP4IVZ8q6N 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*Qkni4caP4IVZ8q6N 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Qkni4caP4IVZ8q6N 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*Qkni4caP4IVZ8q6N 640w, https://miro.medium.com/v2/resize:fit:720/0*Qkni4caP4IVZ8q6N 720w, https://miro.medium.com/v2/resize:fit:750/0*Qkni4caP4IVZ8q6N 750w, https://miro.medium.com/v2/resize:fit:786/0*Qkni4caP4IVZ8q6N 786w, https://miro.medium.com/v2/resize:fit:828/0*Qkni4caP4IVZ8q6N 828w, https://miro.medium.com/v2/resize:fit:1100/0*Qkni4caP4IVZ8q6N 1100w, https://miro.medium.com/v2/resize:fit:1400/0*Qkni4caP4IVZ8q6N 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="194" loading="lazy" role="presentation"/></picture></div></div></figure><p id="c6ef" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">This is how our initial data looks in Grafana:</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rk"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*mauAyU6PlTYbCCnG 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*mauAyU6PlTYbCCnG 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*mauAyU6PlTYbCCnG 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*mauAyU6PlTYbCCnG 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*mauAyU6PlTYbCCnG 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*mauAyU6PlTYbCCnG 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mauAyU6PlTYbCCnG 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*mauAyU6PlTYbCCnG 640w, https://miro.medium.com/v2/resize:fit:720/0*mauAyU6PlTYbCCnG 720w, https://miro.medium.com/v2/resize:fit:750/0*mauAyU6PlTYbCCnG 750w, https://miro.medium.com/v2/resize:fit:786/0*mauAyU6PlTYbCCnG 786w, https://miro.medium.com/v2/resize:fit:828/0*mauAyU6PlTYbCCnG 828w, https://miro.medium.com/v2/resize:fit:1100/0*mauAyU6PlTYbCCnG 1100w, https://miro.medium.com/v2/resize:fit:1400/0*mauAyU6PlTYbCCnG 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="288" loading="lazy" role="presentation"/></picture></div></div></figure><h1 id="b337" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">Creating Custom Variables for Your Grafana Dashboard</h1><p id="76ce" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Custom variables in Grafana are user-defined placeholders that allow dynamic data filtering and visualization based on user inputs, such as dropdown selections. They enhance dashboards by enabling flexible, reusable queries and tailored insights without modifying the underlying queries.</p><p id="65d3" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">In an IoT use case, custom variables in Grafana can be utilized to monitor specific device locations. For example, a variable can filter temperature data by selecting devices installed in different rooms or floors of a building. This filtering allows the dashboard to display real-time temperature trends for the chosen locations, enabling targeted monitoring and analysis.</p><p id="8d44" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">To create custom variables, navigate to your dashboard and select the Settings menu from the top right corner.</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rl"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*m8UOl2JzsZlABaGy 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*m8UOl2JzsZlABaGy 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*m8UOl2JzsZlABaGy 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*m8UOl2JzsZlABaGy 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*m8UOl2JzsZlABaGy 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*m8UOl2JzsZlABaGy 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*m8UOl2JzsZlABaGy 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*m8UOl2JzsZlABaGy 640w, https://miro.medium.com/v2/resize:fit:720/0*m8UOl2JzsZlABaGy 720w, https://miro.medium.com/v2/resize:fit:750/0*m8UOl2JzsZlABaGy 750w, https://miro.medium.com/v2/resize:fit:786/0*m8UOl2JzsZlABaGy 786w, https://miro.medium.com/v2/resize:fit:828/0*m8UOl2JzsZlABaGy 828w, https://miro.medium.com/v2/resize:fit:1100/0*m8UOl2JzsZlABaGy 1100w, https://miro.medium.com/v2/resize:fit:1400/0*m8UOl2JzsZlABaGy 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="204" loading="lazy" role="presentation"/></picture></div></div></figure><p id="5eec" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">From Settings, click on the Variables tab and click on Add variable.</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rm"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*v34-kiqN2b5PsaVs 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*v34-kiqN2b5PsaVs 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*v34-kiqN2b5PsaVs 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*v34-kiqN2b5PsaVs 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*v34-kiqN2b5PsaVs 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*v34-kiqN2b5PsaVs 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v34-kiqN2b5PsaVs 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*v34-kiqN2b5PsaVs 640w, https://miro.medium.com/v2/resize:fit:720/0*v34-kiqN2b5PsaVs 720w, https://miro.medium.com/v2/resize:fit:750/0*v34-kiqN2b5PsaVs 750w, https://miro.medium.com/v2/resize:fit:786/0*v34-kiqN2b5PsaVs 786w, https://miro.medium.com/v2/resize:fit:828/0*v34-kiqN2b5PsaVs 828w, https://miro.medium.com/v2/resize:fit:1100/0*v34-kiqN2b5PsaVs 1100w, https://miro.medium.com/v2/resize:fit:1400/0*v34-kiqN2b5PsaVs 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="286" loading="lazy" role="presentation"/></picture></div></div></figure><p id="bc13" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">On the next screen, we need to add all the required information to create a new variable:</p><ul class=""><li id="d961" class="nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh ok ol om bk">Select variable type: Choose the variable type, such as query, custom, or constant, to define how the variable’s values are generated. Since we’re creating a dropdown that a backend query will populate, I have selected the “query” option.</li><li id="ebfd" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Name: Assign a unique identifier for the variable, used for referencing it in queries or expressions.</li><li id="11d4" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Label: Provide a display name for the variable, which is shown on the dashboard for user clarity.</li><li id="fb7f" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Description: Add a brief explanation of the variable’s purpose, aiding dashboard users in understanding its function.</li><li id="cee4" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Show on dashboard: Decide how to display this dropdown on the dashboard, whether it should be with a label for better understanding or without a label.</li><li id="3b23" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Data source: Specify the data source (e.g., Prometheus, PostgreSQL) from which the variable retrieves its values.</li><li id="a1d5" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Query: Define the logic or query to fetch dynamic values for the variable based on the selected data source.</li></ul><p id="2668" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">You can leave the rest of the options as the default values.</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rj"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*IzsR9Fd614aCKS9P 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*IzsR9Fd614aCKS9P 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*IzsR9Fd614aCKS9P 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*IzsR9Fd614aCKS9P 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*IzsR9Fd614aCKS9P 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*IzsR9Fd614aCKS9P 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IzsR9Fd614aCKS9P 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*IzsR9Fd614aCKS9P 640w, https://miro.medium.com/v2/resize:fit:720/0*IzsR9Fd614aCKS9P 720w, https://miro.medium.com/v2/resize:fit:750/0*IzsR9Fd614aCKS9P 750w, https://miro.medium.com/v2/resize:fit:786/0*IzsR9Fd614aCKS9P 786w, https://miro.medium.com/v2/resize:fit:828/0*IzsR9Fd614aCKS9P 828w, https://miro.medium.com/v2/resize:fit:1100/0*IzsR9Fd614aCKS9P 1100w, https://miro.medium.com/v2/resize:fit:1400/0*IzsR9Fd614aCKS9P 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="322" loading="lazy" role="presentation"/></picture></div></div></figure><p id="3c9d" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">At the bottom, we can see Grafana provides a preview of the data it successfully fetched from the database table, which will then be used to populate the dropdown.</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rm"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*4iewRqQhQrLrE8Cr 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*4iewRqQhQrLrE8Cr 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*4iewRqQhQrLrE8Cr 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*4iewRqQhQrLrE8Cr 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*4iewRqQhQrLrE8Cr 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*4iewRqQhQrLrE8Cr 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4iewRqQhQrLrE8Cr 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*4iewRqQhQrLrE8Cr 640w, https://miro.medium.com/v2/resize:fit:720/0*4iewRqQhQrLrE8Cr 720w, https://miro.medium.com/v2/resize:fit:750/0*4iewRqQhQrLrE8Cr 750w, https://miro.medium.com/v2/resize:fit:786/0*4iewRqQhQrLrE8Cr 786w, https://miro.medium.com/v2/resize:fit:828/0*4iewRqQhQrLrE8Cr 828w, https://miro.medium.com/v2/resize:fit:1100/0*4iewRqQhQrLrE8Cr 1100w, https://miro.medium.com/v2/resize:fit:1400/0*4iewRqQhQrLrE8Cr 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="280" loading="lazy" role="presentation"/></picture></div></div></figure><p id="8dd9" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">After creating the custom variables, the next step is setting up dashboard monitoring queries for real-time data visualization.</p><h1 id="d942" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">Visualizing Monitoring Queries on a Grafana Dashboard</h1><p id="247d" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">After creating your custom variables, navigate to the dashboard, click on the three dots in the panel, and select “Edit.”</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rn"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*PmcK8SQBfVhI22b0 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*PmcK8SQBfVhI22b0 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*PmcK8SQBfVhI22b0 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*PmcK8SQBfVhI22b0 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*PmcK8SQBfVhI22b0 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*PmcK8SQBfVhI22b0 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PmcK8SQBfVhI22b0 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*PmcK8SQBfVhI22b0 640w, https://miro.medium.com/v2/resize:fit:720/0*PmcK8SQBfVhI22b0 720w, https://miro.medium.com/v2/resize:fit:750/0*PmcK8SQBfVhI22b0 750w, https://miro.medium.com/v2/resize:fit:786/0*PmcK8SQBfVhI22b0 786w, https://miro.medium.com/v2/resize:fit:828/0*PmcK8SQBfVhI22b0 828w, https://miro.medium.com/v2/resize:fit:1100/0*PmcK8SQBfVhI22b0 1100w, https://miro.medium.com/v2/resize:fit:1400/0*PmcK8SQBfVhI22b0 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="203" loading="lazy" role="presentation"/></picture></div></div></figure><p id="0a6b" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">On the next screen, select the “Code” option next to “Run Query.” We will use Code mode instead of the “Query Builder” mode, as this allows you to write your own query to generate the visuals.</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rm"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*OChY95z7H4FlIhkZ 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*OChY95z7H4FlIhkZ 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*OChY95z7H4FlIhkZ 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*OChY95z7H4FlIhkZ 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*OChY95z7H4FlIhkZ 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*OChY95z7H4FlIhkZ 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OChY95z7H4FlIhkZ 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*OChY95z7H4FlIhkZ 640w, https://miro.medium.com/v2/resize:fit:720/0*OChY95z7H4FlIhkZ 720w, https://miro.medium.com/v2/resize:fit:750/0*OChY95z7H4FlIhkZ 750w, https://miro.medium.com/v2/resize:fit:786/0*OChY95z7H4FlIhkZ 786w, https://miro.medium.com/v2/resize:fit:828/0*OChY95z7H4FlIhkZ 828w, https://miro.medium.com/v2/resize:fit:1100/0*OChY95z7H4FlIhkZ 1100w, https://miro.medium.com/v2/resize:fit:1400/0*OChY95z7H4FlIhkZ 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="359" loading="lazy" role="presentation"/></picture></div></div></figure><h2 id="680d" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Case 1: Plotting minimum and maximum sensor data</h2><p id="c262" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Retrieving the range of values for a specific sensor over a particular day is useful for detecting anomalies (such as unusually high or low readings), evaluating the sensor’s performance within expected limits, and ensuring the sensor is functioning correctly.</p><h2 id="7d90" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Query</h2><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="8096" class="qt ot gu qq b bg qu qv l qw qx">SELECT<br/>    MIN(value) AS min_value,<br/>    MAX(value) AS max_value<br/>FROM metrics<br/>WHERE <br/>    ts BETWEEN $__timeFrom() AND $__timeTo()<br/>    AND sensor_id = $sensor_id;</span></pre><h2 id="319c" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Understanding the query</h2><ul class=""><li id="54aa" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk">The above query retrieves the minimum and maximum values of the value column from the metrics table within a specified time range and for a specific sensor ID.</li><li id="0b66" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">It dynamically uses <code class="cx qy qz ra qq b">$__timeFrom()</code>, <code class="cx qy qz ra qq b">$__timeTo()</code>, and <code class="cx qy qz ra qq b">$sensor_id</code> variables to integrate seamlessly with Grafana dashboards.</li></ul></div></div></div><div class="ab cb rb rc rd re" role="separator"><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><p id="a0cd" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">✨ <strong class="nm gv">Note</strong>: We can easily select the sensor ID from the dropdown menu in the top left corner and specify the desired date range using the date range filter. The dashboard will automatically update to display the minimum and maximum values for the selected sensor and desired date range.</p></div></div></div><div class="ab cb rb rc rd re" role="separator"><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rn"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*wkEsyQy-DgZttU4P 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*wkEsyQy-DgZttU4P 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*wkEsyQy-DgZttU4P 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*wkEsyQy-DgZttU4P 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*wkEsyQy-DgZttU4P 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*wkEsyQy-DgZttU4P 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wkEsyQy-DgZttU4P 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*wkEsyQy-DgZttU4P 640w, https://miro.medium.com/v2/resize:fit:720/0*wkEsyQy-DgZttU4P 720w, https://miro.medium.com/v2/resize:fit:750/0*wkEsyQy-DgZttU4P 750w, https://miro.medium.com/v2/resize:fit:786/0*wkEsyQy-DgZttU4P 786w, https://miro.medium.com/v2/resize:fit:828/0*wkEsyQy-DgZttU4P 828w, https://miro.medium.com/v2/resize:fit:1100/0*wkEsyQy-DgZttU4P 1100w, https://miro.medium.com/v2/resize:fit:1400/0*wkEsyQy-DgZttU4P 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="347" loading="eager" role="presentation"/></picture></div></div></figure><h2 id="0fd7" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">The result</h2><p id="53bb" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">The diagram shows a minimum value of 0.265 and a maximum value of 0.999 for sensor ID 23, within the date range of 2023–05–29 to 2023–05–31.</p><h2 id="45fa" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Case 2: Plotting the sensor reading at 10-second intervals</h2><p id="1990" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">This is an ideal use case for downsampling high-frequency data into fixed time intervals, streamlining trend analysis, and data visualization. It ensures uniform time buckets, prevents graphs from becoming cluttered with excessive data points, and preserves key readings.</p><h2 id="2af1" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Query</h2><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="dd41" class="qt ot gu qq b bg qu qv l qw qx">SELECT<br/>    series.time AS time,<br/>    m.value AS value<br/>FROM<br/>    generate_series(<br/>        $__timeFrom()::timestamp,<br/>        $__timeTo()::timestamp,<br/>        &#x27;10 seconds&#x27;::interval<br/>    ) AS series(time)<br/>LEFT JOIN LATERAL (<br/>    SELECT value<br/>    FROM metrics<br/>    WHERE sensor_id = $sensor_id<br/>      AND ts &gt;= series.time<br/>      AND ts &lt; series.time + interval &#x27;10 seconds&#x27;<br/>    ORDER BY ts<br/>    LIMIT 1<br/>) m ON true<br/>ORDER BY series.time;</span></pre><h2 id="aa30" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Understanding the query</h2><ul class=""><li id="7b3f" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk">The query creates a series of time intervals from the start to the end of the selected date range (<code class="cx qy qz ra qq b">$__timeFrom() to $__timeTo()</code>) in 10-second steps.</li><li id="4d6f" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">For each time interval, it retrieves the corresponding value from the <code class="cx qy qz ra qq b">metrics</code> table for the selected <code class="cx qy qz ra qq b">sensor_id</code>, ensuring that the data&#x27;s timestamp (ts) falls within that specific interval. The closest match is selected for each interval.</li></ul><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rm"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*vWS5LJ6fG1DzOJcJ 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*vWS5LJ6fG1DzOJcJ 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*vWS5LJ6fG1DzOJcJ 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*vWS5LJ6fG1DzOJcJ 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*vWS5LJ6fG1DzOJcJ 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*vWS5LJ6fG1DzOJcJ 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vWS5LJ6fG1DzOJcJ 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*vWS5LJ6fG1DzOJcJ 640w, https://miro.medium.com/v2/resize:fit:720/0*vWS5LJ6fG1DzOJcJ 720w, https://miro.medium.com/v2/resize:fit:750/0*vWS5LJ6fG1DzOJcJ 750w, https://miro.medium.com/v2/resize:fit:786/0*vWS5LJ6fG1DzOJcJ 786w, https://miro.medium.com/v2/resize:fit:828/0*vWS5LJ6fG1DzOJcJ 828w, https://miro.medium.com/v2/resize:fit:1100/0*vWS5LJ6fG1DzOJcJ 1100w, https://miro.medium.com/v2/resize:fit:1400/0*vWS5LJ6fG1DzOJcJ 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="354" loading="lazy" role="presentation"/></picture></div></div></figure><h2 id="0931" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">The result</h2><p id="024a" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">The diagram above displays readings from sensor ID 4, from 2023–05–29 at 06:07:48 to 2023–05–29 at 06:40:00. The graph shows data in five-minute intervals, where we observe consistent readings from 06:10 to 06:15, followed by a spike from 06:15 to 06:20. The readings stabilize again, with two more spikes occurring at 06:30 and 06:34, before returning to normal. These spikes suggest the sensor experienced three distinct unwanted events during this period.</p><h2 id="f5fd" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Case 3: Plotting average sensor value</h2><p id="243d" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Getting average data or value for a sensor helps to understand its overall performance or behavior over the course of the day or months. It is particularly useful for monitoring sensors that are supposed to maintain a certain average range, allowing you to assess the general trend of the data.</p><h2 id="540c" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Query</h2><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="2c52" class="qt ot gu qq b bg qu qv l qw qx">SELECT <br/>    sensor_id, <br/>    AVG(value) AS avg_value<br/>FROM metrics<br/>WHERE ts &gt;= $__timeFrom()<br/>    AND ts &lt;= $__timeTo()<br/>    AND sensor_id = $sensor_id<br/>GROUP BY sensor_id;</span></pre><h2 id="8a10" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Understanding the query</h2><ul class=""><li id="2d3b" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk">This query calculates the average (AVG) value of the <code class="cx qy qz ra qq b">value</code> column for the give <code class="cx qy qz ra qq b">sensor_id</code> within the time range defined by Grafana&#x27;s <code class="cx qy qz ra qq b">$__timeFrom()</code> and <code class="cx qy qz ra qq b">$__timeTo()</code> variables.</li><li id="e299" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">It groups the results by <code class="cx qy qz ra qq b">sensor_id</code> and retrieves the average reading within the selected time range for that specific sensor.</li></ul><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx my"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*zyxpRsOral0ZhiiO 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*zyxpRsOral0ZhiiO 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*zyxpRsOral0ZhiiO 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*zyxpRsOral0ZhiiO 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*zyxpRsOral0ZhiiO 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*zyxpRsOral0ZhiiO 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zyxpRsOral0ZhiiO 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*zyxpRsOral0ZhiiO 640w, https://miro.medium.com/v2/resize:fit:720/0*zyxpRsOral0ZhiiO 720w, https://miro.medium.com/v2/resize:fit:750/0*zyxpRsOral0ZhiiO 750w, https://miro.medium.com/v2/resize:fit:786/0*zyxpRsOral0ZhiiO 786w, https://miro.medium.com/v2/resize:fit:828/0*zyxpRsOral0ZhiiO 828w, https://miro.medium.com/v2/resize:fit:1100/0*zyxpRsOral0ZhiiO 1100w, https://miro.medium.com/v2/resize:fit:1400/0*zyxpRsOral0ZhiiO 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="355" loading="lazy" role="presentation"/></picture></div></div></figure><h2 id="f08e" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">The result</h2><p id="8ca0" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">The diagram above displays the average reading for sensor ID 23 within the selected timeframe, from 2023–05–29 06:10:00 to 2023–05–29 06:40:00.</p><h2 id="a6ea" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Case 4: Plotting and comparing readings from two sensors</h2><p id="efe3" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">By comparing the sensor readings side by side, you can identify correlations, trends, or issues that may exist between the two sensors’ data, which can be crucial for diagnosing problems or ensuring data consistency across devices.</p><h2 id="bf1b" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Query</h2><pre class="qk ql qm qn qo qp qq qr bp qs bb bk"><span id="461f" class="qt ot gu qq b bg qu qv l qw qx">SELECT <br/>    a.ts AS time,<br/>    a.value AS sensor_a_value,<br/>    b.value AS sensor_b_value<br/>FROM metrics a<br/>JOIN metrics b <br/>    ON a.ts = b.ts<br/>WHERE <br/>    a.sensor_id = $sensor_a <br/>    AND b.sensor_id = $sensor_b <br/>    AND a.ts &gt;= $__timeFrom()<br/>    AND a.ts &lt;= $__timeTo()<br/>ORDER BY <br/>    a.ts;</span></pre><h2 id="0548" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">Understanding the query</h2><ul class=""><li id="71a6" class="nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh ok ol om bk">First, we select the timestamp (a.ts) as time, along with the values from <code class="cx qy qz ra qq b">sensor_a</code> and <code class="cx qy qz ra qq b">sensor_b</code>. The join allows comparing data from two different sensors in the same timestamp (a.ts = b.ts).</li><li id="87ff" class="nk nl gu nm b nn on np nq nr oo nt nu nv op nx ny nz oq ob oc od or of og oh ok ol om bk">Finally, we filter data for the selected <code class="cx qy qz ra qq b">sensor_a</code> and <code class="cx qy qz ra qq b">sensor_b</code> IDs using Grafana variables, limit the data to the specified time range and order the results by timestamp to show the values chronologically.</li></ul></div></div></div><div class="ab cb rb rc rd re" role="separator"><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><p id="57aa" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">✨ <strong class="nm gv">Note</strong>: A new dashboard was created for this query, and we also created two custom variables to compare sensor A with sensor B.</p></div></div></div><div class="ab cb rb rc rd re" role="separator"><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx my"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*-LPpRwMssCdC7CYl 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*-LPpRwMssCdC7CYl 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*-LPpRwMssCdC7CYl 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*-LPpRwMssCdC7CYl 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*-LPpRwMssCdC7CYl 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*-LPpRwMssCdC7CYl 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-LPpRwMssCdC7CYl 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*-LPpRwMssCdC7CYl 640w, https://miro.medium.com/v2/resize:fit:720/0*-LPpRwMssCdC7CYl 720w, https://miro.medium.com/v2/resize:fit:750/0*-LPpRwMssCdC7CYl 750w, https://miro.medium.com/v2/resize:fit:786/0*-LPpRwMssCdC7CYl 786w, https://miro.medium.com/v2/resize:fit:828/0*-LPpRwMssCdC7CYl 828w, https://miro.medium.com/v2/resize:fit:1100/0*-LPpRwMssCdC7CYl 1100w, https://miro.medium.com/v2/resize:fit:1400/0*-LPpRwMssCdC7CYl 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="356" loading="eager" role="presentation"/></picture></div></div></figure><h2 id="8af2" class="pv ot gu bf ou pw px dy oy py pz ea pc nv qa qb qc nz qd qe qf od qg qh qi qj bk">The result</h2><p id="c8b8" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">The diagram above compares two sensors, sensor ID 1 and sensor ID 11, within the specified time interval from 2023–05–29 06:00:00 to 2023–05–29 07:30:00. The graph illustrates value variations for both sensors in five-minute intervals. From the data, it is evident that sensor 1 maintains consistent and steady readings, while sensor 11 exhibits a few spikes during the same timeframe. These spikes indicate that sensor 11 may require further attention or investigation.</p><h1 id="c0a4" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">Final Dashboard Look</h1><p id="7465" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">Here is the final look of the dashboard:</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx my"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*keK4JnV2b9qw1jVm 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*keK4JnV2b9qw1jVm 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*keK4JnV2b9qw1jVm 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*keK4JnV2b9qw1jVm 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*keK4JnV2b9qw1jVm 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*keK4JnV2b9qw1jVm 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*keK4JnV2b9qw1jVm 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*keK4JnV2b9qw1jVm 640w, https://miro.medium.com/v2/resize:fit:720/0*keK4JnV2b9qw1jVm 720w, https://miro.medium.com/v2/resize:fit:750/0*keK4JnV2b9qw1jVm 750w, https://miro.medium.com/v2/resize:fit:786/0*keK4JnV2b9qw1jVm 786w, https://miro.medium.com/v2/resize:fit:828/0*keK4JnV2b9qw1jVm 828w, https://miro.medium.com/v2/resize:fit:1100/0*keK4JnV2b9qw1jVm 1100w, https://miro.medium.com/v2/resize:fit:1400/0*keK4JnV2b9qw1jVm 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="265" loading="lazy" role="presentation"/></picture></div></div></figure><p id="50f6" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">A separate dashboard to compare sensors:</p><figure class="qk ql qm qn qo ne mw mx paragraph-image"><div role="button" tabindex="0" class="nf ng fj nh bh ni"><div class="mw mx rm"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*SEEi9mGwXBSRELNN 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*SEEi9mGwXBSRELNN 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*SEEi9mGwXBSRELNN 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*SEEi9mGwXBSRELNN 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*SEEi9mGwXBSRELNN 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*SEEi9mGwXBSRELNN 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SEEi9mGwXBSRELNN 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*SEEi9mGwXBSRELNN 640w, https://miro.medium.com/v2/resize:fit:720/0*SEEi9mGwXBSRELNN 720w, https://miro.medium.com/v2/resize:fit:750/0*SEEi9mGwXBSRELNN 750w, https://miro.medium.com/v2/resize:fit:786/0*SEEi9mGwXBSRELNN 786w, https://miro.medium.com/v2/resize:fit:828/0*SEEi9mGwXBSRELNN 828w, https://miro.medium.com/v2/resize:fit:1100/0*SEEi9mGwXBSRELNN 1100w, https://miro.medium.com/v2/resize:fit:1400/0*SEEi9mGwXBSRELNN 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md nj c" width="700" height="161" loading="lazy" role="presentation"/></picture></div></div></figure><p id="2eae" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">The final design of the dashboard ensures all critical information is available in one place. This centralization means you do not have to go to different sections or tools to find the stats you need. With everything neatly organized, users can easily monitor key metrics, spot trends, and make quick decisions, making this PostgreSQL-based IoT pipeline fueled by Kafka and Grafana an ideal solution for predictive maintenance and alerting. Real-time analytics are easily available to inform timely insights and prompt quick actions.</p><p id="f78d" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">While common in a number of industries, these use cases present different challenges compared to general-purpose analytics.</p><p id="f315" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Unlike more general analytics use cases, where you can wait for the data and perform batch inserts, real-time analytics require high ingestion speed and the ability to make that data available immediately for querying and analysis.</p><p id="7889" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">TimescaleDB excels in both thanks to its <a class="af oi" href="https://www.timescale.com/blog/hypercore-a-hybrid-row-storage-engine-for-real-time-analytics/" rel="noopener ugc nofollow" target="_blank">hybrid-row columnar storage engine</a>. It can ingest and store data in the most efficient format, enabling you to query it transparently across the rowstore and column store. This transition happens automatically under the hood and without overhead.</p><h1 id="817e" class="os ot gu bf ou ov ow ox oy oz pa pb pc pd pe pf pg ph pi pj pk pl pm pn po pp bk">Conclusion</h1><p id="e049" class="pw-post-body-paragraph nk nl gu nm b nn pq np nq nr pr nt nu nv ps nx ny nz pt ob oc od pu of og oh gn bk">In this blog, we have looked at how easily we can connect Kafka and Kafka Connect to stream IoT data into a PostgreSQL-based TimescaleDB instance and power a real-time analytics dashboard. TimescaleDB is great for handling <a class="af oi" href="https://www.timescale.com/learn/postgres-for-iot" rel="noopener ugc nofollow" target="_blank">large amounts of IoT data</a>, thanks to its strong time-series features, ensuring it’s both scalable and efficient.</p><p id="8fad" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">Once your pipeline is running smoothly with Timescale and Kafka, the next thing we should focus on is monitoring, so Grafana is a great tool for visualizing your data in real time, helping you keep track of performance and make better, data-driven decisions.</p><p id="195a" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk">If your use case demands real-time insights, like <a class="af oi" href="https://www.timescale.com/blog/how-trebellar-halved-storage-costs-while-unlocking-real-time-insights-with-postgresql/" rel="noopener ugc nofollow" target="_blank">Trebellar’s</a>, try TimescaleDB. You can <a class="af oi" href="https://docs.timescale.com/self-hosted/latest/install/" rel="noopener ugc nofollow" target="_blank">self-host it</a> or <a class="af oi" href="https://console.cloud.timescale.com/signup" rel="noopener ugc nofollow" target="_blank">try our managed PostgreSQL option, Timescale Cloud</a>, for free. This will allow you to focus on your app — not your database.</p></div></div></div><div class="ab cb rb rc rd re" role="separator"><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh ri"></span><span class="rf by bm rg rh"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><p id="3c67" class="pw-post-body-paragraph nk nl gu nm b nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc od oe of og oh gn bk"><em class="oj">This article was written by Semab Tariq </em>a<em class="oj">nd originally published </em><a class="af oi" href="https://www.timescale.com/blog/how-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql" rel="noopener ugc nofollow" target="_blank"><em class="oj">here</em></a><em class="oj"> on the Timescale official blog on December 30, 2024.</em></p></div></div></div></div></section></div></div></article></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="ro rp ab ja"><div class="rq ab"><a class="rr ay am ao" rel="noopener follow" href="/tag/iot?source=post_page-----c329d5fc02d9--------------------------------"><div class="rs fj cx rt ge ru rv bf b bg z bk rw">IoT</div></a></div><div class="rq ab"><a class="rr ay am ao" rel="noopener follow" href="/tag/postgresql?source=post_page-----c329d5fc02d9--------------------------------"><div class="rs fj cx rt ge ru rv bf b bg z bk rw">Postgresql</div></a></div><div class="rq ab"><a class="rr ay am ao" rel="noopener follow" href="/tag/real-time-analytics?source=post_page-----c329d5fc02d9--------------------------------"><div class="rs fj cx rt ge ru rv bf b bg z bk rw">Real Time Analytics</div></a></div><div class="rq ab"><a class="rr ay am ao" rel="noopener follow" href="/tag/technology?source=post_page-----c329d5fc02d9--------------------------------"><div class="rs fj cx rt ge ru rv bf b bg z bk rw">Technology</div></a></div><div class="rq ab"><a class="rr ay am ao" rel="noopener follow" href="/tag/programming?source=post_page-----c329d5fc02d9--------------------------------"><div class="rs fj cx rt ge ru rv bf b bg z bk rw">Programming</div></a></div></div></div></div><div class="l"></div><footer class="rx rc ry rz sa ab q sb ik c"><div class="l ae"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="ab cp sc"><div class="ab q kv"><div class="sd l"><span class="l se sf sg e d"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftimescale%2Fc329d5fc02d9&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;user=Team+Timescale&amp;userId=c84b80175451&amp;source=---footer_actions--c329d5fc02d9---------------------clap_footer-----------"><div><div class="bm" aria-hidden="false"><div class="la ao lb lc ld le am lf lg lh kz"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></span><span class="l h g f sh si"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftimescale%2Fc329d5fc02d9&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;user=Team+Timescale&amp;userId=c84b80175451&amp;source=---footer_actions--c329d5fc02d9---------------------clap_footer-----------"><div><div class="bm" aria-hidden="false"><div class="la ao lb lc ld le am lf lg lh kz"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></span></div><div class="bq ab"><div><div class="bm" aria-hidden="false"><button class="ao la lq lr ab q fk ls lt" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="lu"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div></div><div class="ab q"><div class="ri l ix"><div><div class="bm" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc329d5fc02d9&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Ftimescale%2Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9&amp;source=---footer_actions--c329d5fc02d9---------------------bookmark_footer-----------"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du lw" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="ri l ix"><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="af fk ah ai aj ak al me an ao ap ex mf mg lt mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></footer><div class="sj sk sl sm sn l"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="so bh r sp"></div><div class="sq l"><div class="ab sr ss st iz iy"><div class="su sv sw sx sy sz ta tb tc td ab cp"><div class="h k"><a href="https://medium.com/timescale?source=post_page---post_publication_info--c329d5fc02d9--------------------------------" rel="noopener follow"><div class="fj ab"><img alt="Timescale" class="te ib ic cx" src="https://miro.medium.com/v2/resize:fill:96:96/1*1hiEAsTlce_ICvVpGm2Cgg.png" width="48" height="48" loading="lazy"/><div class="te l ic ib fs n fr tf"></div></div></a></div><div class="j i d"><a href="https://medium.com/timescale?source=post_page---post_publication_info--c329d5fc02d9--------------------------------" rel="noopener follow"><div class="fj ab"><img alt="Timescale" class="te th tg cx" src="https://miro.medium.com/v2/resize:fill:128:128/1*1hiEAsTlce_ICvVpGm2Cgg.png" width="64" height="64" loading="lazy"/><div class="te l tg th fs n fr tf"></div></div></a></div><div class="j i d ti ix"><div class="ab"></div></div></div><div class="ab co tj"><div class="tk tl tm tn to l"><a class="af ag ah aj ak al am an ao ap aq ar as at ab q" href="https://medium.com/timescale?source=post_page---post_publication_info--c329d5fc02d9--------------------------------" rel="noopener follow"><h2 class="pw-author-name bf tq tr ts tt tu tv tw nv qb qc nz qe qf od qh qi bk"><span class="gn tp">Published in <!-- -->Timescale</span></h2></a><div class="rq ab ia"><div class="l ix"><span class="pw-follower-count bf b bg z du"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" rel="noopener follow" href="/timescale/followers?source=post_page---post_publication_info--c329d5fc02d9--------------------------------">3.3K Followers</a></span></div><div class="bf b bg z du ab jd"><span class="ir l" aria-hidden="true"><span class="bf b bg z du">·</span></span><a class="af ag ah ai aj ak al am an ao ap aq ar iq" rel="noopener follow" href="/timescale/how-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9?source=post_page---post_publication_info--c329d5fc02d9--------------------------------">Last published <!-- -->1 day ago</a></div></div><div class="tx l"><p class="bf b bg z bk"><span class="gn">Timescale is the cloud database engineered for performance and resource efficiency, even with large workloads — resulting in speed, scale, and savings.</span></p></div></div></div><div class="h k"><div class="ab"></div></div></div></div><div class="ab sr ss st iz iy"><div class="su sv sw sx sy sz ta tb tc td ab cp"><div class="h k"><a tabindex="0" rel="noopener follow" href="/@team-timescale?source=post_page---post_author_info--c329d5fc02d9--------------------------------"><div class="l fj"><img alt="Team Timescale" class="l fd by ic ib cx" src="https://miro.medium.com/v2/resize:fill:96:96/1*1hiEAsTlce_ICvVpGm2Cgg.png" width="48" height="48" loading="lazy"/><div class="fr by l ic ib fs n ay tf"></div></div></a></div><div class="j i d"><a tabindex="0" rel="noopener follow" href="/@team-timescale?source=post_page---post_author_info--c329d5fc02d9--------------------------------"><div class="l fj"><img alt="Team Timescale" class="l fd by tg th cx" src="https://miro.medium.com/v2/resize:fill:128:128/1*1hiEAsTlce_ICvVpGm2Cgg.png" width="64" height="64" loading="lazy"/><div class="fr by l tg th fs n ay tf"></div></div></a></div><div class="j i d ti ix"><div class="ab"><span><button class="bf b bg z ty rs tz ua ub uc ud ev ew ue uf ug fa fb fc fd bm fe ff">Follow</button></span></div></div></div><div class="ab co tj"><div class="tk tl tm tn to l"><a class="af ag ah aj ak al am an ao ap aq ar as at ab q" rel="noopener follow" href="/@team-timescale?source=post_page---post_author_info--c329d5fc02d9--------------------------------"><h2 class="pw-author-name bf tq tr ts tt tu tv tw nv qb qc nz qe qf od qh qi bk"><span class="gn tp">Written by <!-- -->Team Timescale</span></h2></a><div class="rq ab ia"><div class="l ix"><span class="pw-follower-count bf b bg z du"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" rel="noopener follow" href="/@team-timescale/followers?source=post_page---post_author_info--c329d5fc02d9--------------------------------">16 Followers</a></span></div><div class="bf b bg z du ab jd"><span class="ir l" aria-hidden="true"><span class="bf b bg z du">·</span></span><a class="af ag ah ai aj ak al am an ao ap aq ar iq" rel="noopener follow" href="/@team-timescale/following?source=post_page---post_author_info--c329d5fc02d9--------------------------------">57 Following</a></div></div><div class="tx l"><p class="bf b bg z bk"><span class="gn">Timescale blog posts, reposted for the Medium community interested in building time-series, real-time analytics, AI, and vector data applications.</span></p></div></div></div><div class="h k"><div class="ab"><span><button class="bf b bg z ty rs tz ua ub uc ud ev ew ue uf ug fa fb fc fd bm fe ff">Follow</button></span></div></div></div></div></div></div><div class="uh l"><div class="so bh r ui uj uk ul um"></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="ab q cp"><h2 class="bf tq ov ox oy oz pb pc pd pf pg ph pj pk pl pn po bk">No responses yet</h2><div class="ab un"><div><div class="bm" aria-hidden="false"><a class="uo up" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--c329d5fc02d9--------------------------------" rel="noopener follow" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" d="M11.987 5.036a.754.754 0 0 1 .914-.01c.972.721 1.767 1.218 2.6 1.543.828.322 1.719.485 2.887.505a.755.755 0 0 1 .741.757c-.018 3.623-.43 6.256-1.449 8.21-1.034 1.984-2.662 3.209-4.966 4.083a.75.75 0 0 1-.537-.003c-2.243-.874-3.858-2.095-4.897-4.074-1.024-1.951-1.457-4.583-1.476-8.216a.755.755 0 0 1 .741-.757c1.195-.02 2.1-.182 2.923-.503.827-.322 1.6-.815 2.519-1.535m.468.903c-.897.69-1.717 1.21-2.623 1.564-.898.35-1.856.527-3.026.565.037 3.45.469 5.817 1.36 7.515.884 1.684 2.25 2.762 4.284 3.571 2.092-.81 3.465-1.89 4.344-3.575.886-1.698 1.299-4.065 1.334-7.512-1.149-.039-2.091-.217-2.99-.567-.906-.353-1.745-.873-2.683-1.561m-.009 9.155a2.672 2.672 0 1 0 0-5.344 2.672 2.672 0 0 0 0 5.344m0 1a3.672 3.672 0 1 0 0-7.344 3.672 3.672 0 0 0 0 7.344m-1.813-3.777.525-.526.916.917 1.623-1.625.526.526-2.149 2.152z" clip-rule="evenodd"></path></svg></a></div></div></div></div><div class="uq ur us ut uu l"></div></div></div></div><div class="uv uw ux uy uz l bx"><div class="h k j"><div class="so bh va vb"></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="vc ab kv ja"><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://help.medium.com/hc/en-us?source=post_page-----c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b dv z du">Help</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.statuspage.io/?source=post_page-----c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b dv z du">Status</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/about?autoplay=1&amp;source=post_page-----c329d5fc02d9--------------------------------"><p class="bf b dv z du">About</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----c329d5fc02d9--------------------------------"><p class="bf b dv z du">Careers</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="pressinquiries@medium.com?source=post_page-----c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b dv z du">Press</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.medium.com/?source=post_page-----c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b dv z du">Blog</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b dv z du">Privacy</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b dv z du">Terms</p></a></div><div class="vd ve l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://speechify.com/medium?source=post_page-----c329d5fc02d9--------------------------------" rel="noopener follow"><p class="bf b dv z du">Text to speech</p></a></div><div class="vd l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" rel="noopener follow" href="/business?source=post_page-----c329d5fc02d9--------------------------------"><p class="bf b dv z du">Teams</p></a></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20241218-235912-1e3024e5b3"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-c329d5fc02d9","user-c84b80175451","collection-7fa310224bc5"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[],"lohpSummerUpsellEnabled":false},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"f1773410-c9f5-43fe-a475-c82ede3f196e","hybridDevServices":[],"originalSpanCarrier":{"traceparent":"00-33566e0e07bb3cd9910916c161d457ea-23977b23fcad4421-01"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002Ftimescale\u002Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"partnerProgram":{"selectedCountryCode":null},"queryString":"","currentHash":""},"config":{"nodeEnv":"production","version":"main-20241218-235912-1e3024e5b3","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20241218-235912-1e3024e5b3","commit":"1e3024e5b30a200d8e607e363a93175b656225c2"}},"datacenter":"us"},"googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"7*V1_7XP4snlmqrc_0Njontw.png","height":110,"width":500},"postLogo":{"imageId":"bd978bb536350a710e8efb012513429cabdc4c28700604261aeda246d0f980b7","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"collectionByDomainOrSlug({\"domainOrSlug\":\"timescale\"})":{"__ref":"Collection:7fa310224bc5"},"postResult({\"id\":\"c329d5fc02d9\"})":{"__ref":"Post:c329d5fc02d9"}},"ImageMetadata:":{"__typename":"ImageMetadata","id":""},"Collection:7fa310224bc5":{"__typename":"Collection","id":"7fa310224bc5","favicon":{"__ref":"ImageMetadata:"},"customStyleSheet":null,"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFF5F2F1","point":0},{"__typename":"ColorPoint","color":"#FFF3F0EF","point":0.1},{"__typename":"ColorPoint","color":"#FFF1EEED","point":0.2},{"__typename":"ColorPoint","color":"#FFEFECEC","point":0.3},{"__typename":"ColorPoint","color":"#FFEDEAEA","point":0.4},{"__typename":"ColorPoint","color":"#FFEBE8E8","point":0.5},{"__typename":"ColorPoint","color":"#FFE9E6E6","point":0.6},{"__typename":"ColorPoint","color":"#FFE7E5E4","point":0.7},{"__typename":"ColorPoint","color":"#FFE5E3E2","point":0.8},{"__typename":"ColorPoint","color":"#FFE4E1E0","point":0.9},{"__typename":"ColorPoint","color":"#FFE2DFDE","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF868484","point":0},{"__typename":"ColorPoint","color":"#FF7C7B7A","point":0.1},{"__typename":"ColorPoint","color":"#FF737171","point":0.2},{"__typename":"ColorPoint","color":"#FF696867","point":0.3},{"__typename":"ColorPoint","color":"#FF5F5E5E","point":0.4},{"__typename":"ColorPoint","color":"#FF555454","point":0.5},{"__typename":"ColorPoint","color":"#FF4A4949","point":0.6},{"__typename":"ColorPoint","color":"#FF3F3E3E","point":0.7},{"__typename":"ColorPoint","color":"#FF343333","point":0.8},{"__typename":"ColorPoint","color":"#FF272727","point":0.9},{"__typename":"ColorPoint","color":"#FF1A1A1A","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF000000","colorPoints":[{"__typename":"ColorPoint","color":"#FF000000","point":0},{"__typename":"ColorPoint","color":"#FF1E1D1D","point":0.1},{"__typename":"ColorPoint","color":"#FF3C3B3B","point":0.2},{"__typename":"ColorPoint","color":"#FF565555","point":0.3},{"__typename":"ColorPoint","color":"#FF6F6D6D","point":0.4},{"__typename":"ColorPoint","color":"#FF868484","point":0.5},{"__typename":"ColorPoint","color":"#FF9C9A99","point":0.6},{"__typename":"ColorPoint","color":"#FFB1AEAE","point":0.7},{"__typename":"ColorPoint","color":"#FFC5C3C2","point":0.8},{"__typename":"ColorPoint","color":"#FFD9D6D6","point":0.9},{"__typename":"ColorPoint","color":"#FFECE9E9","point":1}]}},"domain":null,"slug":"timescale","googleAnalyticsId":null,"name":"Timescale","subscriberCount":3360,"description":"Timescale is the cloud database engineered for performance and resource efficiency, even with large workloads — resulting in speed, scale, and savings.","avatar":{"__ref":"ImageMetadata:1*1hiEAsTlce_ICvVpGm2Cgg.png"},"latestPostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:c329d5fc02d9"}]},"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:7fa310224bc5-viewerId:lo_d9539ba89d0a"},"twitterUsername":"timescaledb","facebookPageId":null,"logo":{"__ref":"ImageMetadata:1*gOEnwizcgWX1HSdbJslc9A.png"}},"ImageMetadata:1*1hiEAsTlce_ICvVpGm2Cgg.png":{"__typename":"ImageMetadata","id":"1*1hiEAsTlce_ICvVpGm2Cgg.png"},"User:c84b80175451":{"__typename":"User","id":"c84b80175451","customDomainState":null,"hasSubdomain":false,"username":"team-timescale","linkedAccounts":{"__ref":"LinkedAccounts:c84b80175451"},"isSuspended":false,"name":"Team Timescale","imageId":"1*1hiEAsTlce_ICvVpGm2Cgg.png","verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"socialStats":{"__typename":"SocialStats","followerCount":16,"followingCount":52,"collectionFollowingCount":5},"bio":"Timescale blog posts, reposted for the Medium community interested in building time-series, real-time analytics, AI, and vector data applications.","membership":null,"allowNotes":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:c84b80175451-viewerId:lo_d9539ba89d0a"},"twitterScreenName":""},"Post:c329d5fc02d9":{"__typename":"Post","id":"c329d5fc02d9","firstPublishedAt":1735650066146,"creator":{"__ref":"User:c84b80175451"},"collection":{"__ref":"Collection:7fa310224bc5"},"isSeries":false,"mediumUrl":"https:\u002F\u002Fmedium.com\u002Ftimescale\u002Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9","sequence":null,"uniqueSlug":"how-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql-c329d5fc02d9","content({\"postMeteringOptions\":{}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"b31b","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"033d","startIndex":69,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"b89b","startIndex":70,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"e36e","startIndex":126,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"b35a","startIndex":127,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"439e","startIndex":157,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"6a18","startIndex":158,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"595a","startIndex":174,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:cca28cfffdba_0"},{"__ref":"Paragraph:cca28cfffdba_1"},{"__ref":"Paragraph:cca28cfffdba_2"},{"__ref":"Paragraph:cca28cfffdba_3"},{"__ref":"Paragraph:cca28cfffdba_4"},{"__ref":"Paragraph:cca28cfffdba_5"},{"__ref":"Paragraph:cca28cfffdba_6"},{"__ref":"Paragraph:cca28cfffdba_7"},{"__ref":"Paragraph:cca28cfffdba_8"},{"__ref":"Paragraph:cca28cfffdba_9"},{"__ref":"Paragraph:cca28cfffdba_10"},{"__ref":"Paragraph:cca28cfffdba_11"},{"__ref":"Paragraph:cca28cfffdba_12"},{"__ref":"Paragraph:cca28cfffdba_13"},{"__ref":"Paragraph:cca28cfffdba_14"},{"__ref":"Paragraph:cca28cfffdba_15"},{"__ref":"Paragraph:cca28cfffdba_16"},{"__ref":"Paragraph:cca28cfffdba_17"},{"__ref":"Paragraph:cca28cfffdba_18"},{"__ref":"Paragraph:cca28cfffdba_19"},{"__ref":"Paragraph:cca28cfffdba_20"},{"__ref":"Paragraph:cca28cfffdba_21"},{"__ref":"Paragraph:cca28cfffdba_22"},{"__ref":"Paragraph:cca28cfffdba_23"},{"__ref":"Paragraph:cca28cfffdba_24"},{"__ref":"Paragraph:cca28cfffdba_25"},{"__ref":"Paragraph:cca28cfffdba_26"},{"__ref":"Paragraph:cca28cfffdba_27"},{"__ref":"Paragraph:cca28cfffdba_28"},{"__ref":"Paragraph:cca28cfffdba_29"},{"__ref":"Paragraph:cca28cfffdba_30"},{"__ref":"Paragraph:cca28cfffdba_31"},{"__ref":"Paragraph:cca28cfffdba_32"},{"__ref":"Paragraph:cca28cfffdba_33"},{"__ref":"Paragraph:cca28cfffdba_34"},{"__ref":"Paragraph:cca28cfffdba_35"},{"__ref":"Paragraph:cca28cfffdba_36"},{"__ref":"Paragraph:cca28cfffdba_37"},{"__ref":"Paragraph:cca28cfffdba_38"},{"__ref":"Paragraph:cca28cfffdba_39"},{"__ref":"Paragraph:cca28cfffdba_40"},{"__ref":"Paragraph:cca28cfffdba_41"},{"__ref":"Paragraph:cca28cfffdba_42"},{"__ref":"Paragraph:cca28cfffdba_43"},{"__ref":"Paragraph:cca28cfffdba_44"},{"__ref":"Paragraph:cca28cfffdba_45"},{"__ref":"Paragraph:cca28cfffdba_46"},{"__ref":"Paragraph:cca28cfffdba_47"},{"__ref":"Paragraph:cca28cfffdba_48"},{"__ref":"Paragraph:cca28cfffdba_49"},{"__ref":"Paragraph:cca28cfffdba_50"},{"__ref":"Paragraph:cca28cfffdba_51"},{"__ref":"Paragraph:cca28cfffdba_52"},{"__ref":"Paragraph:cca28cfffdba_53"},{"__ref":"Paragraph:cca28cfffdba_54"},{"__ref":"Paragraph:cca28cfffdba_55"},{"__ref":"Paragraph:cca28cfffdba_56"},{"__ref":"Paragraph:cca28cfffdba_57"},{"__ref":"Paragraph:cca28cfffdba_58"},{"__ref":"Paragraph:cca28cfffdba_59"},{"__ref":"Paragraph:cca28cfffdba_60"},{"__ref":"Paragraph:cca28cfffdba_61"},{"__ref":"Paragraph:cca28cfffdba_62"},{"__ref":"Paragraph:cca28cfffdba_63"},{"__ref":"Paragraph:cca28cfffdba_64"},{"__ref":"Paragraph:cca28cfffdba_65"},{"__ref":"Paragraph:cca28cfffdba_66"},{"__ref":"Paragraph:cca28cfffdba_67"},{"__ref":"Paragraph:cca28cfffdba_68"},{"__ref":"Paragraph:cca28cfffdba_69"},{"__ref":"Paragraph:cca28cfffdba_70"},{"__ref":"Paragraph:cca28cfffdba_71"},{"__ref":"Paragraph:cca28cfffdba_72"},{"__ref":"Paragraph:cca28cfffdba_73"},{"__ref":"Paragraph:cca28cfffdba_74"},{"__ref":"Paragraph:cca28cfffdba_75"},{"__ref":"Paragraph:cca28cfffdba_76"},{"__ref":"Paragraph:cca28cfffdba_77"},{"__ref":"Paragraph:cca28cfffdba_78"},{"__ref":"Paragraph:cca28cfffdba_79"},{"__ref":"Paragraph:cca28cfffdba_80"},{"__ref":"Paragraph:cca28cfffdba_81"},{"__ref":"Paragraph:cca28cfffdba_82"},{"__ref":"Paragraph:cca28cfffdba_83"},{"__ref":"Paragraph:cca28cfffdba_84"},{"__ref":"Paragraph:cca28cfffdba_85"},{"__ref":"Paragraph:cca28cfffdba_86"},{"__ref":"Paragraph:cca28cfffdba_87"},{"__ref":"Paragraph:cca28cfffdba_88"},{"__ref":"Paragraph:cca28cfffdba_89"},{"__ref":"Paragraph:cca28cfffdba_90"},{"__ref":"Paragraph:cca28cfffdba_91"},{"__ref":"Paragraph:cca28cfffdba_92"},{"__ref":"Paragraph:cca28cfffdba_93"},{"__ref":"Paragraph:cca28cfffdba_94"},{"__ref":"Paragraph:cca28cfffdba_95"},{"__ref":"Paragraph:cca28cfffdba_96"},{"__ref":"Paragraph:cca28cfffdba_97"},{"__ref":"Paragraph:cca28cfffdba_98"},{"__ref":"Paragraph:cca28cfffdba_99"},{"__ref":"Paragraph:cca28cfffdba_100"},{"__ref":"Paragraph:cca28cfffdba_101"},{"__ref":"Paragraph:cca28cfffdba_102"},{"__ref":"Paragraph:cca28cfffdba_103"},{"__ref":"Paragraph:cca28cfffdba_104"},{"__ref":"Paragraph:cca28cfffdba_105"},{"__ref":"Paragraph:cca28cfffdba_106"},{"__ref":"Paragraph:cca28cfffdba_107"},{"__ref":"Paragraph:cca28cfffdba_108"},{"__ref":"Paragraph:cca28cfffdba_109"},{"__ref":"Paragraph:cca28cfffdba_110"},{"__ref":"Paragraph:cca28cfffdba_111"},{"__ref":"Paragraph:cca28cfffdba_112"},{"__ref":"Paragraph:cca28cfffdba_113"},{"__ref":"Paragraph:cca28cfffdba_114"},{"__ref":"Paragraph:cca28cfffdba_115"},{"__ref":"Paragraph:cca28cfffdba_116"},{"__ref":"Paragraph:cca28cfffdba_117"},{"__ref":"Paragraph:cca28cfffdba_118"},{"__ref":"Paragraph:cca28cfffdba_119"},{"__ref":"Paragraph:cca28cfffdba_120"},{"__ref":"Paragraph:cca28cfffdba_121"},{"__ref":"Paragraph:cca28cfffdba_122"},{"__ref":"Paragraph:cca28cfffdba_123"},{"__ref":"Paragraph:cca28cfffdba_124"},{"__ref":"Paragraph:cca28cfffdba_125"},{"__ref":"Paragraph:cca28cfffdba_126"},{"__ref":"Paragraph:cca28cfffdba_127"},{"__ref":"Paragraph:cca28cfffdba_128"},{"__ref":"Paragraph:cca28cfffdba_129"},{"__ref":"Paragraph:cca28cfffdba_130"},{"__ref":"Paragraph:cca28cfffdba_131"},{"__ref":"Paragraph:cca28cfffdba_132"},{"__ref":"Paragraph:cca28cfffdba_133"},{"__ref":"Paragraph:cca28cfffdba_134"},{"__ref":"Paragraph:cca28cfffdba_135"},{"__ref":"Paragraph:cca28cfffdba_136"},{"__ref":"Paragraph:cca28cfffdba_137"},{"__ref":"Paragraph:cca28cfffdba_138"},{"__ref":"Paragraph:cca28cfffdba_139"},{"__ref":"Paragraph:cca28cfffdba_140"},{"__ref":"Paragraph:cca28cfffdba_141"},{"__ref":"Paragraph:cca28cfffdba_142"},{"__ref":"Paragraph:cca28cfffdba_143"},{"__ref":"Paragraph:cca28cfffdba_144"},{"__ref":"Paragraph:cca28cfffdba_145"},{"__ref":"Paragraph:cca28cfffdba_146"},{"__ref":"Paragraph:cca28cfffdba_147"},{"__ref":"Paragraph:cca28cfffdba_148"},{"__ref":"Paragraph:cca28cfffdba_149"},{"__ref":"Paragraph:cca28cfffdba_150"},{"__ref":"Paragraph:cca28cfffdba_151"},{"__ref":"Paragraph:cca28cfffdba_152"},{"__ref":"Paragraph:cca28cfffdba_153"},{"__ref":"Paragraph:cca28cfffdba_154"},{"__ref":"Paragraph:cca28cfffdba_155"},{"__ref":"Paragraph:cca28cfffdba_156"},{"__ref":"Paragraph:cca28cfffdba_157"},{"__ref":"Paragraph:cca28cfffdba_158"},{"__ref":"Paragraph:cca28cfffdba_159"},{"__ref":"Paragraph:cca28cfffdba_160"},{"__ref":"Paragraph:cca28cfffdba_161"},{"__ref":"Paragraph:cca28cfffdba_162"},{"__ref":"Paragraph:cca28cfffdba_163"},{"__ref":"Paragraph:cca28cfffdba_164"},{"__ref":"Paragraph:cca28cfffdba_165"},{"__ref":"Paragraph:cca28cfffdba_166"},{"__ref":"Paragraph:cca28cfffdba_167"},{"__ref":"Paragraph:cca28cfffdba_168"},{"__ref":"Paragraph:cca28cfffdba_169"},{"__ref":"Paragraph:cca28cfffdba_170"},{"__ref":"Paragraph:cca28cfffdba_171"},{"__ref":"Paragraph:cca28cfffdba_172"},{"__ref":"Paragraph:cca28cfffdba_173"},{"__ref":"Paragraph:cca28cfffdba_174"}]},"validatedShareKey":"","shareKeyCreator":null},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"programming"}],"isPublished":true,"latestPublishedVersion":"cca28cfffdba","visibility":"PUBLIC","postResponses":{"__typename":"PostResponses","count":0},"clapCount":0,"allowResponses":true,"isLimitedState":false,"title":"How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL","socialTitle":"","socialDek":"","canonicalUrl":"https:\u002F\u002Fwww.timescale.com\u002Fblog\u002Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql","metaDescription":"","latestPublishedAt":1735650066146,"readingTime":14.860377358490565,"previewContent":{"__typename":"PreviewContent","subtitle":"PostgreSQL is a great option for IoT data and the real-time analytics it often requires. Read how we built and benchmarked an IoT pipeline."},"previewImage":{"__ref":"ImageMetadata:0*5i5C_3d8fFMWYfCm"},"isShortform":false,"seoTitle":"","updatedAt":1735655314092,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"PostgreSQL is a great option for IoT data and the real-time analytics it often requires. Need proof? Read how we built and benchmarked an IoT pipeline.","viewerEdge":{"__ref":"PostViewerEdge:postId:c329d5fc02d9-viewerId:lo_d9539ba89d0a"},"isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:iot"},{"__ref":"Tag:postgresql"},{"__ref":"Tag:real-time-analytics"},{"__ref":"Tag:technology"},{"__ref":"Tag:programming"}],"isNewsletter":false,"statusForCollection":"APPROVED","pendingCollection":null,"detectedLanguage":"en","wordCount":3514,"layerCake":0,"responsesLocked":false},"LinkedAccounts:c84b80175451":{"__typename":"LinkedAccounts","mastodon":null,"id":"c84b80175451"},"Paragraph:cca28cfffdba_0":{"__typename":"Paragraph","id":"cca28cfffdba_0","name":"d456","type":"H3","href":null,"layout":null,"metadata":null,"text":"How to Build an IoT Pipeline for Real-Time Analytics in PostgreSQL","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*5i5C_3d8fFMWYfCm":{"__typename":"ImageMetadata","id":"0*5i5C_3d8fFMWYfCm","originalHeight":631,"originalWidth":1246,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_1":{"__typename":"Paragraph","id":"cca28cfffdba_1","name":"244f","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*5i5C_3d8fFMWYfCm"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_2":{"__typename":"Paragraph","id":"cca28cfffdba_2","name":"f185","type":"P","href":null,"layout":null,"metadata":null,"text":"The Internet of Things (IoT) is transforming industries by connecting devices and enabling real-time data sharing. For applications that do predictive maintenance, enable smart cities, and implement industrial automation, managing IoT data effectively is key to ensuring smooth operations and timely decision-making.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_3":{"__typename":"Paragraph","id":"cca28cfffdba_3","name":"748b","type":"P","href":null,"layout":null,"metadata":null,"text":"While many organizations opt to manage the deluge of sensor data and power their real-time analytics using different databases, we’ve always favored PostgreSQL. With the help of extensions like TimescaleDB, which is PostgreSQL under the hood and adds automatic data partitioning, always up-to-date materialized views, and a powerful hybrid-row columnar storage engine to PostgreSQL, this relational database becomes a robust IoT database.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":128,"end":159,"href":"https:\u002F\u002Fwww.timescale.com\u002Fblog\u002Fstoring-iot-data-why-you-should-use-postgresql\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":194,"end":205,"href":"https:\u002F\u002Fdocs.timescale.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":213,"end":216,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_4":{"__typename":"Paragraph","id":"cca28cfffdba_4","name":"55d2","type":"P","href":null,"layout":null,"metadata":null,"text":"With these additions, PostgreSQL keeps your relational and time-series data in one place as it endlessly grows, simplifies your operations, and provides speed and scale for real-time analytics.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_5":{"__typename":"Paragraph","id":"cca28cfffdba_5","name":"1bd8","type":"P","href":null,"layout":null,"metadata":null,"text":"To demonstrate this, in this blog, we’ll explore the following:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_6":{"__typename":"Paragraph","id":"cca28cfffdba_6","name":"7433","type":"ULI","href":null,"layout":null,"metadata":null,"text":"How to integrate PostgreSQL (with TimescaleDB) with Kafka for efficient data ingestion.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_7":{"__typename":"Paragraph","id":"cca28cfffdba_7","name":"7fc4","type":"ULI","href":null,"layout":null,"metadata":null,"text":"We’ll assess the performance of the data pipeline, measuring throughput and latency from data generation to storage.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_8":{"__typename":"Paragraph","id":"cca28cfffdba_8","name":"4a24","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Finally, we’ll set up monitoring queries in Grafana and create a dashboard to enable real-time monitoring of your IoT system, helping you make informed, data-driven decisions.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_9":{"__typename":"Paragraph","id":"cca28cfffdba_9","name":"0eac","type":"H3","href":null,"layout":null,"metadata":null,"text":"An IoT Pipeline for Real-Time Analytics: Key Concepts and Tools","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_10":{"__typename":"Paragraph","id":"cca28cfffdba_10","name":"ee0f","type":"P","href":null,"layout":null,"metadata":null,"text":"Before we dive into our tutorial, let’s take a moment to explain some key concepts.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_11":{"__typename":"Paragraph","id":"cca28cfffdba_11","name":"ccb5","type":"H4","href":null,"layout":null,"metadata":null,"text":"IoT data challenges","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_12":{"__typename":"Paragraph","id":"cca28cfffdba_12","name":"21c4","type":"P","href":null,"layout":null,"metadata":null,"text":"The Internet of Things (IoT) is a network of everyday objects — like smartwatches, refrigerators, cars, and industrial sensors — that are connected to the Internet and can collect, share, and act on data. The IoT data collected by devices like fitness trackers and smartwatches presents a number of challenges. Its high volume, velocity, and variety require scalable storage and real-time processing capabilities. Additionally, ensuring data reliability, security, and integration across diverse devices and systems adds significant complexity. To deal with such complexity, we’ll add the following tools with our supercharged PostgreSQL (TimescaleDB is PostgreSQL under the hood) to build an IoT pipeline and enable real-time monitoring.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":651,"end":654,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_13":{"__typename":"Paragraph","id":"cca28cfffdba_13","name":"ce7c","type":"H4","href":null,"layout":null,"metadata":null,"text":"Kafka","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_14":{"__typename":"Paragraph","id":"cca28cfffdba_14","name":"1451","type":"P","href":null,"layout":null,"metadata":null,"text":"Apache Kafka is an open-source distributed event streaming platform for building real-time data pipelines and streaming applications. It is designed to handle large volumes of data in real time and efficiently transmit it between systems. It allows you to publish, subscribe, store, and process streams of records (events) in a fault-tolerant and scalable manner. Kafka is widely used in industries for handling high-throughput data, such as log aggregation, real-time analytics, and stream processing.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_15":{"__typename":"Paragraph","id":"cca28cfffdba_15","name":"6bad","type":"P","href":null,"layout":null,"metadata":null,"text":"Think of Kafka as a messaging app, where messages or data are like text messages, and Kafka is the platform that manages the sending and receiving of those messages.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_16":{"__typename":"Paragraph","id":"cca28cfffdba_16","name":"dc71","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Producers are like users who send messages (data) through the app. These could be different systems or applications generating data that needs to be shared.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_17":{"__typename":"Paragraph","id":"cca28cfffdba_17","name":"ede1","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Topics in Kafka are like different chat groups or threads in the app. Each topic is a category or a channel where related messages are stored. For example, one thread might be for “orders,” another for “payments,” and another for “sensor readings.”","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_18":{"__typename":"Paragraph","id":"cca28cfffdba_18","name":"617f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Consumers are like users or apps that receive and read the messages from the chat groups. These could be other applications or systems that need to process the data, such as analytics tools, databases, or alerting systems.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_19":{"__typename":"Paragraph","id":"cca28cfffdba_19","name":"d676","type":"ULI","href":null,"layout":null,"metadata":null,"text":"The queue or login Kafka is like the message inbox, where the messages wait to be read by the consumers. Kafka ensures that messages are delivered in the correct order and that consumers can access them at any time, even if they need to process the messages later.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_20":{"__typename":"Paragraph","id":"cca28cfffdba_20","name":"0f9c","type":"H4","href":null,"layout":null,"metadata":null,"text":"Grafana","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_21":{"__typename":"Paragraph","id":"cca28cfffdba_21","name":"12f2","type":"P","href":null,"layout":null,"metadata":null,"text":"Grafana is an open-source platform used for monitoring and visualizing data. It helps you understand and analyze your data by turning it into interactive and customizable dashboards. Grafana connects to various data sources, like databases, cloud services, and application logs, and allows you to create graphs, charts, and alerts based on the data you want to monitor.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_22":{"__typename":"Paragraph","id":"cca28cfffdba_22","name":"4456","type":"P","href":null,"layout":null,"metadata":null,"text":"With Grafana, you can track the health of your systems, view real-time metrics, and easily spot issues. It’s widely used for monitoring infrastructure, application performance, and business metrics and is particularly popular in DevOps and IT operations. Grafana also allows you to set up alerts so you can be notified when certain conditions are met, making it an essential tool for ensuring everything is running smoothly.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_23":{"__typename":"Paragraph","id":"cca28cfffdba_23","name":"de4d","type":"H3","href":null,"layout":null,"metadata":null,"text":"Integrating PostgreSQL via Timescale With Kafka","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_24":{"__typename":"Paragraph","id":"cca28cfffdba_24","name":"6c34","type":"P","href":null,"layout":null,"metadata":null,"text":"The goal here is to stream data into a Kafka topic, sending a continuous flow of records (or events). This data can represent various types of information, such as sensor readings, logs, or transaction data, that are generated in real time. While the data is being streamed into the Kafka topic, it’s simultaneously ingested into PostgreSQL via the Timescale database through Kafka Connect.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_25":{"__typename":"Paragraph","id":"cca28cfffdba_25","name":"949e","type":"P","href":null,"layout":null,"metadata":null,"text":"Kafka Connect is a framework designed to integrate Kafka with different data sources and sinks such as databases or analytics platforms. It streamlines the process of sending data into TimescaleDB without the need for custom code. Kafka Connect automatically pulls data from Kafka topics and writes it to TimescaleDB, ensuring the data is stored and ready for further processing or analysis.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_26":{"__typename":"Paragraph","id":"cca28cfffdba_26","name":"1987","type":"P","href":null,"layout":null,"metadata":null,"text":"For speed and convenience, we used TimescaleDB in our mature PostgreSQL cloud platform, Timescale Cloud (it’s free for 30 days, no credit card required), but you can always use the open-source extension. Here’s how to install it. To integrate Kafka with Timescale Cloud, you can check out another excellent blog post that provides detailed instructions here.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":88,"end":152,"href":"https:\u002F\u002Fconsole.cloud.timescale.com\u002Fsignup","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":204,"end":228,"href":"https:\u002F\u002Fdocs.timescale.com\u002Fself-hosted\u002Flatest\u002Finstall\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":353,"end":357,"href":"https:\u002F\u002Fwww.timescale.com\u002Fblog\u002Fbuilding-a-kafka-data-pipeline-for-time-series-with-kafka-connect-and-timescale\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_27":{"__typename":"Paragraph","id":"cca28cfffdba_27","name":"181a","type":"P","href":null,"layout":null,"metadata":null,"text":"I’ve used the same example to integrate the Timescale Cloud instance with Kafka. Below, I’ll outline the changes I made during the integration process.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_28":{"__typename":"Paragraph","id":"cca28cfffdba_28","name":"479d","type":"P","href":null,"layout":null,"metadata":null,"text":"Obtain the latest Kafka source:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_29":{"__typename":"Paragraph","id":"cca28cfffdba_29","name":"5d90","type":"PRE","href":null,"layout":null,"metadata":null,"text":"sudo mkdir \u002Fusr\u002Flocal\u002Fkafka\nsudo chown -R $(whoami) \u002Fusr\u002Flocal\u002Fkafka\nwget https:\u002F\u002Fdownloads.apache.org\u002Fkafka\u002F3.9.0\u002Fkafka_2.13-3.9.0.tgz && tar -xzf kafka_2.13-3.9.0.tgz -C \u002Fusr\u002Flocal\u002Fkafka --strip-components=1","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_30":{"__typename":"Paragraph","id":"cca28cfffdba_30","name":"1971","type":"P","href":null,"layout":null,"metadata":null,"text":"And continue with the script used here.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":34,"end":38,"href":"https:\u002F\u002Fgithub.com\u002Fmathisve\u002Fkafka-shenanigans\u002Fblob\u002Fmain\u002Fbaremetal-configs\u002Fcommands.sh?ref=timescale.ghost.io","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_31":{"__typename":"Paragraph","id":"cca28cfffdba_31","name":"9254","type":"P","href":null,"layout":null,"metadata":null,"text":"Replace the following line in timescale-sink.properties file:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":30,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_32":{"__typename":"Paragraph","id":"cca28cfffdba_32","name":"7e32","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\"camel.kamelet.postgresql-sink.query\":\"INSERT INTO accounts (name,city) VALUES (:#name,:#city)\",","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"json"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_33":{"__typename":"Paragraph","id":"cca28cfffdba_33","name":"8b6f","type":"P","href":null,"layout":null,"metadata":null,"text":"With this line:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_34":{"__typename":"Paragraph","id":"cca28cfffdba_34","name":"eb72","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\"camel.kamelet.postgresql-sink.query\":\"INSERT INTO metrics (ts, sensor_id, value) VALUES (CAST(:#ts AS TIMESTAMPTZ), :#sensor_id, :#value)\",","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"json"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_35":{"__typename":"Paragraph","id":"cca28cfffdba_35","name":"becf","type":"P","href":null,"layout":null,"metadata":null,"text":"This line tells the system how to save data from a sensor into the metrics table. For every new record, it saves the following:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_36":{"__typename":"Paragraph","id":"cca28cfffdba_36","name":"b8e2","type":"ULI","href":null,"layout":null,"metadata":null,"text":"The time (:#ts)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_37":{"__typename":"Paragraph","id":"cca28cfffdba_37","name":"ddf4","type":"ULI","href":null,"layout":null,"metadata":null,"text":"The sensor’s ID (:#sensor_id)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_38":{"__typename":"Paragraph","id":"cca28cfffdba_38","name":"54f8","type":"ULI","href":null,"layout":null,"metadata":null,"text":"And the reading or measurement (:#value)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_39":{"__typename":"Paragraph","id":"cca28cfffdba_39","name":"26fb","type":"P","href":null,"layout":null,"metadata":null,"text":"The :# syntax is used to represent parameters in the query. It's a way to tell the system that the values for these placeholders will be provided dynamically, typically by the system or application executing the query.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":4,"end":6,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_40":{"__typename":"Paragraph","id":"cca28cfffdba_40","name":"db42","type":"P","href":null,"layout":null,"metadata":null,"text":"Also, make sure to insert valid credentials in the following properties:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_41":{"__typename":"Paragraph","id":"cca28cfffdba_41","name":"cf50","type":"PRE","href":null,"layout":null,"metadata":null,"text":"- \"camel.kamelet.postgresql-sink.databaseName\":\"tsdb\",\n- \"camel.kamelet.postgresql-sink.password\":\"password\",\n- \"camel.kamelet.postgresql-sink.serverName\":\"service_id.project_id.tsdb.cloud.timescale.com\",\n- \"camel.kamelet.postgresql-sink.serverPort\":\"5432\",\n- \"camel.kamelet.postgresql-sink.username\":\"tsdbadmin\"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_42":{"__typename":"Paragraph","id":"cca28cfffdba_42","name":"12b8","type":"H3","href":null,"layout":null,"metadata":null,"text":"About the Dataset","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_43":{"__typename":"Paragraph","id":"cca28cfffdba_43","name":"ea5f","type":"P","href":null,"layout":null,"metadata":null,"text":"In this blog, I’ll be using the dataset provided by Timescale, which can be found here.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":82,"end":86,"href":"https:\u002F\u002Fassets.timescale.com\u002Fdocs\u002Fdownloads\u002Fmetrics.csv.gz","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_44":{"__typename":"Paragraph","id":"cca28cfffdba_44","name":"ade1","type":"P","href":null,"layout":null,"metadata":null,"text":"Inside this dataset, we have a table named metrics. This table is used to store time-series data commonly used in IoT (Internet of Things) or monitoring systems. Here’s a breakdown of its structure and the kind of data it holds:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_45":{"__typename":"Paragraph","id":"cca28cfffdba_45","name":"e3ad","type":"PRE","href":null,"layout":null,"metadata":null,"text":"tsdb=\u003E \\d metrics\nTable \"public.metrics\"\nColumn | Type | Collation | Nullable | Default\n-----------+--------------------------+-----------+----------+---------\nts | timestamp with time zone | | |\nsensor_id | integer | | |\nvalue | numeric | | |","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"sql"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_46":{"__typename":"Paragraph","id":"cca28cfffdba_46","name":"f624","type":"H4","href":null,"layout":null,"metadata":null,"text":"Columns and their roles","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_47":{"__typename":"Paragraph","id":"cca28cfffdba_47","name":"29e5","type":"ULI","href":null,"layout":null,"metadata":null,"text":"ts (timestamp with time zone): represents the exact time when the data was recorded.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":0,"end":2,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_48":{"__typename":"Paragraph","id":"cca28cfffdba_48","name":"3632","type":"ULI","href":null,"layout":null,"metadata":null,"text":"sensor_id (integer): identifies the sensor that generated the data.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":0,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_49":{"__typename":"Paragraph","id":"cca28cfffdba_49","name":"d463","type":"ULI","href":null,"layout":null,"metadata":null,"text":"value (numeric): represents the reading or measurement taken by the sensor.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":0,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_50":{"__typename":"Paragraph","id":"cca28cfffdba_50","name":"03cf","type":"H4","href":null,"layout":null,"metadata":null,"text":"Example record","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_51":{"__typename":"Paragraph","id":"cca28cfffdba_51","name":"09d6","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Timestamp (ts): 2023–05–31 21:48:41.234187+00","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_52":{"__typename":"Paragraph","id":"cca28cfffdba_52","name":"02e6","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Sensor ID (sensor_id): 21","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_53":{"__typename":"Paragraph","id":"cca28cfffdba_53","name":"b6d7","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Value (value): 0.68","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_54":{"__typename":"Paragraph","id":"cca28cfffdba_54","name":"0158","type":"P","href":null,"layout":null,"metadata":null,"text":"This record indicates that at the specified timestamp, Sensor 21 recorded a measurement of 0.68.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_55":{"__typename":"Paragraph","id":"cca28cfffdba_55","name":"3386","type":"PRE","href":null,"layout":null,"metadata":null,"text":"tsdb=\u003E select * from metrics limit 1;\nts | sensor_id | value\n-------------------------------+-----------+-------\n2023-05-31 21:48:41.234187+00 | 21 | 0.68\n(1 row)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"sql"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_56":{"__typename":"Paragraph","id":"cca28cfffdba_56","name":"8d9f","type":"H3","href":null,"layout":null,"metadata":null,"text":"Prepare the Dataset","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_57":{"__typename":"Paragraph","id":"cca28cfffdba_57","name":"e070","type":"P","href":null,"layout":null,"metadata":null,"text":"Download and decompress the dataset.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_58":{"__typename":"Paragraph","id":"cca28cfffdba_58","name":"6773","type":"PRE","href":null,"layout":null,"metadata":null,"text":"wget https:\u002F\u002Fassets.timescale.com\u002Fdocs\u002Fdownloads\u002Fmetrics.csv.gzgzip -d metrics.csv.gz","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"ruby"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_59":{"__typename":"Paragraph","id":"cca28cfffdba_59","name":"0c59","type":"P","href":null,"layout":null,"metadata":null,"text":"Convert the dataset to JSON format so we can easily stream this data to Kafka topic.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_60":{"__typename":"Paragraph","id":"cca28cfffdba_60","name":"1899","type":"PRE","href":null,"layout":null,"metadata":null,"text":"echo \"[\" \u003E metrics.jsonawk -F',' '{print \"{\\\"ts\\\": \\\"\"$1\"\\\", \\\"sensor_id\\\": \"$2\", \\\"value\\\": \"$3\"},\"}' metrics.csv | sed '$ s\u002F,$\u002F\u002F' \u003E\u003E metrics.jsonecho \"]\" \u003E\u003E metrics.json","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"swift"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_61":{"__typename":"Paragraph","id":"cca28cfffdba_61","name":"961a","type":"P","href":null,"layout":null,"metadata":null,"text":"Once the dataset is ready, stream the data to Kafka topic.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_62":{"__typename":"Paragraph","id":"cca28cfffdba_62","name":"ba0c","type":"P","href":null,"layout":null,"metadata":null,"text":"To stream data to the Kafka topic, we are going to use a utility named kcat, which was formerly known as kafkacat.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":71,"end":75,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":105,"end":113,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_63":{"__typename":"Paragraph","id":"cca28cfffdba_63","name":"7edc","type":"P","href":null,"layout":null,"metadata":null,"text":"The kcat utility is a flexible tool that can function as either a producer (sending data) or a consumer (receiving data), depending on its configuration. It can easily switch between these roles.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":4,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_64":{"__typename":"Paragraph","id":"cca28cfffdba_64","name":"88c0","type":"P","href":null,"layout":null,"metadata":null,"text":"In our example, by using the -p switch, we configure kcat as a producer to send data to a Kafka topic specified with the -t switch. Once the data starts appearing in the Kafka topic, tools like Kafka Connect can be used to read the data and stream it into the Timescale database for permanent storage.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":29,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":53,"end":57,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":121,"end":123,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_65":{"__typename":"Paragraph","id":"cca28cfffdba_65","name":"11c1","type":"P","href":null,"layout":null,"metadata":null,"text":"The -b switch is used to specify the Kafka broker address. A Kafka broker is like a server that stores and manages messages, which are saved in topic partitions. These partitions act as separate storage areas where the messages are kept in the order they were sent.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":4,"end":6,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_66":{"__typename":"Paragraph","id":"cca28cfffdba_66","name":"2120","type":"P","href":null,"layout":null,"metadata":null,"text":"When producers, like kcat in our example, want to send data, they send it to the Kafka broker. The broker stores the data across different partitions.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":21,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_67":{"__typename":"Paragraph","id":"cca28cfffdba_67","name":"5a3c","type":"P","href":null,"layout":null,"metadata":null,"text":"Then consumers, such as Kafka Connect, connect to the Kafka broker and fetch the data from the topics they're interested in. Even in case of system failures, Kafka brokers ensure that the data remains accessible and available, keeping the system reliable.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":24,"end":37,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_68":{"__typename":"Paragraph","id":"cca28cfffdba_68","name":"e2a0","type":"PRE","href":null,"layout":null,"metadata":null,"text":"kcat -P -b localhost:9092 -t mytopic -l metrics.json","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"css"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_69":{"__typename":"Paragraph","id":"cca28cfffdba_69","name":"8bd5","type":"P","href":null,"layout":null,"metadata":null,"text":"✨ Note: Both the Timescale instance and the Kafka host were located in the same AWS region.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":2,"end":6,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_70":{"__typename":"Paragraph","id":"cca28cfffdba_70","name":"5266","type":"H4","href":null,"layout":null,"metadata":null,"text":"Important timelines","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_71":{"__typename":"Paragraph","id":"cca28cfffdba_71","name":"f447","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Data streaming to the Kafka topic started at:\n- Mon Dec 2 01:44:40 UTC 2024","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_72":{"__typename":"Paragraph","id":"cca28cfffdba_72","name":"0dba","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Data streaming to the Kafka topic ends at:\n- Mon Dec 2 01:44:58 UTC 2024","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_73":{"__typename":"Paragraph","id":"cca28cfffdba_73","name":"cafc","type":"ULI","href":null,"layout":null,"metadata":null,"text":"The total number of rows to be ingested was:\n- 2523726","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_74":{"__typename":"Paragraph","id":"cca28cfffdba_74","name":"d322","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Data ingestion to Timescale instance started at:\n- Mon Dec 2 01:44:40 UTC 2024","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_75":{"__typename":"Paragraph","id":"cca28cfffdba_75","name":"0846","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Data ingestion to Timescale instance ends at:\n- Mon Dec 2 02:15:38 UTC 2024","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_76":{"__typename":"Paragraph","id":"cca28cfffdba_76","name":"23a1","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Total time taken to ingest the data to Timescale:\n- 30 minutes and 58 seconds.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_77":{"__typename":"Paragraph","id":"cca28cfffdba_77","name":"8117","type":"H4","href":null,"layout":null,"metadata":null,"text":"Stats","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_78":{"__typename":"Paragraph","id":"cca28cfffdba_78","name":"7591","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Streaming rate to Kafka topic:\n- Total number of rows \u002F total time = 2523726 \u002F 18 = 140207 rows \u002F sec","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":84,"end":101,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_79":{"__typename":"Paragraph","id":"cca28cfffdba_79","name":"9bb9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Data ingestion rate to Timescale instance:\n- Time taken for ingestion \u002F total number of rows = 2523726 \u002F 1858 = ~1358 ​rows \u002F sec","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":113,"end":129,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_80":{"__typename":"Paragraph","id":"cca28cfffdba_80","name":"e47f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Total latency to ingest the data to Timescale Cloud:\n- The time when ingestion ends in Timescale.The time when ingestion started in Timescale = Mon Dec 2 02:15:38 UTC 2024 — Mon Dec 2 01:44:40 UTC 2024 = 1,858 seconds","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":204,"end":217,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_81":{"__typename":"Paragraph","id":"cca28cfffdba_81","name":"5234","type":"H3","href":null,"layout":null,"metadata":null,"text":"Monitoring IoT Data With Grafana","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_82":{"__typename":"Paragraph","id":"cca28cfffdba_82","name":"bc92","type":"P","href":null,"layout":null,"metadata":null,"text":"To integrate Timescale with Grafana, I recommend reading the following blog post, which provides a step-by-step guide for the integration process here.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":146,"end":150,"href":"https:\u002F\u002Fwww.timescale.com\u002Flearn\u002F5-ways-to-monitor-your-postgresql-database","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_83":{"__typename":"Paragraph","id":"cca28cfffdba_83","name":"eed9","type":"P","href":null,"layout":null,"metadata":null,"text":"After completing the Grafana integration, the next step is to create your first Grafana dashboard. To do this, follow these steps:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_84":{"__typename":"Paragraph","id":"cca28cfffdba_84","name":"5ac2","type":"ULI","href":null,"layout":null,"metadata":null,"text":"From the left panel, select “Dashboard.”","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_85":{"__typename":"Paragraph","id":"cca28cfffdba_85","name":"1b87","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Then, create a new dashboard for visualization.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*LrnTkeRRQPkwV5QI":{"__typename":"ImageMetadata","id":"0*LrnTkeRRQPkwV5QI","originalHeight":531,"originalWidth":1247,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_86":{"__typename":"Paragraph","id":"cca28cfffdba_86","name":"628c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*LrnTkeRRQPkwV5QI"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_87":{"__typename":"Paragraph","id":"cca28cfffdba_87","name":"4d18","type":"P","href":null,"layout":null,"metadata":null,"text":"Next, choose your PostgreSQL data source.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*n1b7oT244mKyAxYK":{"__typename":"ImageMetadata","id":"0*n1b7oT244mKyAxYK","originalHeight":619,"originalWidth":1247,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_88":{"__typename":"Paragraph","id":"cca28cfffdba_88","name":"30b5","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*n1b7oT244mKyAxYK"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_89":{"__typename":"Paragraph","id":"cca28cfffdba_89","name":"d0ab","type":"P","href":null,"layout":null,"metadata":null,"text":"At this stage, your first dashboard is nearly complete. Simply click on the “Back to Dashboard” option in the top right corner to return to it, where you can begin creating custom variables and queries for data visualization.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_90":{"__typename":"Paragraph","id":"cca28cfffdba_90","name":"4579","type":"P","href":null,"layout":null,"metadata":null,"text":"A new dashboard is created successfully:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*Qkni4caP4IVZ8q6N":{"__typename":"ImageMetadata","id":"0*Qkni4caP4IVZ8q6N","originalHeight":344,"originalWidth":1246,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_91":{"__typename":"Paragraph","id":"cca28cfffdba_91","name":"17a3","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*Qkni4caP4IVZ8q6N"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_92":{"__typename":"Paragraph","id":"cca28cfffdba_92","name":"c6ef","type":"P","href":null,"layout":null,"metadata":null,"text":"This is how our initial data looks in Grafana:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*mauAyU6PlTYbCCnG":{"__typename":"ImageMetadata","id":"0*mauAyU6PlTYbCCnG","originalHeight":510,"originalWidth":1240,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_93":{"__typename":"Paragraph","id":"cca28cfffdba_93","name":"463b","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*mauAyU6PlTYbCCnG"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_94":{"__typename":"Paragraph","id":"cca28cfffdba_94","name":"b337","type":"H3","href":null,"layout":null,"metadata":null,"text":"Creating Custom Variables for Your Grafana Dashboard","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_95":{"__typename":"Paragraph","id":"cca28cfffdba_95","name":"76ce","type":"P","href":null,"layout":null,"metadata":null,"text":"Custom variables in Grafana are user-defined placeholders that allow dynamic data filtering and visualization based on user inputs, such as dropdown selections. They enhance dashboards by enabling flexible, reusable queries and tailored insights without modifying the underlying queries.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_96":{"__typename":"Paragraph","id":"cca28cfffdba_96","name":"65d3","type":"P","href":null,"layout":null,"metadata":null,"text":"In an IoT use case, custom variables in Grafana can be utilized to monitor specific device locations. For example, a variable can filter temperature data by selecting devices installed in different rooms or floors of a building. This filtering allows the dashboard to display real-time temperature trends for the chosen locations, enabling targeted monitoring and analysis.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_97":{"__typename":"Paragraph","id":"cca28cfffdba_97","name":"8d44","type":"P","href":null,"layout":null,"metadata":null,"text":"To create custom variables, navigate to your dashboard and select the Settings menu from the top right corner.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*m8UOl2JzsZlABaGy":{"__typename":"ImageMetadata","id":"0*m8UOl2JzsZlABaGy","originalHeight":361,"originalWidth":1243,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_98":{"__typename":"Paragraph","id":"cca28cfffdba_98","name":"0b4f","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*m8UOl2JzsZlABaGy"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_99":{"__typename":"Paragraph","id":"cca28cfffdba_99","name":"5eec","type":"P","href":null,"layout":null,"metadata":null,"text":"From Settings, click on the Variables tab and click on Add variable.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*v34-kiqN2b5PsaVs":{"__typename":"ImageMetadata","id":"0*v34-kiqN2b5PsaVs","originalHeight":508,"originalWidth":1245,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_100":{"__typename":"Paragraph","id":"cca28cfffdba_100","name":"b9b1","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*v34-kiqN2b5PsaVs"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_101":{"__typename":"Paragraph","id":"cca28cfffdba_101","name":"bc13","type":"P","href":null,"layout":null,"metadata":null,"text":"On the next screen, we need to add all the required information to create a new variable:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_102":{"__typename":"Paragraph","id":"cca28cfffdba_102","name":"d961","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Select variable type: Choose the variable type, such as query, custom, or constant, to define how the variable’s values are generated. Since we’re creating a dropdown that a backend query will populate, I have selected the “query” option.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_103":{"__typename":"Paragraph","id":"cca28cfffdba_103","name":"ebfd","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Name: Assign a unique identifier for the variable, used for referencing it in queries or expressions.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_104":{"__typename":"Paragraph","id":"cca28cfffdba_104","name":"11d4","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Label: Provide a display name for the variable, which is shown on the dashboard for user clarity.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_105":{"__typename":"Paragraph","id":"cca28cfffdba_105","name":"fb7f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Description: Add a brief explanation of the variable’s purpose, aiding dashboard users in understanding its function.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_106":{"__typename":"Paragraph","id":"cca28cfffdba_106","name":"cee4","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Show on dashboard: Decide how to display this dropdown on the dashboard, whether it should be with a label for better understanding or without a label.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_107":{"__typename":"Paragraph","id":"cca28cfffdba_107","name":"3b23","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Data source: Specify the data source (e.g., Prometheus, PostgreSQL) from which the variable retrieves its values.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_108":{"__typename":"Paragraph","id":"cca28cfffdba_108","name":"a1d5","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Query: Define the logic or query to fetch dynamic values for the variable based on the selected data source.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_109":{"__typename":"Paragraph","id":"cca28cfffdba_109","name":"2668","type":"P","href":null,"layout":null,"metadata":null,"text":"You can leave the rest of the options as the default values.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*IzsR9Fd614aCKS9P":{"__typename":"ImageMetadata","id":"0*IzsR9Fd614aCKS9P","originalHeight":572,"originalWidth":1247,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_110":{"__typename":"Paragraph","id":"cca28cfffdba_110","name":"64bb","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*IzsR9Fd614aCKS9P"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_111":{"__typename":"Paragraph","id":"cca28cfffdba_111","name":"3c9d","type":"P","href":null,"layout":null,"metadata":null,"text":"At the bottom, we can see Grafana provides a preview of the data it successfully fetched from the database table, which will then be used to populate the dropdown.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*4iewRqQhQrLrE8Cr":{"__typename":"ImageMetadata","id":"0*4iewRqQhQrLrE8Cr","originalHeight":498,"originalWidth":1245,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_112":{"__typename":"Paragraph","id":"cca28cfffdba_112","name":"dc5a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*4iewRqQhQrLrE8Cr"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_113":{"__typename":"Paragraph","id":"cca28cfffdba_113","name":"8dd9","type":"P","href":null,"layout":null,"metadata":null,"text":"After creating the custom variables, the next step is setting up dashboard monitoring queries for real-time data visualization.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_114":{"__typename":"Paragraph","id":"cca28cfffdba_114","name":"d942","type":"H3","href":null,"layout":null,"metadata":null,"text":"Visualizing Monitoring Queries on a Grafana Dashboard","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_115":{"__typename":"Paragraph","id":"cca28cfffdba_115","name":"247d","type":"P","href":null,"layout":null,"metadata":null,"text":"After creating your custom variables, navigate to the dashboard, click on the three dots in the panel, and select “Edit.”","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*PmcK8SQBfVhI22b0":{"__typename":"ImageMetadata","id":"0*PmcK8SQBfVhI22b0","originalHeight":359,"originalWidth":1244,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_116":{"__typename":"Paragraph","id":"cca28cfffdba_116","name":"a588","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*PmcK8SQBfVhI22b0"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_117":{"__typename":"Paragraph","id":"cca28cfffdba_117","name":"0a6b","type":"P","href":null,"layout":null,"metadata":null,"text":"On the next screen, select the “Code” option next to “Run Query.” We will use Code mode instead of the “Query Builder” mode, as this allows you to write your own query to generate the visuals.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*OChY95z7H4FlIhkZ":{"__typename":"ImageMetadata","id":"0*OChY95z7H4FlIhkZ","originalHeight":637,"originalWidth":1245,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_118":{"__typename":"Paragraph","id":"cca28cfffdba_118","name":"30d1","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*OChY95z7H4FlIhkZ"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_119":{"__typename":"Paragraph","id":"cca28cfffdba_119","name":"680d","type":"H4","href":null,"layout":null,"metadata":null,"text":"Case 1: Plotting minimum and maximum sensor data","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_120":{"__typename":"Paragraph","id":"cca28cfffdba_120","name":"c262","type":"P","href":null,"layout":null,"metadata":null,"text":"Retrieving the range of values for a specific sensor over a particular day is useful for detecting anomalies (such as unusually high or low readings), evaluating the sensor’s performance within expected limits, and ensuring the sensor is functioning correctly.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_121":{"__typename":"Paragraph","id":"cca28cfffdba_121","name":"7d90","type":"H4","href":null,"layout":null,"metadata":null,"text":"Query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_122":{"__typename":"Paragraph","id":"cca28cfffdba_122","name":"8096","type":"PRE","href":null,"layout":null,"metadata":null,"text":"SELECT\n    MIN(value) AS min_value,\n    MAX(value) AS max_value\nFROM metrics\nWHERE \n    ts BETWEEN $__timeFrom() AND $__timeTo()\n    AND sensor_id = $sensor_id;","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"sql"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_123":{"__typename":"Paragraph","id":"cca28cfffdba_123","name":"319c","type":"H4","href":null,"layout":null,"metadata":null,"text":"Understanding the query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_124":{"__typename":"Paragraph","id":"cca28cfffdba_124","name":"54aa","type":"ULI","href":null,"layout":null,"metadata":null,"text":"The above query retrieves the minimum and maximum values of the value column from the metrics table within a specified time range and for a specific sensor ID.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_125":{"__typename":"Paragraph","id":"cca28cfffdba_125","name":"0b66","type":"ULI","href":null,"layout":null,"metadata":null,"text":"It dynamically uses $__timeFrom(), $__timeTo(), and $sensor_id variables to integrate seamlessly with Grafana dashboards.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":20,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":35,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":52,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_126":{"__typename":"Paragraph","id":"cca28cfffdba_126","name":"a0cd","type":"P","href":null,"layout":null,"metadata":null,"text":"✨ Note: We can easily select the sensor ID from the dropdown menu in the top left corner and specify the desired date range using the date range filter. The dashboard will automatically update to display the minimum and maximum values for the selected sensor and desired date range.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":2,"end":6,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*wkEsyQy-DgZttU4P":{"__typename":"ImageMetadata","id":"0*wkEsyQy-DgZttU4P","originalHeight":616,"originalWidth":1244,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_127":{"__typename":"Paragraph","id":"cca28cfffdba_127","name":"1879","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*wkEsyQy-DgZttU4P"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_128":{"__typename":"Paragraph","id":"cca28cfffdba_128","name":"0fd7","type":"H4","href":null,"layout":null,"metadata":null,"text":"The result","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_129":{"__typename":"Paragraph","id":"cca28cfffdba_129","name":"53bb","type":"P","href":null,"layout":null,"metadata":null,"text":"The diagram shows a minimum value of 0.265 and a maximum value of 0.999 for sensor ID 23, within the date range of 2023–05–29 to 2023–05–31.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_130":{"__typename":"Paragraph","id":"cca28cfffdba_130","name":"45fa","type":"H4","href":null,"layout":null,"metadata":null,"text":"Case 2: Plotting the sensor reading at 10-second intervals","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_131":{"__typename":"Paragraph","id":"cca28cfffdba_131","name":"1990","type":"P","href":null,"layout":null,"metadata":null,"text":"This is an ideal use case for downsampling high-frequency data into fixed time intervals, streamlining trend analysis, and data visualization. It ensures uniform time buckets, prevents graphs from becoming cluttered with excessive data points, and preserves key readings.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_132":{"__typename":"Paragraph","id":"cca28cfffdba_132","name":"2af1","type":"H4","href":null,"layout":null,"metadata":null,"text":"Query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_133":{"__typename":"Paragraph","id":"cca28cfffdba_133","name":"dd41","type":"PRE","href":null,"layout":null,"metadata":null,"text":"SELECT\n    series.time AS time,\n    m.value AS value\nFROM\n    generate_series(\n        $__timeFrom()::timestamp,\n        $__timeTo()::timestamp,\n        '10 seconds'::interval\n    ) AS series(time)\nLEFT JOIN LATERAL (\n    SELECT value\n    FROM metrics\n    WHERE sensor_id = $sensor_id\n      AND ts \u003E= series.time\n      AND ts \u003C series.time + interval '10 seconds'\n    ORDER BY ts\n    LIMIT 1\n) m ON true\nORDER BY series.time;","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"sql"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_134":{"__typename":"Paragraph","id":"cca28cfffdba_134","name":"aa30","type":"H4","href":null,"layout":null,"metadata":null,"text":"Understanding the query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_135":{"__typename":"Paragraph","id":"cca28cfffdba_135","name":"7b3f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"The query creates a series of time intervals from the start to the end of the selected date range ($__timeFrom() to $__timeTo()) in 10-second steps.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":99,"end":127,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_136":{"__typename":"Paragraph","id":"cca28cfffdba_136","name":"4d6f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"For each time interval, it retrieves the corresponding value from the metrics table for the selected sensor_id, ensuring that the data's timestamp (ts) falls within that specific interval. The closest match is selected for each interval.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":70,"end":77,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":101,"end":110,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*vWS5LJ6fG1DzOJcJ":{"__typename":"ImageMetadata","id":"0*vWS5LJ6fG1DzOJcJ","originalHeight":629,"originalWidth":1245,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_137":{"__typename":"Paragraph","id":"cca28cfffdba_137","name":"aae0","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*vWS5LJ6fG1DzOJcJ"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_138":{"__typename":"Paragraph","id":"cca28cfffdba_138","name":"0931","type":"H4","href":null,"layout":null,"metadata":null,"text":"The result","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_139":{"__typename":"Paragraph","id":"cca28cfffdba_139","name":"024a","type":"P","href":null,"layout":null,"metadata":null,"text":"The diagram above displays readings from sensor ID 4, from 2023–05–29 at 06:07:48 to 2023–05–29 at 06:40:00. The graph shows data in five-minute intervals, where we observe consistent readings from 06:10 to 06:15, followed by a spike from 06:15 to 06:20. The readings stabilize again, with two more spikes occurring at 06:30 and 06:34, before returning to normal. These spikes suggest the sensor experienced three distinct unwanted events during this period.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_140":{"__typename":"Paragraph","id":"cca28cfffdba_140","name":"f5fd","type":"H4","href":null,"layout":null,"metadata":null,"text":"Case 3: Plotting average sensor value","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_141":{"__typename":"Paragraph","id":"cca28cfffdba_141","name":"243d","type":"P","href":null,"layout":null,"metadata":null,"text":"Getting average data or value for a sensor helps to understand its overall performance or behavior over the course of the day or months. It is particularly useful for monitoring sensors that are supposed to maintain a certain average range, allowing you to assess the general trend of the data.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_142":{"__typename":"Paragraph","id":"cca28cfffdba_142","name":"540c","type":"H4","href":null,"layout":null,"metadata":null,"text":"Query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_143":{"__typename":"Paragraph","id":"cca28cfffdba_143","name":"2c52","type":"PRE","href":null,"layout":null,"metadata":null,"text":"SELECT \n    sensor_id, \n    AVG(value) AS avg_value\nFROM metrics\nWHERE ts \u003E= $__timeFrom()\n    AND ts \u003C= $__timeTo()\n    AND sensor_id = $sensor_id\nGROUP BY sensor_id;","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"vbnet"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_144":{"__typename":"Paragraph","id":"cca28cfffdba_144","name":"8a10","type":"H4","href":null,"layout":null,"metadata":null,"text":"Understanding the query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_145":{"__typename":"Paragraph","id":"cca28cfffdba_145","name":"2d3b","type":"ULI","href":null,"layout":null,"metadata":null,"text":"This query calculates the average (AVG) value of the value column for the give sensor_id within the time range defined by Grafana's $__timeFrom() and $__timeTo() variables.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":53,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":79,"end":88,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":132,"end":145,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":150,"end":161,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_146":{"__typename":"Paragraph","id":"cca28cfffdba_146","name":"e299","type":"ULI","href":null,"layout":null,"metadata":null,"text":"It groups the results by sensor_id and retrieves the average reading within the selected time range for that specific sensor.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":25,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*zyxpRsOral0ZhiiO":{"__typename":"ImageMetadata","id":"0*zyxpRsOral0ZhiiO","originalHeight":631,"originalWidth":1246,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_147":{"__typename":"Paragraph","id":"cca28cfffdba_147","name":"af09","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*zyxpRsOral0ZhiiO"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_148":{"__typename":"Paragraph","id":"cca28cfffdba_148","name":"f08e","type":"H4","href":null,"layout":null,"metadata":null,"text":"The result","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_149":{"__typename":"Paragraph","id":"cca28cfffdba_149","name":"8ca0","type":"P","href":null,"layout":null,"metadata":null,"text":"The diagram above displays the average reading for sensor ID 23 within the selected timeframe, from 2023–05–29 06:10:00 to 2023–05–29 06:40:00.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_150":{"__typename":"Paragraph","id":"cca28cfffdba_150","name":"a6ea","type":"H4","href":null,"layout":null,"metadata":null,"text":"Case 4: Plotting and comparing readings from two sensors","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_151":{"__typename":"Paragraph","id":"cca28cfffdba_151","name":"efe3","type":"P","href":null,"layout":null,"metadata":null,"text":"By comparing the sensor readings side by side, you can identify correlations, trends, or issues that may exist between the two sensors’ data, which can be crucial for diagnosing problems or ensuring data consistency across devices.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_152":{"__typename":"Paragraph","id":"cca28cfffdba_152","name":"bf1b","type":"H4","href":null,"layout":null,"metadata":null,"text":"Query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_153":{"__typename":"Paragraph","id":"cca28cfffdba_153","name":"461f","type":"PRE","href":null,"layout":null,"metadata":null,"text":"SELECT \n    a.ts AS time,\n    a.value AS sensor_a_value,\n    b.value AS sensor_b_value\nFROM metrics a\nJOIN metrics b \n    ON a.ts = b.ts\nWHERE \n    a.sensor_id = $sensor_a \n    AND b.sensor_id = $sensor_b \n    AND a.ts \u003E= $__timeFrom()\n    AND a.ts \u003C= $__timeTo()\nORDER BY \n    a.ts;","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"vbnet"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_154":{"__typename":"Paragraph","id":"cca28cfffdba_154","name":"0548","type":"H4","href":null,"layout":null,"metadata":null,"text":"Understanding the query","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_155":{"__typename":"Paragraph","id":"cca28cfffdba_155","name":"71a6","type":"ULI","href":null,"layout":null,"metadata":null,"text":"First, we select the timestamp (a.ts) as time, along with the values from sensor_a and sensor_b. The join allows comparing data from two different sensors in the same timestamp (a.ts = b.ts).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":74,"end":82,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":87,"end":95,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_156":{"__typename":"Paragraph","id":"cca28cfffdba_156","name":"87ff","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Finally, we filter data for the selected sensor_a and sensor_b IDs using Grafana variables, limit the data to the specified time range and order the results by timestamp to show the values chronologically.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":41,"end":49,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":54,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_157":{"__typename":"Paragraph","id":"cca28cfffdba_157","name":"57aa","type":"P","href":null,"layout":null,"metadata":null,"text":"✨ Note: A new dashboard was created for this query, and we also created two custom variables to compare sensor A with sensor B.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":2,"end":6,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*-LPpRwMssCdC7CYl":{"__typename":"ImageMetadata","id":"0*-LPpRwMssCdC7CYl","originalHeight":633,"originalWidth":1246,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_158":{"__typename":"Paragraph","id":"cca28cfffdba_158","name":"d43c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*-LPpRwMssCdC7CYl"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_159":{"__typename":"Paragraph","id":"cca28cfffdba_159","name":"8af2","type":"H4","href":null,"layout":null,"metadata":null,"text":"The result","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_160":{"__typename":"Paragraph","id":"cca28cfffdba_160","name":"c8b8","type":"P","href":null,"layout":null,"metadata":null,"text":"The diagram above compares two sensors, sensor ID 1 and sensor ID 11, within the specified time interval from 2023–05–29 06:00:00 to 2023–05–29 07:30:00. The graph illustrates value variations for both sensors in five-minute intervals. From the data, it is evident that sensor 1 maintains consistent and steady readings, while sensor 11 exhibits a few spikes during the same timeframe. These spikes indicate that sensor 11 may require further attention or investigation.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_161":{"__typename":"Paragraph","id":"cca28cfffdba_161","name":"c0a4","type":"H3","href":null,"layout":null,"metadata":null,"text":"Final Dashboard Look","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_162":{"__typename":"Paragraph","id":"cca28cfffdba_162","name":"7465","type":"P","href":null,"layout":null,"metadata":null,"text":"Here is the final look of the dashboard:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*keK4JnV2b9qw1jVm":{"__typename":"ImageMetadata","id":"0*keK4JnV2b9qw1jVm","originalHeight":471,"originalWidth":1246,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_163":{"__typename":"Paragraph","id":"cca28cfffdba_163","name":"628e","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*keK4JnV2b9qw1jVm"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_164":{"__typename":"Paragraph","id":"cca28cfffdba_164","name":"50f6","type":"P","href":null,"layout":null,"metadata":null,"text":"A separate dashboard to compare sensors:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*SEEi9mGwXBSRELNN":{"__typename":"ImageMetadata","id":"0*SEEi9mGwXBSRELNN","originalHeight":285,"originalWidth":1245,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cca28cfffdba_165":{"__typename":"Paragraph","id":"cca28cfffdba_165","name":"990c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*SEEi9mGwXBSRELNN"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_166":{"__typename":"Paragraph","id":"cca28cfffdba_166","name":"2eae","type":"P","href":null,"layout":null,"metadata":null,"text":"The final design of the dashboard ensures all critical information is available in one place. This centralization means you do not have to go to different sections or tools to find the stats you need. With everything neatly organized, users can easily monitor key metrics, spot trends, and make quick decisions, making this PostgreSQL-based IoT pipeline fueled by Kafka and Grafana an ideal solution for predictive maintenance and alerting. Real-time analytics are easily available to inform timely insights and prompt quick actions.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_167":{"__typename":"Paragraph","id":"cca28cfffdba_167","name":"f78d","type":"P","href":null,"layout":null,"metadata":null,"text":"While common in a number of industries, these use cases present different challenges compared to general-purpose analytics.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_168":{"__typename":"Paragraph","id":"cca28cfffdba_168","name":"f315","type":"P","href":null,"layout":null,"metadata":null,"text":"Unlike more general analytics use cases, where you can wait for the data and perform batch inserts, real-time analytics require high ingestion speed and the ability to make that data available immediately for querying and analysis.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_169":{"__typename":"Paragraph","id":"cca28cfffdba_169","name":"7889","type":"P","href":null,"layout":null,"metadata":null,"text":"TimescaleDB excels in both thanks to its hybrid-row columnar storage engine. It can ingest and store data in the most efficient format, enabling you to query it transparently across the rowstore and column store. This transition happens automatically under the hood and without overhead.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":41,"end":75,"href":"https:\u002F\u002Fwww.timescale.com\u002Fblog\u002Fhypercore-a-hybrid-row-storage-engine-for-real-time-analytics\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_170":{"__typename":"Paragraph","id":"cca28cfffdba_170","name":"817e","type":"H3","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_171":{"__typename":"Paragraph","id":"cca28cfffdba_171","name":"e049","type":"P","href":null,"layout":null,"metadata":null,"text":"In this blog, we have looked at how easily we can connect Kafka and Kafka Connect to stream IoT data into a PostgreSQL-based TimescaleDB instance and power a real-time analytics dashboard. TimescaleDB is great for handling large amounts of IoT data, thanks to its strong time-series features, ensuring it’s both scalable and efficient.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":223,"end":248,"href":"https:\u002F\u002Fwww.timescale.com\u002Flearn\u002Fpostgres-for-iot","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_172":{"__typename":"Paragraph","id":"cca28cfffdba_172","name":"8fad","type":"P","href":null,"layout":null,"metadata":null,"text":"Once your pipeline is running smoothly with Timescale and Kafka, the next thing we should focus on is monitoring, so Grafana is a great tool for visualizing your data in real time, helping you keep track of performance and make better, data-driven decisions.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_173":{"__typename":"Paragraph","id":"cca28cfffdba_173","name":"195a","type":"P","href":null,"layout":null,"metadata":null,"text":"If your use case demands real-time insights, like Trebellar’s, try TimescaleDB. You can self-host it or try our managed PostgreSQL option, Timescale Cloud, for free. This will allow you to focus on your app — not your database.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":50,"end":61,"href":"https:\u002F\u002Fwww.timescale.com\u002Fblog\u002Fhow-trebellar-halved-storage-costs-while-unlocking-real-time-insights-with-postgresql\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":88,"end":100,"href":"https:\u002F\u002Fdocs.timescale.com\u002Fself-hosted\u002Flatest\u002Finstall\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":104,"end":154,"href":"https:\u002F\u002Fconsole.cloud.timescale.com\u002Fsignup","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cca28cfffdba_174":{"__typename":"Paragraph","id":"cca28cfffdba_174","name":"3c67","type":"P","href":null,"layout":null,"metadata":null,"text":"This article was written by Semab Tariq and originally published here on the Timescale official blog on December 30, 2024.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":65,"end":69,"href":"https:\u002F\u002Fwww.timescale.com\u002Fblog\u002Fhow-to-build-an-iot-pipeline-for-real-time-analytics-in-postgresql","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":40,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":41,"end":122,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"CollectionViewerEdge:collectionId:7fa310224bc5-viewerId:lo_d9539ba89d0a":{"__typename":"CollectionViewerEdge","id":"collectionId:7fa310224bc5-viewerId:lo_d9539ba89d0a","isEditor":false,"isMuting":false},"UserViewerEdge:userId:c84b80175451-viewerId:lo_d9539ba89d0a":{"__typename":"UserViewerEdge","id":"userId:c84b80175451-viewerId:lo_d9539ba89d0a","isMuting":false},"ImageMetadata:1*gOEnwizcgWX1HSdbJslc9A.png":{"__typename":"ImageMetadata","id":"1*gOEnwizcgWX1HSdbJslc9A.png","originalWidth":1919,"originalHeight":703},"PostViewerEdge:postId:c329d5fc02d9-viewerId:lo_d9539ba89d0a":{"__typename":"PostViewerEdge","shouldIndexPostForExternalSearch":true,"id":"postId:c329d5fc02d9-viewerId:lo_d9539ba89d0a"},"Tag:iot":{"__typename":"Tag","id":"iot","displayTitle":"IoT","normalizedTagSlug":"iot"},"Tag:postgresql":{"__typename":"Tag","id":"postgresql","displayTitle":"Postgresql","normalizedTagSlug":"postgresql"},"Tag:real-time-analytics":{"__typename":"Tag","id":"real-time-analytics","displayTitle":"Real Time Analytics","normalizedTagSlug":"real-time-analytics"},"Tag:technology":{"__typename":"Tag","id":"technology","displayTitle":"Technology","normalizedTagSlug":"technology"},"Tag:programming":{"__typename":"Tag","id":"programming","displayTitle":"Programming","normalizedTagSlug":"programming"}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"MISS"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.48bdf878.js"></script><script src="https://cdn-client.medium.com/lite/static/js/9865.1496d74a.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.872afbe3.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.d9108df7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.ff22a7a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9120.5df29668.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5049.d1ead72d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4810.6318add7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6618.db187378.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2707.a4e221ac.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9977.933c1c9a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8599.73cb8339.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5250.9f9e01d2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9898.d9e26c5e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2648.26563adf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8393.826a25fb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4863.28ab43f6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6589.247b1d02.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5642.0f82ef97.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6546.cd03f950.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6834.8aa8d357.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2420.2a5e2d95.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/839.1c286b32.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7975.60bcefe8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2106.0350840b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7394.73a57633.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5794.9e8ff5dd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8204.7749bc66.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4391.59acaed3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.2dc8b1c6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8414.6565ad5f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3974.8d3e0217.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2527.d5e0c2f5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostResponsesContent.7ad7ca92.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/responses.editor.5a11f4da.chunk.js"></script><script>window.main();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'8fb9b91c4e466aee',t:'MTczNTgxMDE1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body></html>