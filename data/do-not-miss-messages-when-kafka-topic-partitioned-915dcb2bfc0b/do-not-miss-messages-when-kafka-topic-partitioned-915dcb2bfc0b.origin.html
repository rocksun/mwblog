<!doctype html><html lang="en"><head><title data-rh="true">Do not miss messages when Kafka Topic Partitioned | by Emre Savcı | Dec, 2024 | ITNEXT</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2024-12-19T21:37:59.718Z"/><meta data-rh="true" name="title" content="Do not miss messages when Kafka Topic Partitioned | by Emre Savcı | Dec, 2024 | ITNEXT"/><meta data-rh="true" property="og:title" content="Do not miss messages when Kafka Topic Partitioned"/><meta data-rh="true" property="al:android:url" content="medium://p/915dcb2bfc0b"/><meta data-rh="true" property="al:ios:url" content="medium://p/915dcb2bfc0b"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="In the era of event driven communication, one of the de-facto standard message brokers is Kafka, which is a message broker that has topic and consumer group concept. In Kafka, a topic can have many…"/><meta data-rh="true" property="og:description" content="A quick introduction to balance strategies. Consume events in the newly added partitions using Golang IBM/ sarama on the Kafka topics."/><meta data-rh="true" property="og:url" content="https://itnext.io/do-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b"/><meta data-rh="true" property="al:web:url" content="https://itnext.io/do-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/resize:fit:1200/0*0ZFcVifygpfnD7Wv.png"/><meta data-rh="true" property="article:author" content="https://mstryoda.medium.com"/><meta data-rh="true" name="author" content="Emre Savcı"/><meta data-rh="true" name="robots" content="index,noarchive,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" property="twitter:title" content="Do not miss messages when Kafka Topic Partitioned"/><meta data-rh="true" name="twitter:site" content="@itnext_io"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/915dcb2bfc0b"/><meta data-rh="true" property="twitter:description" content="A quick introduction to balance strategies. Consume events in the newly added partitions using Golang IBM/ sarama on the Kafka topics."/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/resize:fit:1200/0*0ZFcVifygpfnD7Wv.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="7 min read"/><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/resize:fill:256:256/1*SiXeRxgOt0pAYlYhwZIu3g.png"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:304:304/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:240:240/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:152:152/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:120:120/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="mask-icon" href="https://miro.medium.com/v2/resize:fill:1000:1000/7*GAOKVe--MXbEJmV9230oOQ.png" color="#171717"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://mstryoda.medium.com"/><link data-rh="true" rel="canonical" href="https://itnext.io/do-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/915dcb2bfc0b"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:1200\u002F0*0ZFcVifygpfnD7Wv.png"],"url":"https:\u002F\u002Fitnext.io\u002Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b","dateCreated":"2024-12-16T07:32:21.698Z","datePublished":"2024-12-16T07:32:21.698Z","dateModified":"2024-12-19T21:37:59.782Z","headline":"Do not miss messages when Kafka Topic Partitioned - ITNEXT","name":"Do not miss messages when Kafka Topic Partitioned - ITNEXT","description":"In the era of event driven communication, one of the de-facto standard message brokers is Kafka, which is a message broker that has topic and consumer group concept. In Kafka, a topic can have many…","identifier":"915dcb2bfc0b","author":{"@type":"Person","name":"Emre Savcı","url":"https:\u002F\u002Fmstryoda.medium.com"},"creator":["Emre Savcı"],"publisher":{"@type":"Organization","name":"ITNEXT","url":"itnext.io","logo":{"@type":"ImageObject","width":315,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:630\u002F1*jWhTrIoYwTUdKuVXycqAaw.png"}},"mainEntityOfPage":"https:\u002F\u002Fitnext.io\u002Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b"}</script><style type="text/css" data-fela-rehydration="563" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="563" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:sticky}.n{top:0}.o{z-index:500}.p{padding:0 24px}.q{align-items:center}.r{border-bottom:solid 1px #F2F2F2}.y{height:41px}.z{line-height:20px}.ab{display:flex}.ac{height:57px}.ae{flex:1 0 auto}.af{color:inherit}.ag{fill:inherit}.ah{font-size:inherit}.ai{border:inherit}.aj{font-family:inherit}.ak{letter-spacing:inherit}.al{font-weight:inherit}.am{padding:0}.an{margin:0}.ao{cursor:pointer}.ap:disabled{cursor:not-allowed}.aq:disabled{color:#6B6B6B}.ar:disabled{fill:#6B6B6B}.au{width:auto}.av path{fill:#242424}.aw{height:25px}.ax{margin-left:16px}.ay{border:none}.az{border-radius:20px}.ba{width:240px}.bb{background:#F9F9F9}.bc path{fill:#6B6B6B}.be{outline:none}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{width:100%}.bi{padding:10px 20px 10px 0}.bj{background-color:transparent}.bk{color:#242424}.bl::placeholder{color:#6B6B6B}.bm{display:inline-block}.bn{margin-left:12px}.bo{margin-right:12px}.bp{border-radius:4px}.bq{margin-left:24px}.br{height:24px}.bx{background-color:#F9F9F9}.by{border-radius:50%}.bz{height:32px}.ca{width:32px}.cb{justify-content:center}.ch{max-width:680px}.ci{min-width:0}.cj{animation:k1 1.2s ease-in-out infinite}.ck{height:100vh}.cl{margin-bottom:16px}.cm{margin-top:48px}.cn{align-items:flex-start}.co{flex-direction:column}.cp{justify-content:space-between}.cq{margin-bottom:24px}.cw{width:80%}.cx{background-color:#F2F2F2}.dd{height:44px}.de{width:44px}.df{margin:auto 0}.dg{margin-bottom:4px}.dh{height:16px}.di{width:120px}.dj{width:80px}.dp{margin-bottom:8px}.dq{width:96%}.dr{width:98%}.ds{width:81%}.dt{margin-left:8px}.du{color:#6B6B6B}.dv{font-size:13px}.dw{height:100%}.ep{color:#FFFFFF}.eq{fill:#FFFFFF}.er{background:rgba(63, 141, 206, 1)}.es{border-color:rgba(63, 141, 206, 1)}.ew:disabled{cursor:inherit !important}.ex:disabled{opacity:0.3}.ey:disabled:hover{background:rgba(63, 141, 206, 1)}.ez:disabled:hover{border-color:rgba(63, 141, 206, 1)}.fa{border-radius:99em}.fb{border-width:1px}.fc{border-style:solid}.fd{box-sizing:border-box}.fe{text-decoration:none}.ff{text-align:center}.fi{margin-right:32px}.fj{position:relative}.fk{fill:#6B6B6B}.fn{background:transparent}.fo svg{margin-left:4px}.fp svg{fill:#6B6B6B}.fr{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fs{position:absolute}.fz{margin:0 24px}.gd{background:rgba(255, 255, 255, 1)}.ge{border:1px solid #F2F2F2}.gf{box-shadow:0 1px 4px #F2F2F2}.gg{max-height:100vh}.gh{overflow-y:auto}.gi{left:0}.gj{top:calc(100vh + 100px)}.gk{bottom:calc(100vh + 100px)}.gl{width:10px}.gm{pointer-events:none}.gn{word-break:break-word}.go{word-wrap:break-word}.gp:after{display:block}.gq:after{content:""}.gr:after{clear:both}.gs{line-height:1.23}.gt{letter-spacing:0}.gu{font-style:normal}.gv{font-weight:700}.ia{align-items:baseline}.ib{width:48px}.ic{height:48px}.id{border:2px solid rgba(255, 255, 255, 1)}.ie{z-index:0}.if{box-shadow:none}.ig{border:1px solid rgba(0, 0, 0, 0.05)}.ih{margin-left:-12px}.ii{width:28px}.ij{height:28px}.ik{z-index:1}.il{width:24px}.im{margin-bottom:2px}.in{flex-wrap:nowrap}.io{font-size:16px}.ip{line-height:24px}.ir{margin:0 8px}.is{display:inline}.it{color:rgba(63, 141, 206, 1)}.iu{fill:rgba(63, 141, 206, 1)}.ix{flex:0 0 auto}.ja{flex-wrap:wrap}.jd{white-space:pre-wrap}.je{margin-right:4px}.jf{overflow:hidden}.jg{max-height:20px}.jh{text-overflow:ellipsis}.ji{display:-webkit-box}.jj{-webkit-line-clamp:1}.jk{-webkit-box-orient:vertical}.jl{word-break:break-all}.jn{padding-left:8px}.jo{padding-right:8px}.kp> *{flex-shrink:0}.kq{overflow-x:scroll}.kr::-webkit-scrollbar{display:none}.ks{scrollbar-width:none}.kt{-ms-overflow-style:none}.ku{width:74px}.kv{flex-direction:row}.kw{z-index:2}.kz{-webkit-user-select:none}.la{border:0}.lb{fill:rgba(117, 117, 117, 1)}.le{outline:0}.lf{user-select:none}.lg> svg{pointer-events:none}.lp{cursor:progress}.lq{opacity:1}.lr{padding:4px 0}.lu{margin-top:0px}.lv{width:16px}.lx{display:inline-flex}.md{max-width:100%}.me{padding:8px 2px}.mf svg{color:#6B6B6B}.mw{line-height:1.12}.mx{letter-spacing:-0.022em}.my{font-weight:600}.nt{margin-bottom:-0.28em}.nu{line-height:1.58}.nv{letter-spacing:-0.004em}.nw{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.or{margin-bottom:-0.46em}.ox{text-decoration:underline}.oy{margin-left:auto}.oz{margin-right:auto}.pa{max-width:1400px}.pg{clear:both}.pi{cursor:zoom-in}.pj{z-index:auto}.pl{height:auto}.pm{margin-top:10px}.pn{max-width:728px}.pq{margin-top:32px}.pr{margin-bottom:14px}.ps{padding-top:24px}.pt{padding-bottom:10px}.pu{background-color:#000000}.pv{height:3px}.pw{width:3px}.px{margin-right:20px}.qd{overflow-x:auto}.qe{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.qf{padding:32px}.qg{border:1px solid #E5E5E5}.qh{line-height:1.4}.qi{margin-top:-0.2em}.qj{margin-bottom:-0.2em}.qk{white-space:pre}.ql{min-width:fit-content}.qm{line-height:1.18}.ra{margin-bottom:-0.31em}.rb{margin-bottom:26px}.rc{margin-top:6px}.rd{margin-top:8px}.re{margin-right:8px}.rf{padding:8px 16px}.rg{border-radius:100px}.rh{transition:background 300ms ease}.rj{white-space:nowrap}.rk{border-top:none}.rl{height:52px}.rm{max-height:52px}.rn{box-sizing:content-box}.ro{position:static}.rq{max-width:155px}.sb{height:0px}.sc{margin-bottom:40px}.sd{margin-bottom:48px}.sr{border-radius:2px}.st{height:64px}.su{width:64px}.sv{align-self:flex-end}.sw{color:rgba(255, 255, 255, 1)}.sx{fill:rgba(255, 255, 255, 1)}.sy{background:rgba(25, 25, 25, 1)}.sz{border-color:rgba(25, 25, 25, 1)}.tc:disabled{opacity:0.1}.td:disabled:hover{background:rgba(25, 25, 25, 1)}.te:disabled:hover{border-color:rgba(25, 25, 25, 1)}.tf{flex:1 1 auto}.tl{padding-right:4px}.tm{font-weight:500}.tt{margin-top:16px}.tu{margin-bottom:54px}.ua{gap:18px}.ub{fill:rgba(61, 61, 61, 1)}.un{border-bottom:solid 1px #E5E5E5}.uo{margin-top:72px}.up{padding:24px 0}.uq{margin-bottom:0px}.ur{margin-right:16px}.as:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.at:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.et:hover{background:rgba(61, 121, 173, 1)}.eu:hover{border-color:rgba(61, 121, 173, 1)}.ev:hover{cursor:pointer}.fl:hover{color:#242424}.fm:hover{fill:#242424}.fq:hover svg{fill:#242424}.ft:hover{background-color:rgba(0, 0, 0, 0.1)}.iq:hover{text-decoration:underline}.iv:hover:not(:disabled){color:rgba(61, 121, 173, 1)}.iw:hover:not(:disabled){fill:rgba(61, 121, 173, 1)}.ld:hover{fill:rgba(8, 8, 8, 1)}.ls:hover{fill:#000000}.lt:hover p{color:#000000}.lw:hover{color:#000000}.mg:hover svg{color:#000000}.ri:hover{background-color:#F2F2F2}.ss:hover{background-color:none}.ta:hover{background:#000000}.tb:hover{border-color:#242424}.uc:hover{fill:rgba(25, 25, 25, 1)}.bd:focus-within path{fill:#242424}.lc:focus{fill:rgba(8, 8, 8, 1)}.mh:focus svg{color:#000000}.pk:focus{transform:scale(1.01)}.lh:active{border-style:none}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.bw{width:64px}.cg{margin:0 64px}.cv{height:48px}.dc{margin-bottom:52px}.do{margin-bottom:48px}.ef{font-size:14px}.eg{line-height:20px}.em{font-size:13px}.eo{padding:5px 12px}.fh{display:flex}.fy{margin-bottom:68px}.gc{max-width:680px}.hq{font-size:42px}.hr{margin-top:1.19em}.hs{margin-bottom:32px}.ht{line-height:52px}.hu{letter-spacing:-0.011em}.hz{align-items:center}.kb{border-top:solid 1px #F2F2F2}.kc{border-bottom:solid 1px #F2F2F2}.kd{margin:32px 0 0}.ke{padding:3px 8px}.kn> *{margin-right:24px}.ko> :last-child{margin-right:0}.lo{margin-top:0px}.mc{margin:0}.np{font-size:24px}.nq{margin-top:1.95em}.nr{line-height:30px}.ns{letter-spacing:-0.016em}.on{font-size:20px}.oo{margin-top:0.94em}.op{line-height:32px}.oq{letter-spacing:-0.003em}.ow{margin-top:2.14em}.pf{margin-top:56px}.qc{margin-top:1.25em}.qx{margin-top:1.72em}.qy{line-height:24px}.qz{letter-spacing:0}.rv{display:inline-block}.sa{margin-bottom:104px}.se{flex-direction:row}.sh{margin-bottom:0}.si{margin-right:20px}.tg{max-width:500px}.tz{margin-bottom:72px}.uh{margin:40px 0 0}.um{padding-top:72px}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.ln{margin-top:0px}.po{margin-left:auto}.pp{text-align:center}.ru{display:inline-block}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.lm{margin-top:0px}.rt{display:inline-block}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.lk{margin-top:0px}.ll{margin-right:0px}.rs{display:inline-block}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.s{display:flex}.t{justify-content:space-between}.bs{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dx{font-size:13px}.dy{line-height:20px}.eh{padding:0px 8px 1px}.fu{margin-bottom:4px}.gw{font-size:32px}.gx{margin-top:1.01em}.gy{margin-bottom:24px}.gz{line-height:38px}.ha{letter-spacing:-0.014em}.hv{align-items:flex-start}.iy{flex-direction:column}.jb{margin-bottom:2px}.jp{margin:24px -24px 0}.jq{padding:0}.kf> *{margin-right:8px}.kg> :last-child{margin-right:24px}.kx{margin-left:0px}.li{margin-top:0px}.lj{margin-right:0px}.ly{margin:0}.mi{border:1px solid #F2F2F2}.mj{border-radius:99em}.mk{padding:0px 16px 0px 12px}.ml{height:38px}.mm{align-items:center}.mo svg{margin-right:8px}.mz{font-size:20px}.na{margin-top:1.2em}.nb{line-height:24px}.nc{letter-spacing:0}.nx{font-size:18px}.ny{margin-top:0.67em}.nz{line-height:28px}.oa{letter-spacing:-0.003em}.os{margin-top:1.56em}.pb{margin-top:40px}.py{margin-top:0.93em}.qn{font-size:16px}.qo{margin-top:1.23em}.rr{display:inline-block}.rw{margin-bottom:96px}.sp{margin-bottom:20px}.sq{margin-right:0}.tk{max-width:100%}.tn{font-size:24px}.to{line-height:30px}.tp{letter-spacing:-0.016em}.tv{margin-bottom:64px}.ud{margin:32px 0 0}.ui{padding-top:48px}.mn:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.bv{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ed{font-size:14px}.ee{line-height:20px}.ek{font-size:13px}.el{padding:5px 12px}.fg{display:flex}.fx{margin-bottom:68px}.gb{max-width:680px}.hl{font-size:42px}.hm{margin-top:1.19em}.hn{margin-bottom:32px}.ho{line-height:52px}.hp{letter-spacing:-0.011em}.hy{align-items:center}.jx{border-top:solid 1px #F2F2F2}.jy{border-bottom:solid 1px #F2F2F2}.jz{margin:32px 0 0}.ka{padding:3px 8px}.kl> *{margin-right:24px}.km> :last-child{margin-right:0}.mb{margin:0}.nl{font-size:24px}.nm{margin-top:1.95em}.nn{line-height:30px}.no{letter-spacing:-0.016em}.oj{font-size:20px}.ok{margin-top:0.94em}.ol{line-height:32px}.om{letter-spacing:-0.003em}.ov{margin-top:2.14em}.pe{margin-top:56px}.qb{margin-top:1.25em}.qu{margin-top:1.72em}.qv{line-height:24px}.qw{letter-spacing:0}.rz{margin-bottom:104px}.sf{flex-direction:row}.sj{margin-bottom:0}.sk{margin-right:20px}.th{max-width:500px}.ty{margin-bottom:72px}.ug{margin:40px 0 0}.ul{padding-top:72px}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.w{display:flex}.x{justify-content:space-between}.bu{width:64px}.ce{margin:0 48px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.eb{font-size:13px}.ec{line-height:20px}.ej{padding:0px 8px 1px}.fw{margin-bottom:68px}.ga{max-width:680px}.hg{font-size:42px}.hh{margin-top:1.19em}.hi{margin-bottom:32px}.hj{line-height:52px}.hk{letter-spacing:-0.011em}.hx{align-items:center}.jt{border-top:solid 1px #F2F2F2}.ju{border-bottom:solid 1px #F2F2F2}.jv{margin:32px 0 0}.jw{padding:3px 8px}.kj> *{margin-right:24px}.kk> :last-child{margin-right:0}.ma{margin:0}.nh{font-size:24px}.ni{margin-top:1.95em}.nj{line-height:30px}.nk{letter-spacing:-0.016em}.of{font-size:20px}.og{margin-top:0.94em}.oh{line-height:32px}.oi{letter-spacing:-0.003em}.ou{margin-top:2.14em}.pd{margin-top:56px}.qa{margin-top:1.25em}.qr{margin-top:1.72em}.qs{line-height:24px}.qt{letter-spacing:0}.ry{margin-bottom:104px}.sg{flex-direction:row}.sl{margin-bottom:0}.sm{margin-right:20px}.ti{max-width:500px}.tx{margin-bottom:72px}.uf{margin:40px 0 0}.uk{padding-top:72px}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.u{display:flex}.v{justify-content:space-between}.bt{width:24px}.cd{margin:0 24px}.cs{height:40px}.cz{margin-bottom:44px}.dl{margin-bottom:32px}.dz{font-size:13px}.ea{line-height:20px}.ei{padding:0px 8px 1px}.fv{margin-bottom:4px}.hb{font-size:32px}.hc{margin-top:1.01em}.hd{margin-bottom:24px}.he{line-height:38px}.hf{letter-spacing:-0.014em}.hw{align-items:flex-start}.iz{flex-direction:column}.jc{margin-bottom:2px}.jr{margin:24px 0 0}.js{padding:0}.kh> *{margin-right:8px}.ki> :last-child{margin-right:8px}.ky{margin-left:0px}.lz{margin:0}.mp{border:1px solid #F2F2F2}.mq{border-radius:99em}.mr{padding:0px 16px 0px 12px}.ms{height:38px}.mt{align-items:center}.mv svg{margin-right:8px}.nd{font-size:20px}.ne{margin-top:1.2em}.nf{line-height:24px}.ng{letter-spacing:0}.ob{font-size:18px}.oc{margin-top:0.67em}.od{line-height:28px}.oe{letter-spacing:-0.003em}.ot{margin-top:1.56em}.pc{margin-top:40px}.pz{margin-top:0.93em}.qp{font-size:16px}.qq{margin-top:1.23em}.rx{margin-bottom:96px}.sn{margin-bottom:20px}.so{margin-right:0}.tj{max-width:100%}.tq{font-size:24px}.tr{line-height:30px}.ts{letter-spacing:-0.016em}.tw{margin-bottom:64px}.ue{margin:32px 0 0}.uj{padding-top:48px}.mu:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="print">.rp{display:none}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.jm{max-height:none}</style><style type="text/css" data-fela-rehydration="563" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.ph{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="l m n o c"><div class="p q r s t u v w x i d y z"><a class="du ag dv bf ak b am an ao ap aq ar as at s u w i d q dw z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F915dcb2bfc0b&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderCollection&amp;source=---top_nav_layout_nav----------------------------------" rel="noopener follow">Open in app<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 10 10" class="dt"><path fill="currentColor" d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z"></path></svg></a><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign up</a></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div class="p q r ab ac"><div class="ab q ae"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab" aria-label="Homepage" data-testid="headerMediumLogo" href="https://medium.com/?source=---top_nav_layout_nav----------------------------------" rel="noopener follow"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" viewBox="0 0 719 160" class="au av aw"><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></a><div class="ax h"><div class="ab ay az ba bb q bc bd"><div class="bm" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bn bo ab"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="ay be bf bg z bh bi bj bk bl" placeholder="Search" value=""/></div></div></div><div class="h k w fg fh"><div class="fi ab"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerWriteButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---top_nav_layout_nav-----------------------new_post_topnav-----------" rel="noopener follow"><div class="bf b bg z du fj fk ab q fl fm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Write"><path fill="currentColor" d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z"></path><path stroke="currentColor" d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2"></path></svg><div class="dt l">Write</div></div></a></span></div></div><div class="k j i d"><div class="fi ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSearchButton" href="https://medium.com/search?source=---top_nav_layout_nav----------------------------------" rel="noopener follow"><div class="bf b bg z du fj fk ab q fl fm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Search"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div></a></div></div><div class="fi h k j"><div class="ab q"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign up</a></span></p><div class="ax l"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;source=post_page---top_nav_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div class="l" aria-hidden="false"><button class="ay fn am ab q ao fo fp fq" aria-label="user options menu" data-testid="headerUserIcon"><div class="l fj"><img alt="" class="l fd by bz ca cx" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"/><div class="fr by l bz ca fs n ay ft"></div></div></button></div></div></div><div class="l"><div class="fu fv fw fx fy l"><div class="ab cb"><div class="ci bh fz ga gb gc"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="fs gi gj gk gl gm"></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><div><h1 id="94a1" class="pw-post-title gs gt gu bf gv gw gx gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht hu bk" data-testid="storyTitle">Do not miss messages when Kafka Topic Partitioned</h1><div><div class="speechify-ignore ab cp"><div class="speechify-ignore bh l"><div class="hv hw hx hy hz ab"><div><div class="ab ia"><div><div class="bm" aria-hidden="false"><a href="https://mstryoda.medium.com/?source=post_page---byline--915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="l ib ic by id ie"><div class="l fj"><img alt="Emre Savcı" class="l fd by dd de cx" src="https://miro.medium.com/v2/resize:fill:88:88/1*FT9XsHGlbCsKvWgeX8lE4A.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"/><div class="if by l dd de fs n ig ft"></div></div></div></a></div></div><div class="ih ab fj"><div><div class="bm" aria-hidden="false"><a href="https://itnext.io/?source=post_page---byline--915dcb2bfc0b--------------------------------" rel="noopener  ugc nofollow"><div class="l ii ij by id ik"><div class="l fj"><img alt="ITNEXT" class="l fd by br il cx" src="https://miro.medium.com/v2/resize:fill:48:48/1*yAqDFIFA5F_NXalOJKz4TA.png" width="24" height="24" loading="lazy" data-testid="publicationPhoto"/><div class="if by l br il fs n ig ft"></div></div></div></a></div></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="im ab q"><div class="ab q in"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b io ip bk"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" data-testid="authorName" href="https://mstryoda.medium.com/?source=post_page---byline--915dcb2bfc0b--------------------------------" rel="noopener follow">Emre Savcı</a></p></div></div></div><span class="ir is" aria-hidden="true"><span class="bf b bg z du">·</span></span><p class="bf b io ip du"><span><a class="it iu ah ai aj ak al am an ao ap aq ar ex iv iw" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc50c70d779e7&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;user=Emre+Savc%C4%B1&amp;userId=c50c70d779e7&amp;source=post_page-c50c70d779e7--byline--915dcb2bfc0b---------------------post_header-----------" rel="noopener follow">Follow</a></span></p></div></div></span></div></div><div class="l ix"><span class="bf b bg z du"><div class="ab cn iy iz ja"><div class="jb jc ab"><div class="bf b bg z du ab jd"><span class="je l ix">Published in</span><div><div class="l" aria-hidden="false"><a class="af ag ah ai aj ak al am an ao ap aq ar iq ab q" data-testid="publicationName" href="https://itnext.io/?source=post_page---byline--915dcb2bfc0b--------------------------------" rel="noopener  ugc nofollow"><p class="bf b bg z jf jg jh ji jj jk jl jm bk">ITNEXT</p></a></div></div></div><div class="h k"><span class="ir is" aria-hidden="true"><span class="bf b bg z du">·</span></span></div></div><span class="bf b bg z du"><div class="ab ae"><span data-testid="storyReadTime">7 min read</span><div class="jn jo l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z du">·</span></span></div>5 days ago</div></span></div></span></div></div></div><div class="ab cp jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke"><div class="h k w fg fh q"><div class="ku l"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fitnext%2F915dcb2bfc0b&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;user=Emre+Savc%C4%B1&amp;userId=c50c70d779e7&amp;source=---header_actions--915dcb2bfc0b---------------------clap_footer-----------" rel="noopener follow"><div><div class="bm" aria-hidden="false"><div class="la ao lb lc ld le am lf lg lh kz"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ao la lq lr ab q fk ls lt" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="lu"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div><div class="ab q kf kg kh ki kj kk kl km kn ko kp kq kr ks kt"><div class="lv k j i d"></div><div class="h k"><div><div class="bm" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F915dcb2bfc0b&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;source=---header_actions--915dcb2bfc0b---------------------bookmark_footer-----------" rel="noopener follow"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du lw" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="fd lx cn"><div class="l ae"><div class="ab cb"><div class="ly lz ma mb mc md ci bh"><div class="ab"><div class="bm bh" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af fk ah ai aj ak al me an ao ap ex mf mg lt mh mi mj mk ml s mm mn mo mp mq mr ms u mt mu mv"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af fk ah ai aj ak al me an ao ap ex mf mg lt mh mi mj mk ml s mm mn mo mp mq mr ms u mt mu mv"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z du">Share</p></div></button></div></div></div></div></div></div></div></div></div><h1 id="9c12" class="mw mx gu bf my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt bk">Introduction</h1><p id="c5cd" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">In the era of event driven communication, one of the de-facto standard message brokers is <strong class="nw gv">Kafka</strong>, which is a message broker that has topic and consumer group concept.</p><p id="b51c" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">In Kafka, a topic can have many partitions, hence in this way you can increase parallelism of processing messages. This enables us to scale our consumer applications to more than one instance.</p><p id="6e3d" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">While using Kafka, new partitions may be added to a topic. If you do not correctly configure, consumer may miss messages in new partitions, so it is important to do the appropriate setup.</p><p id="31b6" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">In this article, I will show you how to run a Kafka broker locally and then configure a consumer to consume messages from a topic. While consuming the topic, we will create new partitions and observe that our consumer automatically receives messages from the new partitions.</p><p id="2628" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">We will use <strong class="nw gv">Golang</strong> as our programming language and <a class="af ox" href="https://github.com/IBM/sarama" rel="noopener ugc nofollow" target="_blank"><strong class="nw gv">IBM/sarama</strong></a> as a Kafka library.</p><figure class="pb pc pd pe pf pg oy oz paragraph-image"><div role="button" tabindex="0" class="ph pi fj pj bh pk"><div class="oy oz pa"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*0ZFcVifygpfnD7Wv.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*0ZFcVifygpfnD7Wv.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*0ZFcVifygpfnD7Wv.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*0ZFcVifygpfnD7Wv.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*0ZFcVifygpfnD7Wv.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*0ZFcVifygpfnD7Wv.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0ZFcVifygpfnD7Wv.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*0ZFcVifygpfnD7Wv.png 640w, https://miro.medium.com/v2/resize:fit:720/0*0ZFcVifygpfnD7Wv.png 720w, https://miro.medium.com/v2/resize:fit:750/0*0ZFcVifygpfnD7Wv.png 750w, https://miro.medium.com/v2/resize:fit:786/0*0ZFcVifygpfnD7Wv.png 786w, https://miro.medium.com/v2/resize:fit:828/0*0ZFcVifygpfnD7Wv.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*0ZFcVifygpfnD7Wv.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*0ZFcVifygpfnD7Wv.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh md pl c" width="700" height="365" loading="lazy" role="presentation"/></picture></div></div><figcaption class="pm ff pn oy oz po pp bf b bg z du"><a class="af ox" href="https://kajalrawal.medium.com/kafka-broker-kafka-topic-consumer-and-record-flow-in-kafka-ec55104977b8" rel="noopener">https://kajalrawal.medium.com/kafka-broker-kafka-topic-consumer-and-record-flow-in-kafka-ec55104977b8</a></figcaption></figure></div></div></div><div class="ab cb pq pr ps pt" role="separator"><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><h1 id="e174" class="mw mx gu bf my mz py nb nc nd pz nf ng nh qa nj nk nl qb nn no np qc nr ns nt bk">Running Kafka in Docker</h1><p id="94bf" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">To test our consumers and produces, we will use <strong class="nw gv">Docker</strong> to quickly spin up a Kafka broker. Copy and paste the following docker compose configuration into docker-compose.yml:</p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="cfbb" class="qh mx gu qe b bg qi qj l qk ql">version: &#x27;2&#x27;<br/>services:<br/>  zookeeper-1:<br/>    image: confluentinc/cp-zookeeper:7.4.4<br/>    environment:<br/>      ZOOKEEPER_CLIENT_PORT: 2181<br/>      ZOOKEEPER_TICK_TIME: 2000<br/>    ports:<br/>      - 22181:2181<br/>  kafka-1:<br/>    image: confluentinc/cp-kafka:7.4.4<br/>    depends_on:<br/>      - zookeeper-1<br/>    ports:<br/>      - 29092:29092<br/>      - 9092:9092<br/>    environment:<br/>      KAFKA_BROKER_ID: 1<br/>      KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181,zookeeper-2:2181<br/>      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://127.0.0.1:9092,PLAINTEXT_HOST://127.0.0.1:29092<br/>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT<br/>      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT<br/>      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1</span></pre><p id="f906" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Run the containers:</p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="ffa3" class="qh mx gu qe b bg qi qj l qk ql">&gt; docker-compose up -d<br/><br/>WARN[0000] /Users/emre.savci/Desktop/my-projects/kafka/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion<br/>WARN[0000] Found orphan containers ([kafka-kafka-2-1 kafka-zookeeper-2-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up.<br/>[+] Running 2/2<br/> ✔ Container kafka-zookeeper-1-1  Started                                                                                                                                  0.3s<br/> ✔ Container kafka-kafka-1-1      Started     </span></pre></div></div></div><div class="ab cb pq pr ps pt" role="separator"><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><h1 id="8054" class="mw mx gu bf my mz py nb nc nd pz nf ng nh qa nj nk nl qb nn no np qc nr ns nt bk">Balance Strategies</h1><p id="3741" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">To handle partitions, we can choose from different balance strategies according to our use cases.</p><p id="21d7" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">I will use Sarama’s source code comments to explain balance strategies.</p><h2 id="9fb1" class="qm mx gu bf my qn qo dy nc qp qq ea ng of qr qs qt oj qu qv qw on qx qy qz ra bk">Round Robin</h2><p id="c1be" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">This one returns a round-robin balance strategy, which assigns partitions to members in alternating order.</p><p id="caab" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">For example, there are two topics (t0, t1) and two consumer (m0, m1), and each topic has three partitions (p0, p1, p2):<br/>M0: [t0p0, t0p2, t1p1]<br/>M1: [t0p1, t1p0, t1p2]</p><h2 id="6707" class="qm mx gu bf my qn qo dy nc qp qq ea ng of qr qs qt oj qu qv qw on qx qy qz ra bk">Range</h2><p id="c6c7" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">This one returns a range balance strategy, which is the default and assigns partitions as ranges to consumer group members.</p><p id="d833" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">This follows the same logic as <a class="af ox" href="https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/consumer/RangeAssignor.html" rel="noopener ugc nofollow" target="_blank">https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/consumer/RangeAssignor.html</a><br/><br/>Example with two topics T1 and T2 with six partitions each (0..5) and two members (M1, M2):</p><p id="07bd" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk"><strong class="nw gv">M1: {T1: [0, 1, 2], T2: [0, 1, 2]}<br/>M2: {T1: [3, 4, 5], T2: [3, 4, 5]}</strong></p><h2 id="1b60" class="qm mx gu bf my qn qo dy nc qp qq ea ng of qr qs qt oj qu qv qw on qx qy qz ra bk">Sticky</h2><p id="59b8" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">This one returns a sticky balance strategy, which assigns partitions to members with an attempt to preserve earlier assignments<br/>while maintain a balanced partition distribution.</p><p id="5eec" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Example with topic T with six partitions (0..5) and two members (M1, M2):<br/><br/><strong class="nw gv">M1: {T: [0, 2, 4]}<br/>M2: {T: [1, 3, 5]}</strong></p><p id="8caa" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">On reassignment with an additional consumer, you might get an assignment plan like:</p><p id="0605" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk"><strong class="nw gv">M1: {T: [0, 2]}<br/>M2: {T: [1, 3]}<br/>M3: {T: [4, 5]}</strong></p></div></div></div><div class="ab cb pq pr ps pt" role="separator"><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><h1 id="23cd" class="mw mx gu bf my mz py nb nc nd pz nf ng nh qa nj nk nl qb nn no np qc nr ns nt bk">Demo</h1><h2 id="d511" class="qm mx gu bf my qn qo dy nc qp qq ea ng of qr qs qt oj qu qv qw on qx qy qz ra bk">Example Consumer</h2><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="4737" class="qh mx gu qe b bg qi qj l qk ql"><br/>type ExampleConsumer struct {<br/> Ready chan bool<br/>}<br/><br/>// Setup is run before the consumer starts consuming, providing an opportunity to setup things.<br/>func (consumer *ExampleConsumer) Setup(session sarama.ConsumerGroupSession) error {<br/> // Mark the consumer as ready<br/> close(consumer.Ready)<br/> fmt.Println(&quot;Setup &quot;, &quot;memberid &quot;, session.MemberID(), &quot;sessionid &quot;, session.GenerationID(), &quot;claims &quot;, session.Claims())<br/><br/> return nil<br/>}<br/><br/>// Cleanup is run at the end of a session, to cleanup resources.<br/>func (consumer *ExampleConsumer) Cleanup(session sarama.ConsumerGroupSession) error {<br/> fmt.Println(&quot;Cleanup &quot;, &quot;memberid &quot;, session.MemberID(), &quot;sessionid &quot;, session.GenerationID(), &quot;claims &quot;, session.Claims())<br/> return nil<br/>}<br/><br/>// ConsumeClaim must start a consumer loop of ConsumerGroupClaim&#x27;s Messages().<br/>func (consumer *ExampleConsumer) ConsumeClaim(session sarama.ConsumerGroupSession, claim sarama.ConsumerGroupClaim) error {<br/> fmt.Println(&quot;ConsumeClaim &quot;, &quot;memberid &quot;, session.MemberID(), &quot;sessionid &quot;, session.GenerationID(), &quot;claims &quot;, session.Claims())<br/><br/> for message := range claim.Messages() {<br/>  fmt.Printf(&quot;Message claimed: value = %s, timestamp = %v, topic = %s, partition = %d\n&quot;, string(message.Value), message.Timestamp, message.Topic, message.Partition)<br/>  session.MarkMessage(message, &quot;&quot;)<br/> }<br/> return nil<br/>}</span></pre><h2 id="9564" class="qm mx gu bf my qn qo dy nc qp qq ea ng of qr qs qt oj qu qv qw on qx qy qz ra bk">Configuration and Running</h2><p id="0fc4" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">Now let’s configure and run the consumer:</p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="f45a" class="qh mx gu qe b bg qi qj l qk ql">package main<br/><br/>import (<br/> &quot;context&quot;<br/> &quot;fmt&quot;<br/> &quot;log&quot;<br/> &quot;time&quot;<br/><br/> &quot;github.com/IBM/sarama&quot;<br/>)<br/><br/>func main() {<br/> brokers := []string{&quot;localhost:9092&quot;}<br/> topic := &quot;example-topic&quot;<br/> groupID := &quot;example-group&quot;<br/><br/> config := sarama.NewConfig()<br/> config.Version = sarama.V3_3_0_0 // Set Kafka version<br/> config.Consumer.Group.Heartbeat.Interval = 1 * time.Second<br/> config.Consumer.Offsets.Initial = sarama.OffsetOldest<br/> config.Metadata.RefreshFrequency = time.Minute * 1<br/> config.Metadata.Full = false<br/><br/> // Set up group strategies<br/> config.Consumer.Group.Rebalance.GroupStrategies = []sarama.BalanceStrategy{<br/>  sarama.NewBalanceStrategyRoundRobin(),<br/> }<br/><br/> // Create a new consumer group<br/> consumerGroup, err := sarama.NewConsumerGroup(brokers, groupID, config)<br/> if err != nil {<br/>  log.Fatalf(&quot;Error creating consumer group: %v&quot;, err)<br/> }<br/> defer consumerGroup.Close()<br/><br/> ctx := context.Background()<br/> consumer := &amp;ExampleConsumer{Ready: make(chan bool)}<br/><br/> // Start consumer group session<br/> go func() {<br/>  for {<br/>   if err := consumerGroup.Consume(ctx, []string{topic}, consumer); err != nil {<br/>    log.Fatalf(&quot;Error in consumer group: %v&quot;, err)<br/>   }<br/>   // Check if context was canceled, signaling the application to stop<br/>   if ctx.Err() != nil {<br/>    fmt.Println(&quot;Context was canceled&quot;)<br/>    return<br/>   }<br/>   // Reset consumer ready channel<br/>   consumer.Ready = make(chan bool)<br/>  }<br/> }()<br/><br/> // Wait for consumer to be ready<br/> &lt;-consumer.Ready<br/> log.Println(&quot;Consumer group is ready&quot;)<br/><br/> &lt;-make(chan struct{})<br/>}</span></pre><p id="0d69" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Note, we choosed <strong class="nw gv">Round Robin</strong> as our <strong class="nw gv">balance strategy</strong>.</p><h2 id="cf89" class="qm mx gu bf my qn qo dy nc qp qq ea ng of qr qs qt oj qu qv qw on qx qy qz ra bk">Producer Code</h2><p id="7255" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">We will start with a producer to automatically produce messages to every partition in our topic.</p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="5c5a" class="qh mx gu qe b bg qi qj l qk ql">package main<br/><br/>import (<br/> &quot;fmt&quot;<br/> &quot;time&quot;<br/><br/> &quot;github.com/IBM/sarama&quot;<br/>)<br/><br/>func main() {<br/> brokers := []string{&quot;localhost:9092&quot;}<br/> topic := &quot;example-topic&quot;<br/><br/> config := sarama.NewConfig()<br/> config.Version = sarama.V3_3_0_0 // Set Kafka version<br/> config.Metadata.RefreshFrequency = 1 * time.Minute<br/><br/> config.Producer.Return.Successes = true<br/> config.Producer.RequiredAcks = sarama.WaitForAll<br/> config.Producer.Retry.Max = 3<br/> config.Producer.Partitioner = sarama.NewRoundRobinPartitioner<br/><br/> producer, err := sarama.NewSyncProducer(brokers, config)<br/> if err != nil {<br/>  fmt.Println(&quot;Error creating producer: &quot;, err)<br/>  return<br/> }<br/> defer producer.Close()<br/><br/> for {<br/>  partition, _, err := producer.SendMessage(&amp;sarama.ProducerMessage{<br/>   Topic: topic,<br/>   Value: sarama.StringEncoder(&quot;Hello, World!&quot;),<br/>  })<br/>  if err != nil {<br/>   fmt.Println(&quot;Error producing message: &quot;, err)<br/>  } else {<br/>   fmt.Println(&quot;Produced message to partition &quot;, partition)<br/>  }<br/>  time.Sleep(2 * time.Second)<br/> }<br/>}</span></pre><p id="d8b3" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Now we are ready to see our consumer in action.</p></div></div></div><div class="ab cb pq pr ps pt" role="separator"><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><h2 id="ec29" class="qm mx gu bf my qn qo dy nc qp qq ea ng of qr qs qt oj qu qv qw on qx qy qz ra bk">Running All Together</h2><p id="2110" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">I will start the consumer and producer code that I provided earlier. After waiting a few seconds, we will add a second partition to the Kafka topic, followed by a third partition. The consumer logs will be provided below to demonstrate how the consumer handles these changes.</p><p id="ee8b" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk"><strong class="nw gv">Run the Code</strong></p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="59bb" class="qh mx gu qe b bg qi qj l qk ql">.../consumer &gt; go run main.go<br/><br/>.../producer &gt; go run main.go</span></pre><p id="86e4" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk"><strong class="nw gv">Create Partition</strong></p><p id="2e42" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Let’s get into our Kafka container and run the following command while our consumer and producer running:</p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="b928" class="qh mx gu qe b bg qi qj l qk ql">&gt; docker exec it &lt;container-id&gt; /bin/sh<br/><br/>&gt; ./bin/kafka-topics --bootstrap-server localhost:9092 \<br/>    --alter --topic example-to \<br/>    --partitions 2</span></pre><p id="0cd7" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Watch the logs and you will see that the consumer starts listening the new partitions. Couple of minutes after let’s create another partition:</p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="bdb9" class="qh mx gu qe b bg qi qj l qk ql">&gt; ./bin/kafka-topics --bootstrap-server localhost:9092 \<br/>    --alter --topic example-to \<br/>    --partitions 3</span></pre><p id="e6ea" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">And again, our consumer is able to consume new partitions.</p><p id="be3c" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Her are the consumer logs:</p><pre class="pb pc pd pe pf qd qe qf bp qg bb bk"><span id="7ee1" class="qh mx gu qe b bg qi qj l qk ql">Setup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  1 claims  map[example-topic:[0]]<br/>2024/12/13 22:25:21 Consumer group is ready<br/>ConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  1 claims  map[example-topic:[0]]<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Cleanup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  1 claims  map[example-topic:[0]]<br/>Setup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]<br/>ConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]<br/>ConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Cleanup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]<br/>Setup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]<br/>ConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]<br/>ConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]<br/>ConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 2<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1<br/>Hello, World!, example-topic, partition: 2<br/>Hello, World!, example-topic, partition: 0<br/>Hello, World!, example-topic, partition: 1</span></pre><p id="1e4c" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">We can easily see that our consumer informed about new partitions and starts reading messages from that partitions too.</p></div></div></div><div class="ab cb pq pr ps pt" role="separator"><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw px"></span><span class="pu by bm pv pw"></span></div><div class="gn go gp gq gr"><div class="ab cb"><div class="ci bh fz ga gb gc"><h1 id="106b" class="mw mx gu bf my mz py nb nc nd pz nf ng nh qa nj nk nl qb nn no np qc nr ns nt bk">Conclusion</h1><p id="5162" class="pw-post-body-paragraph nu nv gu nw b nx ny nz oa ob oc od oe of og oh oi oj ok ol om on oo op oq or gn bk">✅ Add appropriate balance strategy to your consumer group config<br/>✅ Set an acceptable metadata refresh frequency in config<br/>✅ Choose initial offset as Earliest or Newest according to your needs</p><p id="ecdd" class="pw-post-body-paragraph nu nv gu nw b nx os nz oa ob ot od oe of ou oh oi oj ov ol om on ow op oq or gn bk">Thanks for reading so far, I hope it was engaging for you.</p></div></div></div></div></section></div></div></article></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="rb rc ab ja"><div class="rd ab"><a class="re ay am ao" href="https://medium.com/tag/golang?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="rf fj cx rg ge rh ri bf b bg z bk rj">Golang</div></a></div><div class="rd ab"><a class="re ay am ao" href="https://medium.com/tag/kafka?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="rf fj cx rg ge rh ri bf b bg z bk rj">Kafka</div></a></div><div class="rd ab"><a class="re ay am ao" href="https://medium.com/tag/microservices?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="rf fj cx rg ge rh ri bf b bg z bk rj">Microservices</div></a></div><div class="rd ab"><a class="re ay am ao" href="https://medium.com/tag/programming?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="rf fj cx rg ge rh ri bf b bg z bk rj">Programming</div></a></div><div class="rd ab"><a class="re ay am ao" href="https://medium.com/tag/coding?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="rf fj cx rg ge rh ri bf b bg z bk rj">Coding</div></a></div></div></div></div><div class="l"></div><footer class="rk pr rl rm rn ab q ro ik c"><div class="l ae"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="ab cp rp"><div class="ab q kv"><div class="rq l"><span class="l rr rs rt e d"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fitnext%2F915dcb2bfc0b&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;user=Emre+Savc%C4%B1&amp;userId=c50c70d779e7&amp;source=---footer_actions--915dcb2bfc0b---------------------clap_footer-----------" rel="noopener follow"><div><div class="bm" aria-hidden="false"><div class="la ao lb lc ld le am lf lg lh kz"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></span><span class="l h g f ru rv"><div class="ab q kv kw"><div class="pw-multi-vote-icon fj je kx ky kz"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fitnext%2F915dcb2bfc0b&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;user=Emre+Savc%C4%B1&amp;userId=c50c70d779e7&amp;source=---footer_actions--915dcb2bfc0b---------------------clap_footer-----------" rel="noopener follow"><div><div class="bm" aria-hidden="false"><div class="la ao lb lc ld le am lf lg lh kz"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l li lj lk ll lm ln lo"><p class="bf b dv z du"><span class="lp">--</span></p></div></div></span></div><div class="bq ab"><div><div class="bm" aria-hidden="false"><button class="ao la lq lr ab q fk ls lt" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="lu"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg></button></div></div></div></div><div class="ab q"><div class="px l ix"><div><div class="bm" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F915dcb2bfc0b&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;source=---footer_actions--915dcb2bfc0b---------------------bookmark_footer-----------" rel="noopener follow"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du lw" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="px l ix"><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="af fk ah ai aj ak al me an ao ap ex mf mg lt mh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></footer><div class="rw rx ry rz sa l"><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="sb bh r sc"></div><div class="sd l"><div class="ab se sf sg iz iy"><div class="sh si sj sk sl sm sn so sp sq ab cp"><div class="h k"><a href="https://itnext.io/?source=post_page---post_publication_info--915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="fj ab"><img alt="ITNEXT" class="sr ib ic cx" src="https://miro.medium.com/v2/resize:fill:96:96/1*yAqDFIFA5F_NXalOJKz4TA.png" width="48" height="48" loading="lazy"/><div class="sr l ic ib fs n fr ss"></div></div></a></div><div class="j i d"><a href="https://itnext.io/?source=post_page---post_publication_info--915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="fj ab"><img alt="ITNEXT" class="sr su st cx" src="https://miro.medium.com/v2/resize:fill:128:128/1*yAqDFIFA5F_NXalOJKz4TA.png" width="64" height="64" loading="lazy"/><div class="sr l st su fs n fr ss"></div></div></a></div><div class="j i d sv ix"><div class="ab"><span><a class="bf b bg z sw rf sx sy sz ta tb ev ew tc td te fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fitnext&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;collection=ITNEXT&amp;collectionId=5b301f10ddcd&amp;source=post_page---post_publication_info--915dcb2bfc0b---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div><div class="ab co tf"><div class="tg th ti tj tk l"><a class="af ag ah aj ak al am an ao ap aq ar as at ab q" href="https://itnext.io/?source=post_page---post_publication_info--915dcb2bfc0b--------------------------------" rel="noopener follow"><h2 class="pw-author-name bf tm tn to tp tq tr ts of qs qt oj qv qw on qy qz bk"><span class="gn tl">Published in <!-- -->ITNEXT</span></h2></a><div class="rd ab ia"><div class="l ix"><span class="pw-follower-count bf b bg z du"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" rel="noopener follow" href="/followers?source=post_page---post_publication_info--915dcb2bfc0b--------------------------------">65K Followers</a></span></div><div class="bf b bg z du ab jd"><span class="ir l" aria-hidden="true"><span class="bf b bg z du">·</span></span><a class="af ag ah ai aj ak al am an ao ap aq ar iq" rel="noopener follow" href="/vector-dev-introduction-aws-s3-logs-and-integration-with-victorialogs-d3585d7d9218?source=post_page---post_publication_info--915dcb2bfc0b--------------------------------">Last published <!-- -->16 hours ago</a></div></div><div class="tt l"><p class="bf b bg z bk"><span class="gn">ITNEXT is a platform for IT developers &amp; software engineers to share knowledge, connect, collaborate, learn and experience next-gen technologies.</span></p></div></div></div><div class="h k"><div class="ab"><span><a class="bf b bg z sw rf sx sy sz ta tb ev ew tc td te fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fitnext&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;collection=ITNEXT&amp;collectionId=5b301f10ddcd&amp;source=post_page---post_publication_info--915dcb2bfc0b---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div></div><div class="ab se sf sg iz iy"><div class="sh si sj sk sl sm sn so sp sq ab cp"><div class="h k"><a tabindex="0" href="https://mstryoda.medium.com/?source=post_page---post_author_info--915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="l fj"><img alt="Emre Savcı" class="l fd by ic ib cx" src="https://miro.medium.com/v2/resize:fill:96:96/1*FT9XsHGlbCsKvWgeX8lE4A.jpeg" width="48" height="48" loading="lazy"/><div class="fr by l ic ib fs n ay ss"></div></div></a></div><div class="j i d"><a tabindex="0" href="https://mstryoda.medium.com/?source=post_page---post_author_info--915dcb2bfc0b--------------------------------" rel="noopener follow"><div class="l fj"><img alt="Emre Savcı" class="l fd by st su cx" src="https://miro.medium.com/v2/resize:fill:128:128/1*FT9XsHGlbCsKvWgeX8lE4A.jpeg" width="64" height="64" loading="lazy"/><div class="fr by l st su fs n ay ss"></div></div></a></div><div class="j i d sv ix"><div class="ab"><span><a class="bf b bg z sw rf sx sy sz ta tb ev ew tc td te fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc50c70d779e7&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;user=Emre+Savc%C4%B1&amp;userId=c50c70d779e7&amp;source=post_page-c50c70d779e7--post_author_info--915dcb2bfc0b---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div><div class="ab co tf"><div class="tg th ti tj tk l"><a class="af ag ah aj ak al am an ao ap aq ar as at ab q" href="https://mstryoda.medium.com/?source=post_page---post_author_info--915dcb2bfc0b--------------------------------" rel="noopener follow"><h2 class="pw-author-name bf tm tn to tp tq tr ts of qs qt oj qv qw on qy qz bk"><span class="gn tl">Written by <!-- -->Emre Savcı</span></h2></a><div class="rd ab ia"><div class="l ix"><span class="pw-follower-count bf b bg z du"><a class="af ag ah ai aj ak al am an ao ap aq ar iq" href="https://mstryoda.medium.com/followers?source=post_page---post_author_info--915dcb2bfc0b--------------------------------" rel="noopener follow">2K Followers</a></span></div><div class="bf b bg z du ab jd"><span class="ir l" aria-hidden="true"><span class="bf b bg z du">·</span></span><a class="af ag ah ai aj ak al am an ao ap aq ar iq" href="https://medium.com/@mstryoda/following?source=post_page---post_author_info--915dcb2bfc0b--------------------------------" rel="noopener follow">75 Following</a></div></div><div class="tt l"><p class="bf b bg z bk"><span class="gn">Tech. Lead @Trendyol &amp; Couchbase Ambassador | Go Türkiye, Kubernetes, Istio, CNCF, Scalability. Open Source Contributor.</span></p></div></div></div><div class="h k"><div class="ab"><span><a class="bf b bg z sw rf sx sy sz ta tb ev ew tc td te fa fb fc fd bm fe ff" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc50c70d779e7&amp;operation=register&amp;redirect=https%3A%2F%2Fitnext.io%2Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b&amp;user=Emre+Savc%C4%B1&amp;userId=c50c70d779e7&amp;source=post_page-c50c70d779e7--post_author_info--915dcb2bfc0b---------------------follow_profile-----------" rel="noopener follow">Follow</a></span></div></div></div></div></div></div><div class="tu l"><div class="sb bh r tv tw tx ty tz"></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="ab q cp"><h2 class="bf tm mz nb nc nd nf ng nh nj nk nl nn no np nr ns bk">No responses yet</h2><div class="ab ua"><div><div class="bm" aria-hidden="false"><a class="ub uc" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--915dcb2bfc0b--------------------------------" rel="noopener follow" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" d="M11.987 5.036a.754.754 0 0 1 .914-.01c.972.721 1.767 1.218 2.6 1.543.828.322 1.719.485 2.887.505a.755.755 0 0 1 .741.757c-.018 3.623-.43 6.256-1.449 8.21-1.034 1.984-2.662 3.209-4.966 4.083a.75.75 0 0 1-.537-.003c-2.243-.874-3.858-2.095-4.897-4.074-1.024-1.951-1.457-4.583-1.476-8.216a.755.755 0 0 1 .741-.757c1.195-.02 2.1-.182 2.923-.503.827-.322 1.6-.815 2.519-1.535m.468.903c-.897.69-1.717 1.21-2.623 1.564-.898.35-1.856.527-3.026.565.037 3.45.469 5.817 1.36 7.515.884 1.684 2.25 2.762 4.284 3.571 2.092-.81 3.465-1.89 4.344-3.575.886-1.698 1.299-4.065 1.334-7.512-1.149-.039-2.091-.217-2.99-.567-.906-.353-1.745-.873-2.683-1.561m-.009 9.155a2.672 2.672 0 1 0 0-5.344 2.672 2.672 0 0 0 0 5.344m0 1a3.672 3.672 0 1 0 0-7.344 3.672 3.672 0 0 0 0 7.344m-1.813-3.777.525-.526.916.917 1.623-1.625.526.526-2.149 2.152z" clip-rule="evenodd"></path></svg></a></div></div></div></div><div class="ud ue uf ug uh l"></div></div></div></div><div class="ui uj uk ul um l bx"><div class="h k j"><div class="sb bh un uo"></div><div class="ab cb"><div class="ci bh fz ga gb gc"><div class="up ab kv ja"><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://help.medium.com/hc/en-us?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Help</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.statuspage.io/?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Status</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/about?autoplay=1&amp;source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">About</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Careers</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="pressinquiries@medium.com?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Press</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.medium.com/?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Blog</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Privacy</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Terms</p></a></div><div class="uq ur l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://speechify.com/medium?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Text to speech</p></a></div><div class="uq l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/business?source=post_page-----915dcb2bfc0b--------------------------------" rel="noopener follow"><p class="bf b dv z du">Teams</p></a></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20241218-235912-1e3024e5b3"</script><script>window.__GRAPHQL_URI__ = "https://itnext.io/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"This request is not using the cache middleware worker","group":"disabled","tags":["group-edgeCachePosts","post-915dcb2bfc0b","user-c50c70d779e7","collection-5b301f10ddcd"],"serverVariantState":"","middlewareEnabled":false,"cacheStatus":"DYNAMIC","shouldUseCache":false,"vary":[],"lohpSummerUpsellEnabled":false},"client":{"hydrated":false,"isUs":true,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"COLLECTION","id":"5b301f10ddcd","explicit":true},"viewerIsBot":false},"debug":{"requestId":"74629661-0fa6-4392-98b5-e8e36e52c395","hybridDevServices":[],"originalSpanCarrier":{"traceparent":"00-0c2abbb5d946e5dff3bd78280bdbabbd-5bf9ecf5fdbd713e-01"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fitnext.io\u002Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b","host":"itnext.io","hostname":"itnext.io","referrer":"https:\u002F\u002Fwww.google.com","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"partnerProgram":{"selectedCountryCode":null}},"config":{"nodeEnv":"production","version":"main-20241218-235912-1e3024e5b3","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20241218-235912-1e3024e5b3","commit":"1e3024e5b30a200d8e607e363a93175b656225c2"}},"datacenter":"us"},"googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"7*V1_7XP4snlmqrc_0Njontw.png","height":110,"width":500},"postLogo":{"imageId":"bd978bb536350a710e8efb012513429cabdc4c28700604261aeda246d0f980b7","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","variantFlags":[{"__typename":"VariantFlag","name":"enable_group_gifting","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_bottom_responses_input","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_susi_redesign_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_publish_permission_check","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_image_sharer","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"enable_rex_new_push_notification_endpoint","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sms_verification_for_publish","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_eventstats_event_processing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_iceland_forced_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_seamless_social_sharing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_abandoned_cart_promotion_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_reading_history","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reengagement_notification_duration","valueType":{"__typename":"VariantFlagNumber","value":3}},{"__typename":"VariantFlag","name":"android_enable_syntax_highlight","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"android_enable_friend_links_postpage_banners","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_verified_author","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_friend_links_creation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_trial_membership","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_aggregator_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_two_hour_refresh","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_dynamic_paywall_aspiriational","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"mobile_custom_app_icon","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_dynamic_aspirational_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_configure_pronouns","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_easy_resubscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sharer_create_post_share_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"price_smoke_test_yearly","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"can_receive_tips_v0","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefined_top_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_auto_follow_on_subscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_newsletter_lo_flow_custom_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recaptcha_enterprise","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automod","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_simplified_digest_v2_b","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reader_fair_distribution_non_qp","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_autorefresh","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mastodon_for_members","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"price_smoke_test_monthly","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"enable_conversion_model_v2","valueType":{"__typename":"VariantFlagString","value":"group_2"}},{"__typename":"VariantFlag","name":"enable_legacy_feed_in_iceland","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"goliath_externalsearch_enable_comment_deindexation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"can_send_tips_v0","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_google_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pre_pp_v4","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_update_explore_wtf","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_premium_plan","valueType":{"__typename":"VariantFlagString","value":"4a442ace1476"}},{"__typename":"VariantFlag","name":"enable_author_cards_byline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_entities_to_follow_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"num_post_bottom_responses_to_show","valueType":{"__typename":"VariantFlagNumber","value":3}},{"__typename":"VariantFlag","name":"android_enable_editor_new_publishing_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_explicit_signals_updated_post_previews","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_moc_load_processor_c","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_publication_hierarchy_web","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trust_service_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_lists_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_diversification_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_offline_reading","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_manage_membership_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recommended_publishers_query","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cache_less_following_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_friend_links_creation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_enable_topic_portals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"android_rating_prompt_stories_read_threshold","valueType":{"__typename":"VariantFlagNumber","value":2}},{"__typename":"VariantFlag","name":"enable_speechify_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_boost_nia_v01","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cancellation_discount_v1_gate","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_susi_redesign_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound-source-serif-pro"}},{"__typename":"VariantFlag","name":"enable_moc_load_processor_all_recs_surfaces","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_moc_load_processor_first_story","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_country_expansion","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_see_pronouns","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_premium_tier_badge","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_miro_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_maim_the_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"textshots_userid","valueType":{"__typename":"VariantFlagString","value":""}},{"__typename":"VariantFlag","name":"enable_sprig","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_v4","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ranker_v10","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"onboarding_tags_from_top_views","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lo_homepage","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_mastodon_avatar_upload","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_winback_promotion_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tag_recs","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_verified_book_author","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_in_app_free_trial","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_monthly_premium_plan","valueType":{"__typename":"VariantFlagString","value":"12a660186432"}},{"__typename":"VariantFlag","name":"disable_partner_program_enrollment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_social_share_sheet","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_explicit_signals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_bottom_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipping_v0_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_abandoned_paywall_promotion_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"rex_generator_max_candidates","valueType":{"__typename":"VariantFlagNumber","value":1000}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_continue_this_thread","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mastodon_for_members_username_selection","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_pub_recs_ui","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipping_v0_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_verifications_service","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_friend_links_postpage_banners","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pub_featuring","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recirc_model","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_speechify_widget","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_creator_welcome_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_display_paywall_after_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"skip_fs_cache_user_vals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_offline_reading","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_dynamic_paywall_programming","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_dynamic_programming_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_bg_post_post","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_switch_plan_premium_tier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_archive_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"enable_author_cards","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sharer_validate_post_share_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_update_topic_portals_wtf","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_remove_twitter_onboarding_step","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_premium_tier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_conversion_ranker_v2","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"enable_lite_response_markup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_stripe_customers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_gift_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_intrinsic_automatic_actions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pill_based_home_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_deprecate_legacy_providers_v3","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_members_only_audio","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_bottom_responses_native","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"collectionByDomainOrSlug({\"domainOrSlug\":\"itnext.io\"})":{"__ref":"Collection:5b301f10ddcd"},"viewer":null,"postResult({\"id\":\"915dcb2bfc0b\"})":{"__ref":"Post:915dcb2bfc0b"}},"ImageMetadata:1*SiXeRxgOt0pAYlYhwZIu3g.png":{"__typename":"ImageMetadata","id":"1*SiXeRxgOt0pAYlYhwZIu3g.png"},"Collection:5b301f10ddcd":{"__typename":"Collection","id":"5b301f10ddcd","favicon":{"__ref":"ImageMetadata:1*SiXeRxgOt0pAYlYhwZIu3g.png"},"customStyleSheet":null,"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFE6F5FF","point":0},{"__typename":"ColorPoint","color":"#FFE2F4FF","point":0.1},{"__typename":"ColorPoint","color":"#FFDDF2FF","point":0.2},{"__typename":"ColorPoint","color":"#FFD8F1FF","point":0.3},{"__typename":"ColorPoint","color":"#FFD3F0FF","point":0.4},{"__typename":"ColorPoint","color":"#FFCDEFFF","point":0.5},{"__typename":"ColorPoint","color":"#FFC8EDFF","point":0.6},{"__typename":"ColorPoint","color":"#FFC3ECFF","point":0.7},{"__typename":"ColorPoint","color":"#FFBDEBFF","point":0.8},{"__typename":"ColorPoint","color":"#FFB7E9FF","point":0.9},{"__typename":"ColorPoint","color":"#FFB1E8FF","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF3F8DCE","point":0},{"__typename":"ColorPoint","color":"#FF3F83BD","point":0.1},{"__typename":"ColorPoint","color":"#FF3D79AD","point":0.2},{"__typename":"ColorPoint","color":"#FF3B6E9C","point":0.3},{"__typename":"ColorPoint","color":"#FF38648B","point":0.4},{"__typename":"ColorPoint","color":"#FF34597A","point":0.5},{"__typename":"ColorPoint","color":"#FF2F4E6A","point":0.6},{"__typename":"ColorPoint","color":"#FF2A4259","point":0.7},{"__typename":"ColorPoint","color":"#FF233648","point":0.8},{"__typename":"ColorPoint","color":"#FF1B2937","point":0.9},{"__typename":"ColorPoint","color":"#FF121B25","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF1A71B1","colorPoints":[{"__typename":"ColorPoint","color":"#FF1A71B1","point":0},{"__typename":"ColorPoint","color":"#FF3E82BC","point":0.1},{"__typename":"ColorPoint","color":"#FF5892C7","point":0.2},{"__typename":"ColorPoint","color":"#FF6EA1D1","point":0.3},{"__typename":"ColorPoint","color":"#FF84B0DB","point":0.4},{"__typename":"ColorPoint","color":"#FF98BEE4","point":0.5},{"__typename":"ColorPoint","color":"#FFACCCED","point":0.6},{"__typename":"ColorPoint","color":"#FFBFDAF6","point":0.7},{"__typename":"ColorPoint","color":"#FFD1E7FE","point":0.8},{"__typename":"ColorPoint","color":"#FFE4F4FF","point":0.9},{"__typename":"ColorPoint","color":"#FFF6FFFF","point":1}]}},"domain":"itnext.io","slug":"itnext","googleAnalyticsId":"UA-29035124-5","name":"ITNEXT","subscriberCount":65738,"description":"ITNEXT is a platform for IT developers & software engineers to share knowledge, connect, collaborate, learn and experience next-gen technologies.","avatar":{"__ref":"ImageMetadata:1*yAqDFIFA5F_NXalOJKz4TA.png"},"latestPostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:d3585d7d9218"}]},"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:5b301f10ddcd-viewerId:lo_8a43ad1ba856"},"twitterUsername":"itnext_io","facebookPageId":null,"logo":{"__ref":"ImageMetadata:1*jWhTrIoYwTUdKuVXycqAaw.png"}},"ImageMetadata:1*yAqDFIFA5F_NXalOJKz4TA.png":{"__typename":"ImageMetadata","id":"1*yAqDFIFA5F_NXalOJKz4TA.png"},"User:4f8486811f16":{"__typename":"User","id":"4f8486811f16","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"setevoy.medium.com"}},"hasSubdomain":true,"username":"setevoy"},"Post:d3585d7d9218":{"__typename":"Post","id":"d3585d7d9218","firstPublishedAt":1734789541433,"creator":{"__ref":"User:4f8486811f16"},"collection":{"__ref":"Collection:5b301f10ddcd"},"isSeries":false,"mediumUrl":"https:\u002F\u002Fitnext.io\u002Fvector-dev-introduction-aws-s3-logs-and-integration-with-victorialogs-d3585d7d9218","sequence":null,"uniqueSlug":"vector-dev-introduction-aws-s3-logs-and-integration-with-victorialogs-d3585d7d9218"},"LinkedAccounts:c50c70d779e7":{"__typename":"LinkedAccounts","mastodon":null,"id":"c50c70d779e7"},"Membership:823fa798c1fc":{"__typename":"Membership","tier":"MEMBER","id":"823fa798c1fc"},"User:c50c70d779e7":{"__typename":"User","id":"c50c70d779e7","linkedAccounts":{"__ref":"LinkedAccounts:c50c70d779e7"},"isSuspended":false,"name":"Emre Savcı","imageId":"1*FT9XsHGlbCsKvWgeX8lE4A.jpeg","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"mstryoda.medium.com"}},"hasSubdomain":true,"username":"mstryoda","verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"socialStats":{"__typename":"SocialStats","followerCount":2004,"followingCount":55,"collectionFollowingCount":20},"bio":"Tech. Lead @Trendyol & Couchbase Ambassador | Go Türkiye, Kubernetes, Istio, CNCF, Scalability. Open Source Contributor.","membership":{"__ref":"Membership:823fa798c1fc"},"allowNotes":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:c50c70d779e7-viewerId:lo_8a43ad1ba856"},"twitterScreenName":""},"Paragraph:cdb9889e5986_0":{"__typename":"Paragraph","id":"cdb9889e5986_0","name":"94a1","type":"H3","href":null,"layout":null,"metadata":null,"text":"Do not miss messages when Kafka Topic Partitioned","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_1":{"__typename":"Paragraph","id":"cdb9889e5986_1","name":"9c12","type":"H3","href":null,"layout":null,"metadata":null,"text":"Introduction","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_2":{"__typename":"Paragraph","id":"cdb9889e5986_2","name":"c5cd","type":"P","href":null,"layout":null,"metadata":null,"text":"In the era of event driven communication, one of the de-facto standard message brokers is Kafka, which is a message broker that has topic and consumer group concept.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":90,"end":95,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_3":{"__typename":"Paragraph","id":"cdb9889e5986_3","name":"b51c","type":"P","href":null,"layout":null,"metadata":null,"text":"In Kafka, a topic can have many partitions, hence in this way you can increase parallelism of processing messages. This enables us to scale our consumer applications to more than one instance.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_4":{"__typename":"Paragraph","id":"cdb9889e5986_4","name":"6e3d","type":"P","href":null,"layout":null,"metadata":null,"text":"While using Kafka, new partitions may be added to a topic. If you do not correctly configure, consumer may miss messages in new partitions, so it is important to do the appropriate setup.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_5":{"__typename":"Paragraph","id":"cdb9889e5986_5","name":"31b6","type":"P","href":null,"layout":null,"metadata":null,"text":"In this article, I will show you how to run a Kafka broker locally and then configure a consumer to consume messages from a topic. While consuming the topic, we will create new partitions and observe that our consumer automatically receives messages from the new partitions.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_6":{"__typename":"Paragraph","id":"cdb9889e5986_6","name":"2628","type":"P","href":null,"layout":null,"metadata":null,"text":"We will use Golang as our programming language and IBM\u002Fsarama as a Kafka library.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":51,"end":61,"href":"https:\u002F\u002Fgithub.com\u002FIBM\u002Fsarama","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":12,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":51,"end":61,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*0ZFcVifygpfnD7Wv.png":{"__typename":"ImageMetadata","id":"0*0ZFcVifygpfnD7Wv.png","originalHeight":730,"originalWidth":1400,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:cdb9889e5986_7":{"__typename":"Paragraph","id":"cdb9889e5986_7","name":"05d4","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*0ZFcVifygpfnD7Wv.png"},"text":"https:\u002F\u002Fkajalrawal.medium.com\u002Fkafka-broker-kafka-topic-consumer-and-record-flow-in-kafka-ec55104977b8","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":101,"href":"https:\u002F\u002Fkajalrawal.medium.com\u002Fkafka-broker-kafka-topic-consumer-and-record-flow-in-kafka-ec55104977b8","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_8":{"__typename":"Paragraph","id":"cdb9889e5986_8","name":"e174","type":"H3","href":null,"layout":null,"metadata":null,"text":"Running Kafka in Docker","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_9":{"__typename":"Paragraph","id":"cdb9889e5986_9","name":"94bf","type":"P","href":null,"layout":null,"metadata":null,"text":"To test our consumers and produces, we will use Docker to quickly spin up a Kafka broker. Copy and paste the following docker compose configuration into docker-compose.yml:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":48,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_10":{"__typename":"Paragraph","id":"cdb9889e5986_10","name":"cfbb","type":"PRE","href":null,"layout":null,"metadata":null,"text":"version: '2'\nservices:\n  zookeeper-1:\n    image: confluentinc\u002Fcp-zookeeper:7.4.4\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    ports:\n      - 22181:2181\n  kafka-1:\n    image: confluentinc\u002Fcp-kafka:7.4.4\n    depends_on:\n      - zookeeper-1\n    ports:\n      - 29092:29092\n      - 9092:9092\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181,zookeeper-2:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT:\u002F\u002F127.0.0.1:9092,PLAINTEXT_HOST:\u002F\u002F127.0.0.1:29092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"yaml"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_11":{"__typename":"Paragraph","id":"cdb9889e5986_11","name":"f906","type":"P","href":null,"layout":null,"metadata":null,"text":"Run the containers:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_12":{"__typename":"Paragraph","id":"cdb9889e5986_12","name":"ffa3","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\u003E docker-compose up -d\n\nWARN[0000] \u002FUsers\u002Femre.savci\u002FDesktop\u002Fmy-projects\u002Fkafka\u002Fdocker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion\nWARN[0000] Found orphan containers ([kafka-kafka-2-1 kafka-zookeeper-2-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up.\n[+] Running 2\u002F2\n ✔ Container kafka-zookeeper-1-1  Started                                                                                                                                  0.3s\n ✔ Container kafka-kafka-1-1      Started     ","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_13":{"__typename":"Paragraph","id":"cdb9889e5986_13","name":"8054","type":"H3","href":null,"layout":null,"metadata":null,"text":"Balance Strategies","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_14":{"__typename":"Paragraph","id":"cdb9889e5986_14","name":"3741","type":"P","href":null,"layout":null,"metadata":null,"text":"To handle partitions, we can choose from different balance strategies according to our use cases.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_15":{"__typename":"Paragraph","id":"cdb9889e5986_15","name":"21d7","type":"P","href":null,"layout":null,"metadata":null,"text":"I will use Sarama’s source code comments to explain balance strategies.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_16":{"__typename":"Paragraph","id":"cdb9889e5986_16","name":"9fb1","type":"H4","href":null,"layout":null,"metadata":null,"text":"Round Robin","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_17":{"__typename":"Paragraph","id":"cdb9889e5986_17","name":"c1be","type":"P","href":null,"layout":null,"metadata":null,"text":"This one returns a round-robin balance strategy, which assigns partitions to members in alternating order.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_18":{"__typename":"Paragraph","id":"cdb9889e5986_18","name":"caab","type":"P","href":null,"layout":null,"metadata":null,"text":"For example, there are two topics (t0, t1) and two consumer (m0, m1), and each topic has three partitions (p0, p1, p2):\nM0: [t0p0, t0p2, t1p1]\nM1: [t0p1, t1p0, t1p2]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_19":{"__typename":"Paragraph","id":"cdb9889e5986_19","name":"6707","type":"H4","href":null,"layout":null,"metadata":null,"text":"Range","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_20":{"__typename":"Paragraph","id":"cdb9889e5986_20","name":"c6c7","type":"P","href":null,"layout":null,"metadata":null,"text":"This one returns a range balance strategy, which is the default and assigns partitions as ranges to consumer group members.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_21":{"__typename":"Paragraph","id":"cdb9889e5986_21","name":"d833","type":"P","href":null,"layout":null,"metadata":null,"text":"This follows the same logic as https:\u002F\u002Fkafka.apache.org\u002F31\u002Fjavadoc\u002Forg\u002Fapache\u002Fkafka\u002Fclients\u002Fconsumer\u002FRangeAssignor.html\n\nExample with two topics T1 and T2 with six partitions each (0..5) and two members (M1, M2):","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":31,"end":119,"href":"https:\u002F\u002Fkafka.apache.org\u002F31\u002Fjavadoc\u002Forg\u002Fapache\u002Fkafka\u002Fclients\u002Fconsumer\u002FRangeAssignor.html","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_22":{"__typename":"Paragraph","id":"cdb9889e5986_22","name":"07bd","type":"P","href":null,"layout":null,"metadata":null,"text":"M1: {T1: [0, 1, 2], T2: [0, 1, 2]}\nM2: {T1: [3, 4, 5], T2: [3, 4, 5]}","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":69,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_23":{"__typename":"Paragraph","id":"cdb9889e5986_23","name":"1b60","type":"H4","href":null,"layout":null,"metadata":null,"text":"Sticky","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_24":{"__typename":"Paragraph","id":"cdb9889e5986_24","name":"59b8","type":"P","href":null,"layout":null,"metadata":null,"text":"This one returns a sticky balance strategy, which assigns partitions to members with an attempt to preserve earlier assignments\nwhile maintain a balanced partition distribution.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_25":{"__typename":"Paragraph","id":"cdb9889e5986_25","name":"5eec","type":"P","href":null,"layout":null,"metadata":null,"text":"Example with topic T with six partitions (0..5) and two members (M1, M2):\n\nM1: {T: [0, 2, 4]}\nM2: {T: [1, 3, 5]}","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":75,"end":112,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_26":{"__typename":"Paragraph","id":"cdb9889e5986_26","name":"8caa","type":"P","href":null,"layout":null,"metadata":null,"text":"On reassignment with an additional consumer, you might get an assignment plan like:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_27":{"__typename":"Paragraph","id":"cdb9889e5986_27","name":"0605","type":"P","href":null,"layout":null,"metadata":null,"text":"M1: {T: [0, 2]}\nM2: {T: [1, 3]}\nM3: {T: [4, 5]}","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_28":{"__typename":"Paragraph","id":"cdb9889e5986_28","name":"23cd","type":"H3","href":null,"layout":null,"metadata":null,"text":"Demo","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_29":{"__typename":"Paragraph","id":"cdb9889e5986_29","name":"d511","type":"H4","href":null,"layout":null,"metadata":null,"text":"Example Consumer","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_30":{"__typename":"Paragraph","id":"cdb9889e5986_30","name":"4737","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\ntype ExampleConsumer struct {\n Ready chan bool\n}\n\n\u002F\u002F Setup is run before the consumer starts consuming, providing an opportunity to setup things.\nfunc (consumer *ExampleConsumer) Setup(session sarama.ConsumerGroupSession) error {\n \u002F\u002F Mark the consumer as ready\n close(consumer.Ready)\n fmt.Println(\"Setup \", \"memberid \", session.MemberID(), \"sessionid \", session.GenerationID(), \"claims \", session.Claims())\n\n return nil\n}\n\n\u002F\u002F Cleanup is run at the end of a session, to cleanup resources.\nfunc (consumer *ExampleConsumer) Cleanup(session sarama.ConsumerGroupSession) error {\n fmt.Println(\"Cleanup \", \"memberid \", session.MemberID(), \"sessionid \", session.GenerationID(), \"claims \", session.Claims())\n return nil\n}\n\n\u002F\u002F ConsumeClaim must start a consumer loop of ConsumerGroupClaim's Messages().\nfunc (consumer *ExampleConsumer) ConsumeClaim(session sarama.ConsumerGroupSession, claim sarama.ConsumerGroupClaim) error {\n fmt.Println(\"ConsumeClaim \", \"memberid \", session.MemberID(), \"sessionid \", session.GenerationID(), \"claims \", session.Claims())\n\n for message := range claim.Messages() {\n  fmt.Printf(\"Message claimed: value = %s, timestamp = %v, topic = %s, partition = %d\\n\", string(message.Value), message.Timestamp, message.Topic, message.Partition)\n  session.MarkMessage(message, \"\")\n }\n return nil\n}","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_31":{"__typename":"Paragraph","id":"cdb9889e5986_31","name":"9564","type":"H4","href":null,"layout":null,"metadata":null,"text":"Configuration and Running","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_32":{"__typename":"Paragraph","id":"cdb9889e5986_32","name":"0fc4","type":"P","href":null,"layout":null,"metadata":null,"text":"Now let’s configure and run the consumer:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_33":{"__typename":"Paragraph","id":"cdb9889e5986_33","name":"f45a","type":"PRE","href":null,"layout":null,"metadata":null,"text":"package main\n\nimport (\n \"context\"\n \"fmt\"\n \"log\"\n \"time\"\n\n \"github.com\u002FIBM\u002Fsarama\"\n)\n\nfunc main() {\n brokers := []string{\"localhost:9092\"}\n topic := \"example-topic\"\n groupID := \"example-group\"\n\n config := sarama.NewConfig()\n config.Version = sarama.V3_3_0_0 \u002F\u002F Set Kafka version\n config.Consumer.Group.Heartbeat.Interval = 1 * time.Second\n config.Consumer.Offsets.Initial = sarama.OffsetOldest\n config.Metadata.RefreshFrequency = time.Minute * 1\n config.Metadata.Full = false\n\n \u002F\u002F Set up group strategies\n config.Consumer.Group.Rebalance.GroupStrategies = []sarama.BalanceStrategy{\n  sarama.NewBalanceStrategyRoundRobin(),\n }\n\n \u002F\u002F Create a new consumer group\n consumerGroup, err := sarama.NewConsumerGroup(brokers, groupID, config)\n if err != nil {\n  log.Fatalf(\"Error creating consumer group: %v\", err)\n }\n defer consumerGroup.Close()\n\n ctx := context.Background()\n consumer := &ExampleConsumer{Ready: make(chan bool)}\n\n \u002F\u002F Start consumer group session\n go func() {\n  for {\n   if err := consumerGroup.Consume(ctx, []string{topic}, consumer); err != nil {\n    log.Fatalf(\"Error in consumer group: %v\", err)\n   }\n   \u002F\u002F Check if context was canceled, signaling the application to stop\n   if ctx.Err() != nil {\n    fmt.Println(\"Context was canceled\")\n    return\n   }\n   \u002F\u002F Reset consumer ready channel\n   consumer.Ready = make(chan bool)\n  }\n }()\n\n \u002F\u002F Wait for consumer to be ready\n \u003C-consumer.Ready\n log.Println(\"Consumer group is ready\")\n\n \u003C-make(chan struct{})\n}","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_34":{"__typename":"Paragraph","id":"cdb9889e5986_34","name":"0d69","type":"P","href":null,"layout":null,"metadata":null,"text":"Note, we choosed Round Robin as our balance strategy.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":17,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":36,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_35":{"__typename":"Paragraph","id":"cdb9889e5986_35","name":"cf89","type":"H4","href":null,"layout":null,"metadata":null,"text":"Producer Code","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_36":{"__typename":"Paragraph","id":"cdb9889e5986_36","name":"7255","type":"P","href":null,"layout":null,"metadata":null,"text":"We will start with a producer to automatically produce messages to every partition in our topic.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_37":{"__typename":"Paragraph","id":"cdb9889e5986_37","name":"5c5a","type":"PRE","href":null,"layout":null,"metadata":null,"text":"package main\n\nimport (\n \"fmt\"\n \"time\"\n\n \"github.com\u002FIBM\u002Fsarama\"\n)\n\nfunc main() {\n brokers := []string{\"localhost:9092\"}\n topic := \"example-topic\"\n\n config := sarama.NewConfig()\n config.Version = sarama.V3_3_0_0 \u002F\u002F Set Kafka version\n config.Metadata.RefreshFrequency = 1 * time.Minute\n\n config.Producer.Return.Successes = true\n config.Producer.RequiredAcks = sarama.WaitForAll\n config.Producer.Retry.Max = 3\n config.Producer.Partitioner = sarama.NewRoundRobinPartitioner\n\n producer, err := sarama.NewSyncProducer(brokers, config)\n if err != nil {\n  fmt.Println(\"Error creating producer: \", err)\n  return\n }\n defer producer.Close()\n\n for {\n  partition, _, err := producer.SendMessage(&sarama.ProducerMessage{\n   Topic: topic,\n   Value: sarama.StringEncoder(\"Hello, World!\"),\n  })\n  if err != nil {\n   fmt.Println(\"Error producing message: \", err)\n  } else {\n   fmt.Println(\"Produced message to partition \", partition)\n  }\n  time.Sleep(2 * time.Second)\n }\n}","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_38":{"__typename":"Paragraph","id":"cdb9889e5986_38","name":"d8b3","type":"P","href":null,"layout":null,"metadata":null,"text":"Now we are ready to see our consumer in action.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_39":{"__typename":"Paragraph","id":"cdb9889e5986_39","name":"ec29","type":"H4","href":null,"layout":null,"metadata":null,"text":"Running All Together","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_40":{"__typename":"Paragraph","id":"cdb9889e5986_40","name":"2110","type":"P","href":null,"layout":null,"metadata":null,"text":"I will start the consumer and producer code that I provided earlier. After waiting a few seconds, we will add a second partition to the Kafka topic, followed by a third partition. The consumer logs will be provided below to demonstrate how the consumer handles these changes.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_41":{"__typename":"Paragraph","id":"cdb9889e5986_41","name":"ee8b","type":"P","href":null,"layout":null,"metadata":null,"text":"Run the Code","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_42":{"__typename":"Paragraph","id":"cdb9889e5986_42","name":"59bb","type":"PRE","href":null,"layout":null,"metadata":null,"text":"...\u002Fconsumer \u003E go run main.go\n\n...\u002Fproducer \u003E go run main.go","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_43":{"__typename":"Paragraph","id":"cdb9889e5986_43","name":"86e4","type":"P","href":null,"layout":null,"metadata":null,"text":"Create Partition","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_44":{"__typename":"Paragraph","id":"cdb9889e5986_44","name":"2e42","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s get into our Kafka container and run the following command while our consumer and producer running:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_45":{"__typename":"Paragraph","id":"cdb9889e5986_45","name":"b928","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\u003E docker exec it \u003Ccontainer-id\u003E \u002Fbin\u002Fsh\n\n\u003E .\u002Fbin\u002Fkafka-topics --bootstrap-server localhost:9092 \\\n    --alter --topic example-to \\\n    --partitions 2","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_46":{"__typename":"Paragraph","id":"cdb9889e5986_46","name":"0cd7","type":"P","href":null,"layout":null,"metadata":null,"text":"Watch the logs and you will see that the consumer starts listening the new partitions. Couple of minutes after let’s create another partition:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_47":{"__typename":"Paragraph","id":"cdb9889e5986_47","name":"bdb9","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\u003E .\u002Fbin\u002Fkafka-topics --bootstrap-server localhost:9092 \\\n    --alter --topic example-to \\\n    --partitions 3","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"go"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_48":{"__typename":"Paragraph","id":"cdb9889e5986_48","name":"e6ea","type":"P","href":null,"layout":null,"metadata":null,"text":"And again, our consumer is able to consume new partitions.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_49":{"__typename":"Paragraph","id":"cdb9889e5986_49","name":"be3c","type":"P","href":null,"layout":null,"metadata":null,"text":"Her are the consumer logs:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_50":{"__typename":"Paragraph","id":"cdb9889e5986_50","name":"7ee1","type":"PRE","href":null,"layout":null,"metadata":null,"text":"Setup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  1 claims  map[example-topic:[0]]\n2024\u002F12\u002F13 22:25:21 Consumer group is ready\nConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  1 claims  map[example-topic:[0]]\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nCleanup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  1 claims  map[example-topic:[0]]\nSetup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]\nConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]\nConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nCleanup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  2 claims  map[example-topic:[0 1]]\nSetup  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]\nConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]\nConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]\nConsumeClaim  memberid  sarama-287eb50b-4f02-49ab-a827-ced69a4fadd6 sessionid  3 claims  map[example-topic:[0 1 2]]\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 2\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1\nHello, World!, example-topic, partition: 2\nHello, World!, example-topic, partition: 0\nHello, World!, example-topic, partition: 1","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"yaml"},"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_51":{"__typename":"Paragraph","id":"cdb9889e5986_51","name":"1e4c","type":"P","href":null,"layout":null,"metadata":null,"text":"We can easily see that our consumer informed about new partitions and starts reading messages from that partitions too.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_52":{"__typename":"Paragraph","id":"cdb9889e5986_52","name":"106b","type":"H3","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_53":{"__typename":"Paragraph","id":"cdb9889e5986_53","name":"5162","type":"P","href":null,"layout":null,"metadata":null,"text":"✅ Add appropriate balance strategy to your consumer group config\n✅ Set an acceptable metadata refresh frequency in config\n✅ Choose initial offset as Earliest or Newest according to your needs","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:cdb9889e5986_54":{"__typename":"Paragraph","id":"cdb9889e5986_54","name":"ecdd","type":"P","href":null,"layout":null,"metadata":null,"text":"Thanks for reading so far, I hope it was engaging for you.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"CollectionViewerEdge:collectionId:5b301f10ddcd-viewerId:lo_8a43ad1ba856":{"__typename":"CollectionViewerEdge","id":"collectionId:5b301f10ddcd-viewerId:lo_8a43ad1ba856","isEditor":false,"isMuting":false},"UserViewerEdge:userId:c50c70d779e7-viewerId:lo_8a43ad1ba856":{"__typename":"UserViewerEdge","id":"userId:c50c70d779e7-viewerId:lo_8a43ad1ba856","isMuting":false},"ImageMetadata:1*jWhTrIoYwTUdKuVXycqAaw.png":{"__typename":"ImageMetadata","id":"1*jWhTrIoYwTUdKuVXycqAaw.png","originalWidth":800,"originalHeight":152},"PostViewerEdge:postId:915dcb2bfc0b-viewerId:lo_8a43ad1ba856":{"__typename":"PostViewerEdge","shouldIndexPostForExternalSearch":true,"id":"postId:915dcb2bfc0b-viewerId:lo_8a43ad1ba856"},"Tag:golang":{"__typename":"Tag","id":"golang","displayTitle":"Golang","normalizedTagSlug":"golang"},"Tag:kafka":{"__typename":"Tag","id":"kafka","displayTitle":"Kafka","normalizedTagSlug":"kafka"},"Tag:microservices":{"__typename":"Tag","id":"microservices","displayTitle":"Microservices","normalizedTagSlug":"microservices"},"Tag:programming":{"__typename":"Tag","id":"programming","displayTitle":"Programming","normalizedTagSlug":"programming"},"Tag:coding":{"__typename":"Tag","id":"coding","displayTitle":"Coding","normalizedTagSlug":"coding"},"Post:915dcb2bfc0b":{"__typename":"Post","id":"915dcb2bfc0b","collection":{"__ref":"Collection:5b301f10ddcd"},"content({\"postMeteringOptions\":{}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"1228","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"6226","startIndex":8,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"cbed","startIndex":13,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"7e4a","startIndex":28,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"273d","startIndex":39,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"2d97","startIndex":52,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:cdb9889e5986_0"},{"__ref":"Paragraph:cdb9889e5986_1"},{"__ref":"Paragraph:cdb9889e5986_2"},{"__ref":"Paragraph:cdb9889e5986_3"},{"__ref":"Paragraph:cdb9889e5986_4"},{"__ref":"Paragraph:cdb9889e5986_5"},{"__ref":"Paragraph:cdb9889e5986_6"},{"__ref":"Paragraph:cdb9889e5986_7"},{"__ref":"Paragraph:cdb9889e5986_8"},{"__ref":"Paragraph:cdb9889e5986_9"},{"__ref":"Paragraph:cdb9889e5986_10"},{"__ref":"Paragraph:cdb9889e5986_11"},{"__ref":"Paragraph:cdb9889e5986_12"},{"__ref":"Paragraph:cdb9889e5986_13"},{"__ref":"Paragraph:cdb9889e5986_14"},{"__ref":"Paragraph:cdb9889e5986_15"},{"__ref":"Paragraph:cdb9889e5986_16"},{"__ref":"Paragraph:cdb9889e5986_17"},{"__ref":"Paragraph:cdb9889e5986_18"},{"__ref":"Paragraph:cdb9889e5986_19"},{"__ref":"Paragraph:cdb9889e5986_20"},{"__ref":"Paragraph:cdb9889e5986_21"},{"__ref":"Paragraph:cdb9889e5986_22"},{"__ref":"Paragraph:cdb9889e5986_23"},{"__ref":"Paragraph:cdb9889e5986_24"},{"__ref":"Paragraph:cdb9889e5986_25"},{"__ref":"Paragraph:cdb9889e5986_26"},{"__ref":"Paragraph:cdb9889e5986_27"},{"__ref":"Paragraph:cdb9889e5986_28"},{"__ref":"Paragraph:cdb9889e5986_29"},{"__ref":"Paragraph:cdb9889e5986_30"},{"__ref":"Paragraph:cdb9889e5986_31"},{"__ref":"Paragraph:cdb9889e5986_32"},{"__ref":"Paragraph:cdb9889e5986_33"},{"__ref":"Paragraph:cdb9889e5986_34"},{"__ref":"Paragraph:cdb9889e5986_35"},{"__ref":"Paragraph:cdb9889e5986_36"},{"__ref":"Paragraph:cdb9889e5986_37"},{"__ref":"Paragraph:cdb9889e5986_38"},{"__ref":"Paragraph:cdb9889e5986_39"},{"__ref":"Paragraph:cdb9889e5986_40"},{"__ref":"Paragraph:cdb9889e5986_41"},{"__ref":"Paragraph:cdb9889e5986_42"},{"__ref":"Paragraph:cdb9889e5986_43"},{"__ref":"Paragraph:cdb9889e5986_44"},{"__ref":"Paragraph:cdb9889e5986_45"},{"__ref":"Paragraph:cdb9889e5986_46"},{"__ref":"Paragraph:cdb9889e5986_47"},{"__ref":"Paragraph:cdb9889e5986_48"},{"__ref":"Paragraph:cdb9889e5986_49"},{"__ref":"Paragraph:cdb9889e5986_50"},{"__ref":"Paragraph:cdb9889e5986_51"},{"__ref":"Paragraph:cdb9889e5986_52"},{"__ref":"Paragraph:cdb9889e5986_53"},{"__ref":"Paragraph:cdb9889e5986_54"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:c50c70d779e7"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Fitnext.io\u002Fdo-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"programming"}],"isPublished":true,"latestPublishedVersion":"cdb9889e5986","visibility":"PUBLIC","postResponses":{"__typename":"PostResponses","count":0},"clapCount":142,"allowResponses":true,"isLimitedState":false,"title":"Do not miss messages when Kafka Topic Partitioned","isSeries":false,"sequence":null,"uniqueSlug":"do-not-miss-messages-when-kafka-topic-partitioned-915dcb2bfc0b","socialTitle":"","socialDek":"","canonicalUrl":"","metaDescription":"","latestPublishedAt":1734644279718,"readingTime":6.928301886792453,"previewContent":{"__typename":"PreviewContent","subtitle":"A quick introduction to balance strategies. Consume events in the newly added partitions using Golang IBM\u002F sarama on the Kafka topics."},"previewImage":{"__ref":"ImageMetadata:0*0ZFcVifygpfnD7Wv.png"},"isShortform":false,"seoTitle":"","firstPublishedAt":1734334341698,"updatedAt":1734644279782,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","viewerEdge":{"__ref":"PostViewerEdge:postId:915dcb2bfc0b-viewerId:lo_8a43ad1ba856"},"isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:golang"},{"__ref":"Tag:kafka"},{"__ref":"Tag:microservices"},{"__ref":"Tag:programming"},{"__ref":"Tag:coding"}],"isNewsletter":false,"statusForCollection":"APPROVED","pendingCollection":null,"detectedLanguage":"en","wordCount":1783,"layerCake":0,"responsesLocked":false}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.48bdf878.js"></script><script src="https://cdn-client.medium.com/lite/static/js/9865.1496d74a.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.872afbe3.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.d9108df7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.ff22a7a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9120.5df29668.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5049.d1ead72d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4810.6318add7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6618.db187378.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2707.a4e221ac.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9977.933c1c9a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8599.73cb8339.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5250.9f9e01d2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9898.d9e26c5e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2648.26563adf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8393.826a25fb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4863.28ab43f6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6589.247b1d02.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5642.0f82ef97.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6546.cd03f950.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6834.8aa8d357.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2420.2a5e2d95.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/839.1c286b32.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7975.60bcefe8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2106.0350840b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7394.73a57633.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5794.9e8ff5dd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8204.7749bc66.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4391.59acaed3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.2dc8b1c6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8414.6565ad5f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3974.8d3e0217.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2527.d5e0c2f5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostResponsesContent.7ad7ca92.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/responses.editor.5a11f4da.chunk.js"></script><script>window.main();</script></body></html>