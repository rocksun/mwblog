
<!--
title: Rust编程语言入门
cover: https://cdn.thenewstack.io/media/2024/12/9ff60da8-rust-programming-image-1.jpg
-->

深入 Rust：一种用于大型项目的极速、内存安全的语言。轻松构建安全、并发的系统。立即加入 Rust 社区！

> 译自 [Introduction to Rust Programming Language](https://thenewstack.io/rust-programming-language-guide/)，作者 TNS Staff。

## Rust编程语言介绍

[Rust](https://www.rust-lang.org/)是一种编程语言，它重视安全、速度和并发性。它始于[2006年Graydon Hoare的个人项目](https://thenewstack.io/graydon-hoare-remembers-the-early-days-of-rust/)，并在2010年Mozilla Research赞助其开发用于创建新的网络浏览器后声名鹊起。它在保持性能的同时提供内存安全。与同类语言不同，Rust通过其编译时所有权系统来实现这一点，而不是依赖于运行时垃圾收集器。

**Rust的关键特性**

- **内存安全**：Rust的所有权规则以及借用检查器保证始终维护内存安全。这消除了诸如空指针取消引用和缓冲区溢出之类的错误类别。
- **速度**：Rust旨在通过利用零成本抽象来匹配甚至超越C和C++的执行速度。这意味着包括迭代器、卫生宏和模式匹配在内的人体工程学编程概念被转换为与使用不太舒适、更手动编码风格一样级别的优化、高性能代码。
- **并发**：Rust的所有权和类型系统使开发人员能够自信地处理并发，确保多线程程序运行时线程不会相互干扰对共享数据的访问。

Rust在开发人员中迅速普及，其应用范围从Web应用到操作系统。其日益增长的吸引力得到了一个积极的社区的支持，该社区增强了一系列工具和库。

## 为什么选择Rust？

Rust提供的好处吸引了开发人员进行各种编程任务，包括系统编程、嵌入式开发和Web开发。以下是一些促使开发人员选择Rust来创建高性能服务和安全应用程序的因素。

**使用Rust的优势**

- **设计确保安全**：Rust对安全的关注不需要运行时检查的资源。相反，它依赖于编译时检查以确保内存安全，从而减少软件开发中安全漏洞的可能性。
- **零成本抽象**：Rust的零成本抽象概念确保其高级抽象能够高效地编译为机器代码。此功能使开发人员能够利用以前仅在动态语言中可用的语言特性，而不会降低性能。
- **无畏并发**：Rust独有的确保内存安全和管理数据所有权的方法能够以无缝的方式创建代码。这对于构建能够充分利用当今多核处理器能力的应用程序至关重要。
- **有用的错误消息**：编译器会提供具体的错误消息，通常还会伴随智能建议。这使得开发富有成效且令人满意。
- **活跃的社区和丰富的生态系统**：Rust社区以友好和高度参与而闻名。初学者会欣赏Rust的文档和支持性环境，包括教程、论坛和用户组。
- **无缝的依赖项管理**：Rust社区的开源生态系统非常庞大。主要的包索引，[crates.io](https://crates.io/)，包含超过100,000个适用于各种用例的包。
- **最小的运行时**：Rust的轻量级运行时非常适合嵌入式系统和类似性能驱动型设置中的应用程序，这些设置需要谨慎管理资源。
- **强大的工具**：Rust集成的包管理器和构建工具，[Cargo](https://github.com/rust-lang/cargo)，提供了一个用于处理项目、依赖项和交叉编译任务的系统，从而提高了开发人员的效率和项目组织性。
- **易于移植和静态编译**：将程序从开发操作系统编译到其他操作系统上运行很容易。这使得轻松分发软件，而不会给用户带来复杂的安装步骤的负担。

**为什么公司采用Rust**

全球各地的企业都在采用Rust，因为它使他们能够创建不仅安全高效，而且比其他[编程语言](https://thenewstack.io/programming-languages/)更容易维护和排除故障的软件。

像[Google](https://cloud.google.com/?utm_content=inline+mention)、[Microsoft](https://news.microsoft.com/?utm_content=inline+mention)和[Meta](https://about.meta.com/?utm_content=inline+mention)这样的主要科技巨头已将其软件系统整合到Rust中，并报告了性能和安全性的改进。
Rust 尤其在可靠性和速度至关重要的行业中流行，例如航空、金融和游戏行业。

其保证内存安全和线程安全的能力使其成为需要在处理过程中保证可靠性的系统的首选。

鉴于这些优势，Rust 有望成为构建快速、可靠和弹性软件应用程序浪潮的主要语言。


## 设置 Rust 环境

开始使用 Rust 涉及设置开发环境，您可以在其中编写、编译和管理您的 Rust 项目。由于使用了官方安装程序和版本管理工具 [Rustup](https://www.rust-lang.org/tools/install)，Rust 的工具链安装和使用非常简单。以下是设置 Rust 环境的方法。

**安装 Rust 的步骤**


**1. 下载并安装 Rustup。**

- 访问 Rust 官方网站并下载 [Rustup](https://www.rust-lang.org/tools/install)。Rustup 管理 Rust 安装并使其保持最新。它还安装 rustc（编译器）、cargo（包管理器）和 std（标准库）。
- 要安装 Rustup，在基于 Unix 的系统上，您可以在终端中运行以下命令：`curl --proto '=https' --tlsv1.2 -sSf https://sh.rust-lang.org | sh`
- Windows 用户可以从网站下载并运行 Rustup 安装程序 [Rustup.rs](https://rustup.rs/)。

**2. 配置 PATH。**

安装后，Rustup 将提示您将 Rust 工具链添加到 PATH 中。这通常由 Rustup 自动处理，但您可能需要重新启动终端或手动配置系统设置中的 PATH 才能从任何命令行使用 Rust 工具。

**3. 验证安装。**

打开一个新的终端窗口并键入：

`rustc --version`

此命令应返回 Rust 编译器的当前版本，表明 Rust 已正确安装。


**Cargo 入门**

Cargo 是 Rust 的构建系统和包管理器。它负责下载库、编译包、制作可分发包等等。以下是使用它创建第一个项目的方法。

**1. 创建一个新项目。**

- 运行以下命令以创建一个新的 Rust 项目：`cargo new hello_rust`
- 这将创建一个名为 hello_rust 的新目录，其中包含基本的项目结构。

**2. 构建并运行您的项目。**

- 导航到您的项目目录：`cd hello_rust`。
- 使用以下命令编译并运行您的项目：`cargo run`
- 此命令将编译代码，然后运行生成的执行文件。对于新项目，这应该会在控制台中打印“Hello, world！”。

**探索 Rust 生态系统**

- **Crates.io:** 查看 Crates.io，这是 Rust 库（板条箱）的官方存储库。您可以找到各种功能的库，可以通过 Cargo 将其添加到您的项目中。
- **Rust 文档:** Rust 编程语言拥有优秀的文档。探索 Rust Book 和 API 文档以进行深入学习和参考。

此设置为您提供了开始尝试使用 Rust 并构建您自己的项目所需的基础。

**Rust 工具和生态系统**

Rust 以其性能和安全措施而闻名，但也以其可靠的工具集和活跃的社区而闻名，这两者都在其广泛接受和吸引力中发挥着关键作用。

本节深入探讨 Rust 环境中的工具、围绕它的活跃社区以及推动该语言发展的各种项目。

**Cargo：Rust 包管理器**

Cargo 是 Rust 开发的核心，它简化了构建代码、管理依赖项和发布包等任务。

- **项目管理**：Cargo 使用名为 `Cargo.toml` 的清单来管理项目设置和依赖项。典型的 `Cargo.toml` 文件可能包含的示例包括包详细信息和列出版本号的依赖项部分。
- **构建和运行项目**：`cargo build` 和 `cargo run` 命令用于编译和执行项目，确保所有依赖项都已正确编译。
- **测试**：`cargo test` 命令用于促进运行单元测试，支持在整个开发过程中进行持续测试实践。
- **基准测试**：`cargo bench` 命令运行项目的基准测试套件，以促进最佳性能。
- **文档**：开发人员可以使用 `cargo doc` 从其代码注释生成 HTML 文档，类似于 JavaDoc 或 Doxygen 等其他文档标准。

**其他提高生产力的工具**

* [Rustfmt](https://github.com/rust-lang/rustfmt): 此工具提供一套 lint，用于识别常见错误并建议改进，以提高 Rust 代码的效率和可读性。
* **Clippy:** 对于无缝的 IDE 集成至关重要，提供代码补全和实时错误检查等功能，从而增强开发工作流程。
* **Rust Analyzer:**对于无缝集成的IDE至关重要，提供诸如代码补全和实时错误检查等功能，提升开发流程。


**参与 Rust 社区**

* **Crates.io:** Rust 库（称为 crates）的官方存储库，开发者可以在其中分享他们的工作并找到项目所需的依赖项。
* **用户组和会议:** 全球 Rust 社区包括众多用户组和年度聚会，例如 RustConf，这些活动促进网络和协作。
* **在线论坛:** 诸如 [users.rust-lang.org](http://users.rust-lang.org) 和 Rust subreddit 等平台是 Rust 开发者讨论、支持和辩论的中心。


**Rust 在开源和行业中的应用**

* **开源项目**:许多 Rust 项目是开源的，欢迎来自世界各地的开发者的贡献。例如，Mozilla 的浏览器引擎 Servo 和类 Unix 操作系统 Redox。
* **企业采用** :Google、微软和 Meta 等公司在其基础设施中利用 Rust，并被其安全特性和性能所吸引。Rust 被用于可靠性和效率至关重要的环境中。


## 学习资源和社区

Rust 以其全面的文档和学习资源而自豪，这些资源可满足新手和经验丰富的程序员的需求。

本节将指导您了解可用于学习 Rust 的大量资料，并重点介绍社区如何成为您开发旅程中不可或缺的一部分。

**综合文档**

Rust 提供了详细的文档，这对于新用户尤其有用。

通常被称为“The Book”，这份综合指南可在网上免费获取，是学习 Rust 的绝佳起点。它涵盖了从基本概念到高级功能的所有内容。

* **“The Rust Programming Language”书籍**: 此资源提供了一系列可运行的示例，这些示例说明了各种 Rust 概念和标准库功能，使学习者能够实际看到 Rust 代码。
* [Rust by Example:](https://doc.rust-lang.org/rust-by-example/): 旨在让您习惯阅读和编写 Rust 代码的小练习。它们非常适合初学者探索该语言的语法和基本概念。
* **Rustlings**：一些小练习，旨在让你习惯阅读和编写 Rust 代码。它们非常适合初学者探索该语言的语法和基本概念。

**社区支持**

Rust 社区以热情好客和乐于助人而闻名，这使得学习这门语言变得更容易和更愉快。

* **用户论坛:** 官方 Rust 用户论坛是提问、寻找答案以及与其他 Rust 开发者讨论主题的好地方。
* **Rust Subreddit:** 一个活跃的 subreddit，提供关于 Rust 的新闻、更新和讨论。
* **Rust Discord 和 IRC:** 您可以从世界各地的其他 Rust 用户那里获得帮助的实时聊天平台。


**开发工具和 IDE 支持**

Rust 开发者可以使用优秀的工具和 IDE 支持，这可以大大增强学习和开发过程。

* **集成开发环境 (IDE):** Visual Studio Code、IntelliJ Rust 等平台提供专门为 Rust 开发设计的插件和扩展。这些工具提供代码补全、错误检测和代码导航等功能。
* **在线 playground:** Rust Playground 和其他在线 IDE 允许您在 Web 浏览器中编写和运行 Rust 代码，这非常适合在不安装任何东西的情况下试验该语言。


**社区项目和贡献**

参与社区项目是提高 Rust 技能的绝佳方式。

* **GitHub 存储库:** 许多 Rust 项目是开源的，可在 GitHub 上获得。为这些项目贡献代码可以帮助您向经验丰富的开发者学习并获得实践经验。
* **本地聚会和会议:** 参加本地 Rust 活动和国际会议可以增强您对 Rust 的理解，并使您与其他开发者和潜在合作者建立联系。


**学习路径和教程**

各种在线平台提供针对不同技能水平的课程和教程。

* **初学者教程:** 帮助新用户了解 Rust 编程的基础知识。
* **高级课程:** 对于希望加深对 Rust 更复杂方面（如并发、所有权和生命周期）的了解的经验丰富的开发者。

无论您处于学习路径的哪个阶段，这些丰富的资源都能确保您拥有所有必要的工具和社区支持，以增强您在 Rust 方面的专业知识和理解。


## Rust 的实际应用

Rust 不仅仅是一门学术界感兴趣的编程语言，它还在各个领域都有着重要的实际应用。其性能、可靠性和安全性使其成为这些特性至关重要的行业的绝佳选择。

本节重点介绍 Rust 正在产生影响的一些关键领域，并展示成功的案例研究。

**系统编程**

由于 Rust 能够同时提供安全性和性能，因此它被广泛用于系统编程。

- **操作系统**：Rust 用于开发操作系统，例如完全用 Rust 编写的 Redox。此操作系统提供内存安全和并发功能，而无需运行时开销。
- **嵌入式系统**：Rust 正成为嵌入式系统编程的流行选择，因为它可以直接在硬件上运行，开销极小，同时确保比 C/C++ 更高的安全标准。

**Web 开发**

Rust 高效处理系统资源的能力使其适合后端 Web 开发。

- **Web 框架**：Actix Web 和 Rocket 等框架为 Web 应用程序提供了强大且可扩展的解决方案。这些框架利用 Rust 的性能优势来处理高负载，并降低延迟。
- **WebAssembly (Wasm)**：Rust 是用于编译 WebAssembly 代码的主要编程语言之一，WebAssembly 使 Web 上的高性能应用程序成为可能。Rust 的 Wasm 支持允许开发人员编写以接近原生速度在 Web 浏览器中运行的代码。

**密码学和安全**

Rust 在安全性和并发性方面的保证使其非常适合加密应用程序和安全驱动型软件。

- **密码库**：ring 和 sodiumoxide 等库是用 Rust 实现的，提供了安全快速的加密原语。
- **安全工具**：Rust 用于开发安全工具和应用程序，其中内存安全至关重要，有助于防止其他编程语言中常见的漏洞。

**游戏开发**

Rust 逐渐在游戏开发中获得关注，它以其安全性和性能承诺，为 C++ 提供了一种引人注目的替代方案。

- **游戏引擎**：Bevy 是一个用 Rust 构建的数据驱动型游戏引擎，旨在为游戏开发提供高度并行和可配置的框架。
- **独立游戏**：越来越多的独立开发者选择 Rust 来构建游戏，这得益于其强大的并发和内存管理能力。

**行业应用**

由于 Rust 的优势，大型科技公司已开始采用 Rust：

- **Google**：在 Android 操作系统和其他性能关键型基础设施中使用 Rust 编程语言。
- **Microsoft**：积极地将 Rust 用于 Azure 中的安全系统，尤其是在易受内存安全问题影响的领域，例如 Windows 内核。在多个服务中使用 Rust 以利用其安全性和性能特性。
- **Amazon AWS**：在其多个服务中使用 Rust，以利用其安全特性和性能优势。

## 结论

在我们对 Rust 的探索中，我们深入研究了其核心概念、实际应用和社区参与机会。

很明显，Rust 不仅仅是一种编程语言；它形成了一个生态系统。在 The New Stack，我们关注所有与 Rust 相关的事物，包括新闻、详细教程和引人入胜的对话。

无论您是 Rust 新手并渴望学习，还是寻求提升技能的开发人员，[thenewstack.io](https://thenewstack.io/) 都是您关于 Rust 的一切的目的地。我们鼓励您访问我们并关注我们的更新，以保持与 Rust 社区的联系。
