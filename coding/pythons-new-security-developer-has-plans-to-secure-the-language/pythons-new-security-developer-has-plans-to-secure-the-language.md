<result>

今年年初,Python 软件基金会聘用了 Python 程序员 Seth Larson 担任新的由 Linux 基金会下属的非营利组织开放软件安全基金会资助的安全开发驻地角色。

Larson 在一次电子邮件采访中表示:“我热衷于开源维护的可持续性”,“实现我认为的开源安全可持续的理想模式一直是我的梦想”。

这个职位的资金来自 OSSF 的 Alpha-Omega 项目,该项目根据其网站介绍,其“与开源软件项目维护者合作,系统地在开源代码中发现新的、未被发现的漏洞,并予以修复,以改善全球软件供应链的安全性”。

Larson 仅仅是最近被聘来帮助 Python 生态系统的众多全职开发者中的一位。自2021年7月以来,还聘请了一名驻地开发者 - 不久将由一名新的副驻地开发者加入。然后在8月,基金会又招聘了第一个用于 PyPI 的全职安全和安全工程师,PyPI 是官方仓库,拥有近50万用户贡献的 Python 项目可用于安装。

在寻找新的安全开发人员时,Larson 长期以来在 Python 社区的参与绝对是一个加分项。除了为许多开源项目做出贡献之外,Larson 的网站还指出他是最受欢迎的 HTTP 客户端库 urllib3 的首席维护者,“这是 Python 包索引上下载量最高的包,下载量超过100亿次”。

但 Larson 也看到了产生更大影响的可能性:证明对关键社区的投资对改善其安全态势的有效性 - 从而加强整个软件供应链。

Larson 表示:“软件生态系统之间有很多可以互相学习的地方,所以我一直在记录我学到的所有知识 - 以便其他人在自己的生态系统中复制我的工作!”

制定安全威胁图

Larson 表示他从整体审视 Python 的整个发布过程开始。 具体来说,他为每个阶段创建了一个图表,“然后将该图与开源软件的常见供应链威胁进行匹配。” 

Larson 说:“这个过程给了我一些关于从何处开始保护发布过程的好主意。” (除其他事项外,Larson 现在正与版本发布管理员以及驻地开发者 Łukasz Langa 合作改进 macOS 和 Windows 构建。) 在最近的演讲中,Larson 表示他正在探索工作量减轻的自动化方案,例如 Azure Pipelines,这也可能增强安全性。 Larson 说:“构建时期的恶意软件注入已经发生在多个其他开源项目中,对用户造成灾难性后果。”

Larson 在一篇博文中还分享了7月对 Python 版本签名所进行的审计细节。 Larson 表示,他希望确保最终用户看到的签名与文档一致,所以“他编写了几个简单的脚本,这些脚本针对 Python 的每个版本工件及其签名进行了下载和验证尝试,并发布了结果。” 然后在签名审计之后,Larson “与版本发布管理员合作修复了发现的差异”,帮助标准化了较旧版本的签名,甚至在 Python 的版本控制工具中添加了控制,“在发布之前防止签名发生任何错误或混乱。”

不久之后,Larson 被邀请加入 Python 安全响应小组,在那里他一直在帮助协调错误修复工作(因此 Python 的志愿开发者不必连续监视传入报告,以防需要他们响应)。

Larson 在他的第三季度报告中还写道,通过“将报告和评审过程迁移到使用 GitHub 安全建议的 GitHub”来添加了一些自动化流程。 但在此过程中他了解到的一件事是关于如何为新发现的漏洞分配 CVE 编号。

这些问题主要由美国国土安全部的国家网络安全司指定。 出人意料的是,实际上可以在不与 Python 项目的任何人交谈的情况下为 Python 漏洞获取 CVE 编号!

Larson 表示这已经导致“不是安全漏洞的报告被接受为 CVE”的情况(这当然“对用户造成了困惑”)。 Larson 认为,如果 Python 的核心开发人员可以直接将他们的补救提示(以及更新和其他信息)直接添加到 CVE 中会更好,也更快。

Larson 开始着手解决这个问题,到8月,Python 软件基金会已被授权成为 CVE 编号机构(用于 Python 编程语言和 Python 包安装程序)。 Larson 表示,他将与 PSF 的基础设施主任 Ee Durbin 以及他们的一位基础设施工程师 Chloe Gerhardson 分担 CVE 编号机构的主要职责。

除其他好处外,CVE 编号机构的授权还为 CNA 操作带来了专门的资金支持(“而不是需要依靠志愿者的时间”),这减轻了之前被指派自己发布安全公告的 Python(和 PIP)维护者的工作量。

PSF 在一篇博文中还表示,希望这最终能够导致“发布更丰富的公告和 CVE 记录,其中包括描述、元数据和补救信息”。 (未来的 CVE 将由相关的安全响应小组进行审查和批准,更详细的信息将直接来自 Python 项目。) Larson 表示:“自成为 CNA 以来,我们已经重振了 security-announce@python.org 邮件列表,用于在 Python 和 pip 中发现新的漏洞时警告 Python 用户。”

在8月底,Larson 在他的周度博文中写道:“我发布了第一个端到端的 Python 漏洞披露”,其中包括“协调发布修复的 Python 版本,并将建议发布到 security-announce@python.org 邮件列表和 PSF 公告数据库...” 

Larson 写道:“现在我已经从端到端体验了流程,我可以开始考虑在哪里有改进的可能性,以及我们的‘清单’上需要什么内容来减少补救开发者、发布管理员和协调员的压力和猜测。”

帮助其他开源社区

但是所有这一切可能只是个开始。 Larson 在 8 月的一篇博文中解释道:“PSF 希望帮助其他开源组织”,“将分享经验教训并制定有关成为 CNA 及日常运营的指导方针。” Larson 表示,他已经就成为 CNA 的经验与 Curl 项目进行了交流,以帮助 Curl 项目采取相同的步骤。 为了进一步分享这种经验,“我在 OpenSSF 的漏洞披露工作组下撰写了一份指南,指导开源项目如何成为 CNA。”

Larson 在另一篇博文中指出,美国政府“正在征求更广泛社区的想法,关注在哪里并采取何种行动来改善开源软件的安全性。” (11月初,Larson 已与其他同事磋商了数月,并急于在截止日期前提交意见。) Larson 写道:“无论美国政府做什么,都可能对维护和使用开源软件的每个人产生巨大影响,所以在思考可持续性方面做出政策和决策至关重要。” 

Larson 表示:“我很荣幸能成为其中的一份子,通过我作为安全开发驻地的工作为这个征求意见以及每天为数以万计的 Python 用户服务。”

Larson 的未来项目包括进一步加强 Python 的发布流程,以及“大量的打包标准工作” - 这里也需要更大社区的参与。 在他的演讲中,Larson 表示他也在联系一些与安全相关的有趣的 Python 增强提案(PEP)的作者。

一个 PEP 建议安装程序创建一个 JSON 格式的记录,显示 Python 分发版的来源和唯一的分发哈希。 Larson 表示,他实际上创建了一个实验工具来测试这个 PEP,使用 PEP 的参考实现为 Python 的包管理器生成了 SBOM 文档(SPDX 和 CycloneDX 格式)。 

Larson 还表示,他希望有一天能为捆绑项目的元数据创建自己的标准 - 在某些情况下甚至包括其他不是用 Python 编写的项目。 (在演讲中,Larson 表示他已经发现并报告了其中两个包含漏洞的捆绑项目。)

Larson 还在尝试为关键项目如 CPython 和 PIP 创建权威的软件清单(SBOM) - 然后在为其他 Python 包创建 SBOM 时可以更方便地使用这些信息。 最终目标是能够轻松获取元数据信息并自动获得当前一批自动生成 SBOM 工具的支持。

可持续性、清晰度、可见性

在 9 月的演讲中,Larson 强调了他的三个“指导原则”:可持续性、清晰度和可见性。 他表示,“可持续性”意味着关注产生持久影响的事情 - 最理想的是,以需要最小维护的方式实现。 Larson 说:“这些是改善流程、增加自动化、处理官僚程序或发布标准等事项。” 随着大量新的安全工具涌现,Larson 致力于对这些工具进行提炼和理清。 Larson 表示:“我工作的一个重要部分就是将安全领域正在发生的一切进行梳理,然后与合适的人一起合作项目,以确保能实现这些工具的价值。”

但 Larson 认为“可见性”应以定期发布博文和公开公告的形式出现,以给予安全话题应有的更高关注度。 Larson 表示:“我们都应该为自己在保障社区安全方面做的工作感到自豪,并进行庆祝...... 确保这方面当前和未来的成功需要谈论正在做的工作并突出还有哪些机会。” 

那么 Larson 的这些举措效果如何呢? Larson 在 10 月的一篇博文中写道:“我对目前为止所取得的成就感到相当自豪”,“我认为这表明了通过聘请全职人员承担这些角色来投资开源安全的重要性。”

Larson 表示,他收到了感激的评论,一些维护者对他在安全方面提供的帮助感到松了一口气。 Larson 写道:“核心开发人员和更广泛的社区对我的工作反馈非常积极。”

Larson 甚至在新的 Python 核心播客上获得了来自 Python 核心开发人员 Pablo Galindo Salgado 和驻地开发人员 Lukasz Langa 的称赞。在我们的电子邮件交谈中,Larson 表示,能够“对我如此热爱的社区产生积极影响,这对我来说非常有意义”。 

Larson 写道:“到目前为止,我的工作经历非常令人振奋。”

</result>