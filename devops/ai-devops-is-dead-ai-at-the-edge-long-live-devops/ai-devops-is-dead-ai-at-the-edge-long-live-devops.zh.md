人工智能正在改变软件交付生命周期（SDLC）。人工智能正在帮助编写代码、优化代码、审查代码、调试代码等等。还有代码本身：SaaS 产品正在将人工智能融入到摘要功能、聊天功能和各种形式的分析中。

最后，人工智能，特别是[生成式人工智能](https://thenewstack.io/keeping-up-with-ai-the-painful-new-mandate-for-software-engineers/)（GenAI），对软件交付生命周期还有其他影响，例如对非确定性人工智能输出的可观测性。幻觉可能会像“差一错误”和缓存失效一样，成为许多编程笑话的笑点。

但人工智能并没有真正改变的是对 [DevOps](https://thenewstack.io/devops/) 的需求：这是一种更快、更频繁地向生产环境交付更高质量代码的实践。根据 [DORA 的 DevOps 状态报告](https://thenewstack.io/dora-2024-ai-and-platform-engineering-fall-short/)，有四项经统计证实的指标可以描述软件交付在这几个方面的性能：变更前置时间、部署频率、变更失败率和故障部署恢复时间。我们稍后会再谈到这些。

根据 Google Trends 的数据，“DevOps”一词的兴趣在 2022 年 3 月达到顶峰。在经历了此前 10 年的稳定增长后，现在这个词的热度正在逐渐下降。另一方面，自 2022 年 11 月 ChatGPT 发布以来，人们对人工智能的兴趣呈爆炸式增长。这是巧合吗？我不这么认为。

> 人工智能正在夺走人们关注的焦点。但这是否意味着人工智能正在以某种方式取代或消除对 DevOps 的需求？ 绝非如此。 事实上，情况恰恰相反。

从表面上看，人们可能会认为人工智能已经取代了 DevOps。但是，正如一位聪明的数据科学家曾经说过的那样，相关性并不等于因果关系。当然，人工智能正在夺走人们关注的焦点。但这是否意味着人工智能正在以某种方式取代或消除对 DevOps 的需求？ 绝非如此。 事实上，情况恰恰相反。

## DevOps：想要体验人工智能，你必须达到这个高度

我曾经做过一个关于 [DevSecOps 如何发音为 “DevOps”，因为 “Sec” 是无声的](https://www.youtube.com/watch?v=xAN76xwGRJg) 的演讲。我认为，如果你真的正确地执行 DevOps，你的“更高质量的代码”将具有更少的安全漏洞，并且你“更快、更频繁”地部署的能力包括对任何剩余漏洞的补丁和修复。它需要相同的肌肉群。事实上，如果没有强大的 DevOps 实践，组织通常会在生产环境中存在大量已知的漏洞。

同样的 DevOps “肌肉群”也适用于人工智能。为什么？因为人工智能需要高频率的代码更新、自动化的质量流程和快速的修复方法。看看 [Hugging Face](https://huggingface.co/) — 人工智能领域的 GitHub — 你会发现基础模型正在快速发展。用于重新训练或 [检索增强生成（RAG）](https://thenewstack.io/retrieval-augmented-generation-for-llms/) 的数据集会不断更新。Prompt 工程是迭代的，并且可以触发人工智能代码库中的更改。

> 如果你还没有为你的“常规”非人工智能代码掌握 DevOps，那么你在实施人工智能时将面临更多挑战。不存在“跳过”DevOps 趋势的情况。

换句话说，如果你还没有为你的“常规”非人工智能代码掌握 DevOps，那么你在实施人工智能时将面临更多挑战。不存在“跳过”DevOps 趋势的情况。如果你想以高频率部署模型更新，请从熟悉的非人工智能代码库开始。

这还只是 DevOps 中“更快、更频繁”的部分。能够交付“更高质量”的人工智能代码同样至关重要。没有人希望人工智能代码容易受到 prompt 注入的攻击。每个人都希望经过测试和对齐的人工智能模型。如果你确保人工智能代码正常工作和安全性的实践与快速交付更新相冲突，那么你将拥有过时的人工智能或损坏的人工智能。因此，请确保你拥有代码质量实践，使你能够自信地快速部署代码。

*（题外话：MLOps 呢？AIOps 呢？是的，MLOps 已经发展到将 DevOps 原则应用于机器学习模型的生命周期。MLOps 的一些伟大进展将帮助你将 DevOps 实践扩展到人工智能。但让我们面对现实：MLOps 不是你开始的地方。MLOps 是你如何在 DevOps 基础上构建以支持运行人工智能工作负载的一部分。然而，AIOps 变得与使用人工智能和机器学习来协助 IT 运营相关联。这对于处理软件堆栈上下产生的大量数据很有用，但这与在生产环境中运行人工智能本身不同。）*

## 案例研究：边缘人工智能需要边缘 DevOps

DevOps 和云共同成长。云中计算的聚合和抽象是对 DevOps 自动化的极佳补充。围绕 “云原生” 工具涌现出了整个生态系统，其中大部分都支持实现 DevOps 的成果。DevOps 实践在许多组织中已经成熟，围绕将代码部署到云端而实施。

许多工作负载已经转移到云端。特别是，面向用户的应用程序已经从笨拙的本地部署转变为产品驱动的 SaaS。在任何 SaaS 应用程序的背后，你都会找到业内最好的 DevOps 从业者。企业一直在努力赶上数字宠儿，许多大型银行和媒体公司现在都拥有 DevOps 思想领导力。

但是，有整类软件无法迁移到云或数据中心。而且会有更多的软件必须在边缘运行。为什么？因为在边缘（石油钻井平台、工厂车间、船只，甚至是零售商店）生成的数据，如果全部发送回云端进行处理，成本可能太高，速度也太慢。

例如，考虑一家工厂，其整个装配线上都安装了摄像机，用于扫描生产缺陷。将所有这些数据发送到云端将是成本高昂的。接下来，考虑一个石油钻井平台，其关键阀门上装有压力传感器。在数据发送到云端、经过分析并发送回命令来修复问题之前，阀门可能已经灾难性地失效了。

边缘的数据密集性为人工智能用例提供了巨大的潜力。它们[可能看起来与云中的人工智能不同](https://thenewstack.io/ai-is-coming-to-the-edge-but-it-will-look-different/)，但最近的一项调查发现，[90% 的首席信息官都在增加对边缘人工智能的投资](https://zededa.com/edge-ai-survey/)。回到我们之前的例子：工厂可以使用人工智能来分析摄像头拍摄的图像，并立即对有缺陷的零件采取纠正措施。能源公司可以分析来自钻井现场的本地数据，以便立即检测到即将发生的故障或优化钻井操作。这些只是边缘和人工智能共同发展的几个例子。

> DevOps 并没有消失，但在人工智能时代，它比以往任何时候都更加重要。

几乎矛盾的是，边缘的 DevOps 并没有像云中的 DevOps 那样快速成熟。这是因为许多 “云原生” 实践和工具都是基于一组在边缘不成立的假设。充足的计算、电力和存储的可用性。相对稳定和高带宽的连接。围绕服务器机架的物理安全。将为 DevOps 构建的基于云的系统整体迁移到边缘环境是行不通的。

这在边缘造成了一个难题。边缘拥有如此巨大的人工智能潜力，但却缺乏 DevOps 的成熟度，无法快速、频繁地将高质量的代码部署到边缘。我们如何克服这个问题？从基础开始：

* **不要像对待云一样对待边缘。** 拥抱边缘的现实，即使你在努力实现类似云的体验。边缘原生不是云原生。
* **使用 [DORA 指标](https://dora.dev/guides/dora-metrics-four-keys/) 来衡量边缘代码。** 确定你今天在四个关键指标上的基准。你在这些指标上的改进是关键绩效指标。
* **采取平台方法。** 不要一次解决边缘上的一个工作负载。每个工作负载都会带来 “朋友”（特别是安全性和连接性）。人工智能也不例外：你可能需要 Python、TensorFlow、PyTorch、Docker 等等。确保你正在解决所有组件和堆栈的所有层。
* **始终携带可观测性。** 不要盲目飞行。无论是应用程序代码、单个模型还是人工智能代理，都要有一种方法来了解代码在生产环境中的行为方式。观察模型与观察代码不同；你将需要测量推理时间、GPU 利用率以及推理请求计数和成功率。
* **不要忘记安全性。** 你的边缘人工智能应用程序不仅需要在零信任环境中工作，而且还需要在运行它们的设备被物理盗窃时表现得当。安全飞地和地理围栏等功能至关重要。
* **添加 MLOps。** 边缘的人工智能需要 MLOps 来管理应用程序中使用的 ML/AI 模型，包括从数据集收集和训练到模型版本控制、打包和监控模型性能的所有内容。一旦你拥有了坚实的 DevOps 基础，MLOps 就会引入其他特定于 AI/ML 的实践和模式，例如特征存储、模型注册表和数据集存储。

DevOps 并没有消失，但在人工智能时代，它比以往任何时候都更加重要。DevOps 成功和健康的衡量标准仍然是人工智能部署的有用指南。在 DevOps 实践不强的地方（例如在边缘），首先加强 DevOps，然后再引入人工智能。