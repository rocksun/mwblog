科切拉音乐节（Coachella）——以及任何音乐节的成功——都不是偶然的。在150多位艺术家在多个舞台之间平稳过渡的背后，是时间、资源和协调的复杂编排。这是一项令人印象深刻的事业，而且有人可能会说，音乐节制作和企业IT运营之间存在相似之处。

我一直对IT运维人员和后台工作人员之间的相似之处很感兴趣，他们通常是默默无闻的英雄，在幕后默默工作，为观众提供无缝且愉快的音乐体验。

音乐节制作人编排了一个复杂的生态系统，其中失败是不允许的，观众希望获得无缝的体验，而无需了解其背后的复杂性。同样，IT团队也有内部和外部客户，他们希望以100%的成功率来协调部署。他们需要预测失败，并意识到设计中固有的复杂性。

ITOps是关于管理和协调大量任务，其中一些任务并行运行，另一些任务需要排序，有些任务需要临时执行，而另一些任务必须安排在当天晚些时候执行。当然，还有管理漏洞和维护合规性的额外负担。

时至今日，我仍然看到大大小小的IT组织试图手动协调复杂的任务。他们试图通过一种错误的省钱方式，结果却惊人地未能按时完成工作负载。成本不仅上升，而且漏洞也会乘虚而入。陷入两难境地，补救措施会带来更大的压力，很快，他们就会发现自己陷入了手动检测和修复的恶性循环。

编排可能是一个简单而有效的解决方案。

## **编排比以往任何时候都更重要**

任务编排超越了简单的自动化。虽然自动化侧重于执行单个任务，但编排会协调多个自动化流程以和谐地工作。复杂的IT基础设施需要精简且成熟的编排功能，以帮助实现更高的运营效率和更快的事件解决。例如：

* **充当资源调度引擎**：音乐节系统按需分配电力容量、技术人员和设备。企业的要求没有什么不同。DevSecOps流程包括跨VM、容器、边缘设备和云原生服务的工作负载。编排解决方案可以显著帮助跨异构系统动态分配和调度资源。考虑一下IT团队何时需要分配计算和内存资源，这可能基于优先级（例如，停机）或安全态势（例如，漏洞），或者何时必须基于诸如漏洞警报或合规性扫描之类的事件动态扩展或缩减。在这些情况下，编排解决方案可以创建动态关闭节点、启动新实例并执行各种修复任务（临时或预先计划）的工作流程。
* **帮助实现自动化依赖关系管理**：在复杂且动态的IT环境中，资源、服务和安全控制之间的依赖关系不断变化。CI/CD工具、安全扫描程序和云平台引入了它们的依赖关系。例如，容器必须在部署前进行扫描，并且密钥必须在服务重新启动之前轮换。在所有这些情况下，都需要重新计算依赖关系。手动管理这些依赖关系几乎是不可能的，而且是一项非常艰巨的任务，尤其是在大型环境中。有效的编排有助于维护这些依赖关系，并使所有流程在相互依赖的工具和环境中正确执行，从而避免所有手动交接。
* **提供实时监控**：改变的力量在于观察的能力。我确信音乐指挥会为之担保。拥有整个合奏的更广阔视野使您能够进行指挥和纠正。同样，ITOps需要对IT环境进行实时可见性和控制。提供完整仪表板的编排解决方案提供跨所有运营区域的指标，例如企业**可观测性**平台。这有助于运维人员监控系统并实时检测异常，从而使他们能够专注于高优先级事件并在不同的团队之间进行协作。
* **通过容错保持系统弹性**：即使在不利条件下，IT运维人员也负责系统的可用性、安全性和性能。DevSecOps管道专为持续交付而设计。基础设施或安全性方面的任何失败都可能会中断此流程。拥有容错机制可以实现运营连续性和安全部署。通过编排，IT运维人员可以将容错策略定义为代码，以实现对任何类型故障的一致且可重复的响应。这包括冗余组件和故障转移机制，以帮助实现持续运行，尽管个别组件发生故障。

## **后端和后台：编排解决的问题**

虽然编排解决了许多问题，但我列出了在与利益相关者的对话中经常出现的两种情况。我可以有把握地说，这两种事件模拟并巩固了我们在编排上下文中讨论过的大多数其他用例。

### **当漏洞来袭时**

漏洞就像舞台上发生的小故障：出乎意料且具有破坏性。当出现安全漏洞时，手动响应涉及多个耗时的步骤，从审计基础设施和确定影响，到创建修复计划和执行修复。每个步骤都是单独执行的，不一定自动、并行或及时执行。

编排就像舞台监督，让ITOps可以灵活地在代码中定义一组操作，自动化其执行并修复漏洞，而无需手动相互依赖。响应不仅更快，而且还使运营能够以他们需要的任何方式、在他们需要的任何时间针对特定的节点。

### **当您需要控制您的发布时**

在执行受控发布时，可以得出类似的结论。编排解决方案可以用于：

* 自动识别受感染的节点
* 针对那些特定的节点进行修复
* 根据预定义的条件安排部署
* 批量应用更改，以最大限度地减少中断并完成发布

## **构建您的编排策略**

要在您的环境中实施有效的任务编排：

1. **定义清晰的工作流程**：记录您的工作流程，并将它们分成逻辑阶段。每个事件或事故都有一组必须串在一起的工作流程。作为ITOps，您必须能够清晰地定义这些工作流程以及所涉及的步骤。
2. **采用“即代码”方法**：以编程方式定义工作流程，以保持一致性并实现协作。对工作流程的执行进行编码使您可以更灵活地控制如何甚至何时执行。 “即代码”方法在团队之间创建了一个通用框架，以实现更大的协作。
3. **优先考虑可伸缩性**：一个关键功能是您的编排平台可以处理跨团队、平台和架构的增长。跨十个节点编排一组工作流程很好，但是您可以将其扩展到10,000个节点吗？
4. **集成安全性**：在整个编排工作流程中嵌入安全检查。安全永远不能是事后才考虑的事情。ITOps必须将安全性嵌入到工作流程执行过程的每一步中。多层安全性可以帮助您的工作流程变得强大，并使漏洞远离。
5. **为失败而设计**：假设乐器会发生故障。您有备份吗？假设主要艺术家会迟到。您有替补歌手吗？简而言之，假设事情会失败，并在编排中构建应急措施。
6. **提升可见性**：由于多个团队进行协作，因此至关重要的是，您要对正在发生的事情有一个统一的视图。无论是音乐节还是DevSecOps工作流程，请选择为利益相关者提供监控功能和透明度的工具。

## **编排的未来**

无论您是管理拥有25万参与者的音乐节还是拥有数千个节点的企业IT环境，原理都保持不变：成功不仅取决于把事情做对，还取决于以正确的顺序、在正确的时间做对事情，并且能够适应不断变化的情况。

智能编排是保持演出顺利进行并吸引观众再次光临的原因。

从我在新老客户那里看到的情况来看，IT环境的复杂性不断增加。编排已经并将变得越来越重要。最成功的组织将是那些投资于正确的编排平台的组织。这将帮助他们擅长自动化单个任务，并在不同的系统中无缝地协调复杂的工作流程。

最后，我预见到一个未来，编排将主要由AI代理驱动，而人类将介入以做出基于判断的决策。