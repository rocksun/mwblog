<!doctype html><html lang="en"><head><title data-rh="true">LangChain vs PydanticAI for building an AI Agent | by Finn Andersen | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2025-03-06T09:02:41.334Z"/><meta data-rh="true" name="title" content="LangChain vs PydanticAI for building an AI Agent | by Finn Andersen | Medium"/><meta data-rh="true" property="og:title" content="LangChain vs PydanticAI for building an AI Agent"/><meta data-rh="true" property="al:android:url" content="medium://p/e0a059435e9d"/><meta data-rh="true" property="al:ios:url" content="medium://p/e0a059435e9d"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Comparing how LangChain and PydanticAI can be used to build a simple conversational AI Agent with tool calling, structured outputs and more."/><meta data-rh="true" property="og:description" content="Comparing how the two frameworks can be used to build a conversational AI agent"/><meta data-rh="true" property="og:url" content="https://medium.com/@finndersen/langchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d"/><meta data-rh="true" property="al:web:url" content="https://medium.com/@finndersen/langchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/resize:fit:1200/1*g787VN00jm0lQrbjcy7Yag.png"/><meta data-rh="true" property="article:author" content="https://medium.com/@finndersen"/><meta data-rh="true" name="author" content="Finn Andersen"/><meta data-rh="true" name="robots" content="index,noarchive,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" property="twitter:title" content="LangChain vs PydanticAI for building an AI Agent"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/e0a059435e9d"/><meta data-rh="true" property="twitter:description" content="Comparing how the two frameworks can be used to build a conversational AI agent"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/resize:fit:1200/1*g787VN00jm0lQrbjcy7Yag.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="10 min read"/><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/5d8de952517e8160e40ef9841c781cdc14a5db313057fa3c3de41c6f5b494b19"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:304:304/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:240:240/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:152:152/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:120:120/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="mask-icon" href="https://miro.medium.com/v2/resize:fill:1000:1000/7*GAOKVe--MXbEJmV9230oOQ.png" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@finndersen"/><link data-rh="true" rel="canonical" href="https://medium.com/@finndersen/langchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/e0a059435e9d"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:1200\u002F1*g787VN00jm0lQrbjcy7Yag.png"],"url":"https:\u002F\u002Fmedium.com\u002F@finndersen\u002Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d","dateCreated":"2025-01-29T00:07:44.564Z","datePublished":"2025-01-29T00:07:44.564Z","dateModified":"2025-03-06T10:23:15.897Z","headline":"LangChain vs PydanticAI for building an AI Agent - Finn Andersen - Medium","name":"LangChain vs PydanticAI for building an AI Agent - Finn Andersen - Medium","description":"Comparing how LangChain and PydanticAI can be used to build a simple conversational AI Agent with tool calling, structured outputs and more.","identifier":"e0a059435e9d","author":{"@type":"Person","name":"Finn Andersen","url":"https:\u002F\u002Fmedium.com\u002F@finndersen"},"creator":["Finn Andersen"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":272,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:544\u002F7*V1_7XP4snlmqrc_0Njontw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@finndersen\u002Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d"}</script><style type="text/css" data-fela-rehydration="580" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="580" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:sticky}.n{top:0}.o{z-index:500}.p{padding:0 24px}.q{align-items:center}.r{border-bottom:solid 1px #F2F2F2}.y{height:41px}.z{line-height:20px}.ab{display:flex}.ac{height:57px}.ae{flex:1 0 auto}.af{gap:16px}.ag{color:inherit}.ah{fill:inherit}.ai{font-size:inherit}.aj{border:inherit}.ak{font-family:inherit}.al{letter-spacing:inherit}.am{font-weight:inherit}.an{padding:0}.ao{margin:0}.ap{cursor:pointer}.aq:disabled{cursor:not-allowed}.ar:disabled{color:#6B6B6B}.as:disabled{fill:#6B6B6B}.av{width:auto}.aw path{fill:#242424}.ax{height:25px}.ay{border:none}.az{border-radius:20px}.ba{width:240px}.bb{background:#F9F9F9}.bc path{fill:#6B6B6B}.be{outline:none}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{width:100%}.bi{padding:10px 20px 10px 0}.bj{background-color:transparent}.bk{color:#242424}.bl::placeholder{color:#6B6B6B}.bm{display:inline-block}.bn{margin-left:12px}.bo{margin-right:12px}.bp{border-radius:4px}.bq{margin-left:24px}.br{height:24px}.bx{background-color:#F9F9F9}.by{border-radius:50%}.bz{height:32px}.ca{width:32px}.cb{flex:0 0 auto}.cc{flex:1 1 auto}.cd{position:relative}.ce{justify-content:center}.ck{max-width:680px}.cl{min-width:0}.cm{animation:k1 1.2s ease-in-out infinite}.cn{height:100vh}.co{margin-bottom:16px}.cp{margin-top:48px}.cq{align-items:flex-start}.cr{flex-direction:column}.cs{justify-content:space-between}.ct{margin-bottom:24px}.cz{width:80%}.da{background-color:#F2F2F2}.dg{height:44px}.dh{width:44px}.di{margin:auto 0}.dj{margin-bottom:4px}.dk{height:16px}.dl{width:120px}.dm{width:80px}.ds{margin-bottom:8px}.dt{width:96%}.du{width:98%}.dv{width:81%}.dw{margin-left:8px}.dx{color:#6B6B6B}.dy{font-size:13px}.dz{height:100%}.es{color:#FFFFFF}.et{fill:#FFFFFF}.eu{background:#1A8917}.ev{border-color:#1A8917}.ez:disabled{cursor:inherit !important}.fa:disabled{opacity:0.3}.fb:disabled:hover{background:#1A8917}.fc:disabled:hover{border-color:#1A8917}.fd{border-radius:99em}.fe{border-width:1px}.ff{border-style:solid}.fg{box-sizing:border-box}.fh{text-decoration:none}.fi{text-align:center}.fj{margin-left:16px}.fm{margin-right:32px}.fn{fill:#6B6B6B}.fq{background:transparent}.fr svg{margin-left:4px}.fs svg{fill:#6B6B6B}.fu{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fv{position:absolute}.gc{margin:0 24px}.gg{background:rgba(255, 255, 255, 1)}.gh{border:1px solid #F2F2F2}.gi{box-shadow:0 1px 4px #F2F2F2}.gj{max-height:100vh}.gk{overflow-y:auto}.gl{left:0}.gm{top:calc(100vh + 100px)}.gn{bottom:calc(100vh + 100px)}.go{width:10px}.gp{pointer-events:none}.gq{word-break:break-word}.gr{word-wrap:break-word}.gs:after{display:block}.gt:after{content:""}.gu:after{clear:both}.gv{line-height:1.23}.gw{letter-spacing:0}.gx{font-style:normal}.gy{font-weight:700}.id{align-items:baseline}.ie{width:48px}.if{height:48px}.ig{border:2px solid rgba(255, 255, 255, 1)}.ih{z-index:0}.ii{box-shadow:none}.ij{border:1px solid rgba(0, 0, 0, 0.05)}.ik{margin-bottom:2px}.il{flex-wrap:nowrap}.im{font-size:16px}.in{line-height:24px}.ip{margin:0 8px}.iq{display:inline}.ir{text-decoration:underline}.iu{flex-wrap:wrap}.iv{padding-left:8px}.iw{padding-right:8px}.jx> *{flex-shrink:0}.jy{overflow-x:scroll}.jz::-webkit-scrollbar{display:none}.ka{scrollbar-width:none}.kb{-ms-overflow-style:none}.kc{width:74px}.kd{flex-direction:row}.ke{z-index:2}.kf{margin-right:4px}.ki{-webkit-user-select:none}.kj{border:0}.kk{fill:rgba(117, 117, 117, 1)}.kn{outline:0}.ko{user-select:none}.kp> svg{pointer-events:none}.ky{cursor:progress}.kz{margin-left:4px}.la{margin-top:0px}.lb{opacity:1}.lc{padding:4px 0}.lf{width:16px}.lh{display:inline-flex}.ln{max-width:100%}.lo{padding:8px 2px}.lp svg{color:#6B6B6B}.mg{clear:both}.mm{margin-left:auto}.mn{margin-right:auto}.mo{max-width:2822px}.mu{padding-top:5px}.mv{padding-bottom:5px}.mx{cursor:zoom-in}.my{z-index:auto}.na{height:auto}.nb{line-height:1.58}.nc{letter-spacing:-0.004em}.nd{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.ny{margin-bottom:-0.46em}.nz{list-style-type:disc}.oa{margin-left:30px}.ob{padding-left:0px}.oh{line-height:1.12}.oi{letter-spacing:-0.022em}.oj{font-weight:600}.pe{margin-bottom:-0.28em}.pk{box-shadow:inset 3px 0 0 0 #242424}.pl{padding-left:23px}.pm{margin-left:-20px}.pn{font-style:italic}.pt{overflow-x:auto}.pu{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.pv{padding:32px}.pw{border:1px solid #E5E5E5}.px{line-height:1.4}.py{margin-top:-0.2em}.pz{margin-bottom:-0.2em}.qa{white-space:pre}.qb{min-width:fit-content}.qc{padding:2px 4px}.qd{font-size:75%}.qe> strong{font-family:inherit}.qf{line-height:1.18}.qt{margin-bottom:-0.31em}.qu{max-width:2998px}.qv{margin-top:10px}.qw{max-width:728px}.qz{margin-bottom:26px}.ra{margin-top:6px}.rb{margin-top:8px}.rc{margin-right:8px}.rd{padding:8px 16px}.re{border-radius:100px}.rf{transition:background 300ms ease}.rh{white-space:nowrap}.ri{border-top:none}.rj{margin-bottom:50px}.rk{height:52px}.rl{max-height:52px}.rm{box-sizing:content-box}.rn{position:static}.ro{z-index:1}.rq{max-width:155px}.rw{margin-right:20px}.rx{margin-bottom:64px}.sm{height:64px}.sn{width:64px}.so{align-self:flex-end}.sp{color:rgba(255, 255, 255, 1)}.sq{fill:rgba(255, 255, 255, 1)}.sr{background:rgba(25, 25, 25, 1)}.ss{border-color:rgba(25, 25, 25, 1)}.sv:disabled{opacity:0.1}.sw:disabled:hover{background:rgba(25, 25, 25, 1)}.sx:disabled:hover{border-color:rgba(25, 25, 25, 1)}.sy{stroke:#F2F2F2}.sz{height:36px}.ta{width:36px}.tb{color:#F2F2F2}.tc{fill:#F2F2F2}.td{background:#F2F2F2}.te{border-color:#F2F2F2}.tn{padding-right:4px}.to{font-weight:500}.tv{white-space:pre-wrap}.tw{margin-top:16px}.uc{height:0px}.ud{gap:18px}.ue{fill:rgba(61, 61, 61, 1)}.ug{padding-bottom:20px}.uh{border-bottom:1px solid #F2F2F2}.un{margin-top:32px}.uo{fill:#242424}.up{background:0}.uq{border-color:#242424}.ur:disabled:hover{color:#242424}.us:disabled:hover{fill:#242424}.ut:disabled:hover{border-color:#242424}.ve{border-bottom:solid 1px #E5E5E5}.vf{margin-top:72px}.vg{padding:24px 0}.vh{margin-bottom:0px}.vi{margin-right:16px}.at:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.au:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.ew:hover{background:#156D12}.ex:hover{border-color:#156D12}.ey:hover{cursor:pointer}.fo:hover{color:#242424}.fp:hover{fill:#242424}.ft:hover svg{fill:#242424}.fw:hover{background-color:rgba(0, 0, 0, 0.1)}.io:hover{text-decoration:underline}.km:hover{fill:rgba(8, 8, 8, 1)}.ld:hover{fill:#000000}.le:hover p{color:#000000}.lg:hover{color:#000000}.lq:hover svg{color:#000000}.rg:hover{background-color:#F2F2F2}.sl:hover{background-color:none}.st:hover{background:#000000}.su:hover{border-color:#242424}.tf:hover{background:#F2F2F2}.tg:hover{border-color:#F2F2F2}.th:hover{cursor:wait}.ti:hover{color:#F2F2F2}.tj:hover{fill:#F2F2F2}.uf:hover{fill:rgba(25, 25, 25, 1)}.bd:focus-within path{fill:#242424}.kl:focus{fill:rgba(8, 8, 8, 1)}.lr:focus svg{color:#000000}.mz:focus{transform:scale(1.01)}.kq:active{border-style:none}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.bw{width:64px}.cj{margin:0 64px}.cy{height:48px}.df{margin-bottom:52px}.dr{margin-bottom:48px}.ei{font-size:14px}.ej{line-height:20px}.eq{font-size:13px}.er{padding:5px 12px}.fl{display:flex}.gb{margin-bottom:50px}.gf{max-width:680px}.ht{font-size:42px}.hu{margin-top:1.19em}.hv{margin-bottom:32px}.hw{line-height:52px}.hx{letter-spacing:-0.011em}.ic{align-items:center}.jj{border-top:solid 1px #F2F2F2}.jk{border-bottom:solid 1px #F2F2F2}.jl{margin:32px 0 0}.jm{padding:3px 8px}.jv> *{margin-right:24px}.jw> :last-child{margin-right:0}.kx{margin-top:0px}.lm{margin:0}.ml{max-width:1192px}.mt{margin-top:40px}.nu{font-size:20px}.nv{margin-top:2.14em}.nw{line-height:32px}.nx{letter-spacing:-0.003em}.og{margin-top:1.14em}.pa{font-size:24px}.pb{margin-top:1.95em}.pc{line-height:30px}.pd{letter-spacing:-0.016em}.pj{margin-top:0.94em}.ps{margin-top:56px}.qq{margin-top:1.72em}.qr{line-height:24px}.qs{letter-spacing:0}.rv{display:inline-block}.ry{flex-direction:row}.sb{margin-bottom:0}.sc{margin-right:20px}.tk{max-width:500px}.ub{margin-bottom:88px}.um{margin:40px 0 16px}.uy{width:min-width}.vd{padding-top:72px}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.kw{margin-top:0px}.qx{margin-left:auto}.qy{text-align:center}.ru{display:inline-block}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.kv{margin-top:0px}.rt{display:inline-block}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.kt{margin-top:0px}.ku{margin-right:0px}.rs{display:inline-block}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.s{display:flex}.t{justify-content:space-between}.bs{width:24px}.cf{margin:0 24px}.cu{height:40px}.db{margin-bottom:44px}.dn{margin-bottom:32px}.ea{font-size:13px}.eb{line-height:20px}.ek{padding:0px 8px 1px}.fx{margin-bottom:2px}.gz{font-size:32px}.ha{margin-top:1.01em}.hb{margin-bottom:24px}.hc{line-height:38px}.hd{letter-spacing:-0.014em}.hy{align-items:flex-start}.is{flex-direction:column}.ix{margin:24px -24px 0}.iy{padding:0}.jn> *{margin-right:8px}.jo> :last-child{margin-right:24px}.kg{margin-left:0px}.kr{margin-top:0px}.ks{margin-right:0px}.li{margin:0}.ls{border:1px solid #F2F2F2}.lt{border-radius:99em}.lu{padding:0px 16px 0px 12px}.lv{height:38px}.lw{align-items:center}.ly svg{margin-right:8px}.mh{max-width:100%}.mp{margin-top:32px}.ne{font-size:18px}.nf{margin-top:1.56em}.ng{line-height:28px}.nh{letter-spacing:-0.003em}.oc{margin-top:1.34em}.ok{font-size:20px}.ol{margin-top:1.2em}.om{line-height:24px}.on{letter-spacing:0}.pf{margin-top:0.67em}.po{margin-top:40px}.qg{font-size:16px}.qh{margin-top:1.23em}.rr{display:inline-block}.sj{margin-bottom:20px}.sk{margin-right:0}.tp{font-size:24px}.tq{line-height:30px}.tr{letter-spacing:-0.016em}.tx{margin-bottom:64px}.ui{margin:32px 0 16px}.uu{width:100%}.uz{padding-top:48px}.lx:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.bv{width:64px}.ci{margin:0 64px}.cx{height:48px}.de{margin-bottom:52px}.dq{margin-bottom:48px}.eg{font-size:14px}.eh{line-height:20px}.eo{font-size:13px}.ep{padding:5px 12px}.fk{display:flex}.ga{margin-bottom:50px}.ge{max-width:680px}.ho{font-size:42px}.hp{margin-top:1.19em}.hq{margin-bottom:32px}.hr{line-height:52px}.hs{letter-spacing:-0.011em}.ib{align-items:center}.jf{border-top:solid 1px #F2F2F2}.jg{border-bottom:solid 1px #F2F2F2}.jh{margin:32px 0 0}.ji{padding:3px 8px}.jt> *{margin-right:24px}.ju> :last-child{margin-right:0}.ll{margin:0}.mk{max-width:1192px}.ms{margin-top:40px}.nq{font-size:20px}.nr{margin-top:2.14em}.ns{line-height:32px}.nt{letter-spacing:-0.003em}.of{margin-top:1.14em}.ow{font-size:24px}.ox{margin-top:1.95em}.oy{line-height:30px}.oz{letter-spacing:-0.016em}.pi{margin-top:0.94em}.pr{margin-top:56px}.qn{margin-top:1.72em}.qo{line-height:24px}.qp{letter-spacing:0}.rz{flex-direction:row}.sd{margin-bottom:0}.se{margin-right:20px}.tl{max-width:500px}.ua{margin-bottom:88px}.ul{margin:40px 0 16px}.ux{width:min-width}.vc{padding-top:72px}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.w{display:flex}.x{justify-content:space-between}.bu{width:64px}.ch{margin:0 48px}.cw{height:48px}.dd{margin-bottom:52px}.dp{margin-bottom:48px}.ee{font-size:13px}.ef{line-height:20px}.em{padding:0px 8px 1px}.fz{margin-bottom:50px}.gd{max-width:680px}.hj{font-size:42px}.hk{margin-top:1.19em}.hl{margin-bottom:32px}.hm{line-height:52px}.hn{letter-spacing:-0.011em}.ia{align-items:center}.jb{border-top:solid 1px #F2F2F2}.jc{border-bottom:solid 1px #F2F2F2}.jd{margin:32px 0 0}.je{padding:3px 8px}.jr> *{margin-right:24px}.js> :last-child{margin-right:0}.lk{margin:0}.mj{max-width:100%}.mr{margin-top:40px}.nm{font-size:20px}.nn{margin-top:2.14em}.no{line-height:32px}.np{letter-spacing:-0.003em}.oe{margin-top:1.14em}.os{font-size:24px}.ot{margin-top:1.95em}.ou{line-height:30px}.ov{letter-spacing:-0.016em}.ph{margin-top:0.94em}.pq{margin-top:56px}.qk{margin-top:1.72em}.ql{line-height:24px}.qm{letter-spacing:0}.sa{flex-direction:row}.sf{margin-bottom:0}.sg{margin-right:20px}.tm{max-width:500px}.tz{margin-bottom:88px}.uk{margin:40px 0 16px}.uw{width:min-width}.vb{padding-top:72px}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.u{display:flex}.v{justify-content:space-between}.bt{width:24px}.cg{margin:0 24px}.cv{height:40px}.dc{margin-bottom:44px}.do{margin-bottom:32px}.ec{font-size:13px}.ed{line-height:20px}.el{padding:0px 8px 1px}.fy{margin-bottom:2px}.he{font-size:32px}.hf{margin-top:1.01em}.hg{margin-bottom:24px}.hh{line-height:38px}.hi{letter-spacing:-0.014em}.hz{align-items:flex-start}.it{flex-direction:column}.iz{margin:24px 0 0}.ja{padding:0}.jp> *{margin-right:8px}.jq> :last-child{margin-right:8px}.kh{margin-left:0px}.lj{margin:0}.lz{border:1px solid #F2F2F2}.ma{border-radius:99em}.mb{padding:0px 16px 0px 12px}.mc{height:38px}.md{align-items:center}.mf svg{margin-right:8px}.mi{max-width:100%}.mq{margin-top:32px}.ni{font-size:18px}.nj{margin-top:1.56em}.nk{line-height:28px}.nl{letter-spacing:-0.003em}.od{margin-top:1.34em}.oo{font-size:20px}.op{margin-top:1.2em}.oq{line-height:24px}.or{letter-spacing:0}.pg{margin-top:0.67em}.pp{margin-top:40px}.qi{font-size:16px}.qj{margin-top:1.23em}.sh{margin-bottom:20px}.si{margin-right:0}.ts{font-size:24px}.tt{line-height:30px}.tu{letter-spacing:-0.016em}.ty{margin-bottom:64px}.uj{margin:32px 0 16px}.uv{width:100%}.va{padding-top:48px}.me:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="print">.rp{display:none}</style><style type="text/css" data-fela-rehydration="580" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.mw{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="l m n o c"><div class="p q r s t u v w x i d y z"><a class="dx ah dy bf al b an ao ap aq ar as at au s u w i d q dz z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe0a059435e9d&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderUser&amp;source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow">Open in app<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 10 10" class="dw"><path fill="currentColor" d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z"></path></svg></a><div class="ab q"><p class="bf b ea eb ec ed ee ef eg eh ei ej dx"><span><button class="bf b ea eb ek ec ed el ee ef em eo eh ep eq ej er es et eu ev ew ex ey ez fa fb fc fd fe ff fg bm fh fi" data-testid="headerSignUpButton">Sign up</button></span></p><div class="fj l"><p class="bf b ea eb ec ed ee ef eg eh ei ej dx"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------">Sign in</a></span></p></div></div></div><div class="p q r ab ac"><div class="ab q ae af"><a class="ag ah ai aj ak al am an ao ap aq ar as at au ab" aria-label="Homepage" data-testid="headerMediumLogo" rel="noopener follow" href="/?source=post_page---top_nav_layout_nav-----------------------------------------"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" viewBox="0 0 719 160" class="av aw ax"><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></a><div class="h"><div class="ab ay az ba bb q bc bd"><div class="bm" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bn bo ab"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="ay be bf bg z bh bi bj bk bl" placeholder="Search" value=""/></div></div></div><div class="h k w fk fl"><div class="fm ab"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="headerWriteButton" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---top_nav_layout_nav-----------------------new_post_topnav------------------"><div class="bf b bg z dx cd fn ab q fo fp"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Write"><path fill="currentColor" d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z"></path><path stroke="currentColor" d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2"></path></svg><div class="dw l">Write</div></div></a></span></div></div><div class="k j i d"><div class="fm ab"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="headerSearchButton" rel="noopener follow" href="/search?source=post_page---top_nav_layout_nav-----------------------------------------"><div class="bf b bg z dx cd fn ab q fo fp"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Search"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div></a></div></div><div class="fm h k j"><div class="ab q"><p class="bf b ea eb ec ed ee ef eg eh ei ej dx"><span><button class="bf b ea eb ek ec ed el ee ef em eo eh ep eq ej er es et eu ev ew ex ey ez fa fb fc fd fe ff fg bm fh fi" data-testid="headerSignUpButton">Sign up</button></span></p><div class="fj l"><p class="bf b ea eb ec ed ee ef eg eh ei ej dx"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------">Sign in</a></span></p></div></div></div><div class="l" aria-hidden="false"><button class="ay fq an ab q ap fr fs ft" aria-label="user options menu" data-testid="headerUserIcon"><div class="l cd"><img alt="" class="l fg by bz ca da" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"/><div class="fu by l bz ca fv n ay fw"></div></div></button></div></div></div><div class="ab"><div class="cb" style="width:0px"></div><div class="cc cd bh" style="width:calc(100% - 0px)"><div class="l"><div class="fx fy fz ga gb l"><div class="ab ce"><div class="cl bh gc gd ge gf"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="fv gl gm gn go gp"></div><div class="gq gr gs gt gu"><div class="ab ce"><div class="cl bh gc gd ge gf"><div><h1 id="6fdd" class="pw-post-title gv gw gx bf gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx bk" data-testid="storyTitle">LangChain vs PydanticAI for building an AI Agent</h1><div><div class="speechify-ignore ab cs"><div class="speechify-ignore bh l"><div class="hy hz ia ib ic ab"><div><div class="ab id"><div><div class="bm" aria-hidden="false"><a rel="noopener follow" href="/@finndersen?source=post_page---byline--e0a059435e9d---------------------------------------"><div class="l ie if by ig ih"><div class="l cd"><img alt="Finn Andersen" class="l fg by dg dh da" src="https://miro.medium.com/v2/resize:fill:88:88/1*V8TankR4nioTPHtCRGBdsw.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"/><div class="ii by l dg dh fv n ij fw"></div></div></div></a></div></div></div></div><div class="bn bh l"><div class="ab"><div style="flex:1"><span class="bf b bg z bk"><div class="ik ab q"><div class="ab q il"><div class="ab q"><div><div class="bm" aria-hidden="false"><p class="bf b im in bk"><a class="ag ah ai aj ak al am an ao ap aq ar as io" data-testid="authorName" rel="noopener follow" href="/@finndersen?source=post_page---byline--e0a059435e9d---------------------------------------">Finn Andersen</a></p></div></div></div><span class="ip iq" aria-hidden="true"><span class="bf b bg z bk">·</span></span><p class="bf b im in bk"><span><a class="ag ah ai aj ak al am an ao ap aq ar as ir" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3388bcd2bdf0%2Fe0a059435e9d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;user=Finn+Andersen&amp;userId=3388bcd2bdf0&amp;source=post_page-3388bcd2bdf0--byline--e0a059435e9d---------------------post_header------------------">Follow</a></span></p></div></div></span></div></div><div class="l cb"><span class="bf b bg z dx"><div class="ab cq is it iu"><span class="bf b bg z dx"><div class="ab ae"><span data-testid="storyReadTime">10 min read</span><div class="iv iw l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bf b bg z dx">·</span></span></div><span data-testid="storyPublishDate">Jan 29, 2025</span></div></span></div></span></div></div></div><div class="ab cs ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm"><div class="h k w fk fl q"><div class="kc l"><div class="ab q kd ke"><div class="pw-multi-vote-icon cd kf kg kh ki"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="headerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2Fe0a059435e9d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;user=Finn+Andersen&amp;userId=3388bcd2bdf0&amp;source=---header_actions--e0a059435e9d---------------------clap_footer------------------"><div><div class="bm" aria-hidden="false"><div class="kj ap kk kl km kn an ko kp kq ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kr ks kt ku kv kw kx"><p class="bf b dy z dx"><span class="ky">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><button class="ap kj lb lc ab q fn ld le" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="la"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b dy z dx"><span class="pw-responses-count kz la">4</span></p></button></div></div></div><div class="ab q jn jo jp jq jr js jt ju jv jw jx jy jz ka kb"><div class="lf k j i d"></div><div class="h k"><div><div class="bm" aria-hidden="false"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="headerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe0a059435e9d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;source=---header_actions--e0a059435e9d---------------------bookmark_footer------------------"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="dx lg" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="fg lh cq"><div class="l ae"><div class="ab ce"><div class="li lj lk ll lm ln cl bh"><div class="ab"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="ag fn ai aj ak al am lo ao ap aq fa lp lq le lr ls lt lu lv s lw lx ly lz ma mb mc u md me mf"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z dx">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="ag fn ai aj ak al am lo ao ap aq fa lp lq le lr ls lt lu lv s lw lx ly lz ma mb mc u md me mf"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg><div class="j i d"><p class="bf b bg z dx">Share</p></div></button></div></div></div></div></div></div></div></div></div></div></div><div class="mg"><div class="ab ce"><div class="li mh lj mi lk mj ci mk cj ml cl bh"><figure class="mp mq mr ms mt mg mu mv paragraph-image"><div role="button" tabindex="0" class="mw mx cd my bh mz"><div class="mm mn mo"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/1*g787VN00jm0lQrbjcy7Yag.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*g787VN00jm0lQrbjcy7Yag.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*g787VN00jm0lQrbjcy7Yag.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*g787VN00jm0lQrbjcy7Yag.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*g787VN00jm0lQrbjcy7Yag.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*g787VN00jm0lQrbjcy7Yag.png 1100w, https://miro.medium.com/v2/resize:fit:2000/format:webp/1*g787VN00jm0lQrbjcy7Yag.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/1*g787VN00jm0lQrbjcy7Yag.png 640w, https://miro.medium.com/v2/resize:fit:720/1*g787VN00jm0lQrbjcy7Yag.png 720w, https://miro.medium.com/v2/resize:fit:750/1*g787VN00jm0lQrbjcy7Yag.png 750w, https://miro.medium.com/v2/resize:fit:786/1*g787VN00jm0lQrbjcy7Yag.png 786w, https://miro.medium.com/v2/resize:fit:828/1*g787VN00jm0lQrbjcy7Yag.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*g787VN00jm0lQrbjcy7Yag.png 1100w, https://miro.medium.com/v2/resize:fit:2000/1*g787VN00jm0lQrbjcy7Yag.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px"/><img alt="" class="bh ln na c" width="1000" height="339" loading="eager" role="presentation"/></picture></div></div></figure></div></div></div><div class="ab ce"><div class="cl bh gc gd ge gf"><p id="35ca" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">LangChain is a well known agential AI framework, and PydanticAI is newer on the scene but quickly gaining popularity. Here I compare how they can be used to build a simple conversational AI Agent, involving the following features:</p><ul class=""><li id="ce9a" class="nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob bk">Dynamic model choice</li><li id="71a1" class="nb nc gx nd b ne oc ng nh ni od nk nl nm oe no np nq of ns nt nu og nw nx ny nz oa ob bk">Human-in-the-loop input</li><li id="09ff" class="nb nc gx nd b ne oc ng nh ni od nk nl nm oe no np nq of ns nt nu og nw nx ny nz oa ob bk">Tool calling with dependencies</li><li id="21b2" class="nb nc gx nd b ne oc ng nh ni od nk nl nm oe no np nq of ns nt nu og nw nx ny nz oa ob bk">Conversation history/memory</li><li id="ec76" class="nb nc gx nd b ne oc ng nh ni od nk nl nm oe no np nq of ns nt nu og nw nx ny nz oa ob bk">Dynamic system prompt</li><li id="04a1" class="nb nc gx nd b ne oc ng nh ni od nk nl nm oe no np nq of ns nt nu og nw nx ny nz oa ob bk">Structured output</li></ul><h1 id="1289" class="oh oi gx bf oj ok ol om on oo op oq or os ot ou ov ow ox oy oz pa pb pc pd pe bk">Agent Behaviour</h1><p id="0f25" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">The aim is to build an AI agent that will play the role of an eccentric waiter at a restaurant who will ask about your dietary requirements and take your order. An example conversation might look like:</p><blockquote class="pk pl pm"><p id="b2cd" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><strong class="nd gy"><em class="gx">AI Waiter:</em></strong><em class="gx"> Ah, bonjour madame et monsieur! Welcome to Le Bistro, where the food is as delightful as the company! Before we embark on a culinary adventure, might you have any dietary restrictions or preferences? We wouldn’t want any rogue ingredients crashing the party!</em></p><p id="71ae" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><strong class="nd gy"><em class="gx">You: </em></strong><em class="gx">I only eat yellow coloured food</em></p><p id="38e0" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">&lt;agent makes tool call to get list of menu items&gt;</p><p id="1697" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><strong class="nd gy"><em class="gx">AI Waiter:</em></strong><em class="gx"> Magnifique! A connoisseur of the golden hue, I see! Let’s explore the menu with your sunshine-filled preference in mind. For appetizers, we have the Quinoa Stuffed Bell Peppers, which are a vibrant yellow. For the main course, the Chickpea and Sweet Potato Curry is a golden delight! And for dessert, the Fresh Fruit Sorbet might have some yellow options depending on the day! What do you think?</em></p><p id="e3bd" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><strong class="nd gy"><em class="gx">You:</em></strong><em class="gx"> I’ll take the Bell Peppers and fruit sorbet thanks!</em></p><p id="d44e" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><strong class="nd gy"><em class="gx">AI Waiter:</em></strong><em class="gx"> Excellent choices! One order of the Quinoa Stuffed Bell Peppers and the Fresh Fruit Sorbet for the discerning palate at table number 1! Your order has been placed, and I shall return with your delectable delights shortly. Au revoir!</em></p><p id="5e59" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">&lt;agent makes tool call to place order&gt;</p><p id="c40d" class="nb nc pn nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><strong class="nd gy"><em class="gx">Order placed:</em></strong><em class="gx"> [Order(menu_items=[‘Quinoa Stuffed Bell Peppers’, ‘Fresh Fruit Sorbet’], table_number=1)]</em></p></blockquote><p id="5c5f" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">Try it yourself by checking out the <a class="ag ir" href="https://github.com/Finndersen/ai_framework_demo" rel="noopener ugc nofollow" target="_blank">full repository here</a>!</p><h1 id="c141" class="oh oi gx bf oj ok ol om on oo op oq or os ot ou ov ow ox oy oz pa pb pc pd pe bk">Frameworks Overview</h1><p id="9910" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk"><a class="ag ir" href="https://python.langchain.com/" rel="noopener ugc nofollow" target="_blank">LangChain</a> is a well-known framework that has been around since the early days of LLM availability, so while it provides a lot of functionality it also includes quite a bit of legacy content due to how models have rapidly evolved. The combination of many different ways to do the same thing (especially with the introduction of <a class="ag ir" href="https://langchain-ai.github.io/langgraph/" rel="noopener ugc nofollow" target="_blank">LangGraph</a>) and a component chaining approach that is difficult to reason about makes the framework somewhat daunting to use. It’s also quite a comprehensive library spread across multiple packages, totalling about 300MB if you want multi-model and graph support.</p><p id="cd56" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><a class="ag ir" href="https://ai.pydantic.dev/" rel="noopener ugc nofollow" target="_blank">PydanticAI</a> is a relatively young framework from the creators of everyone’s favourite data validation library, “designed to make it less painful to build production grade applications with Generative AI.” It seemed quite approachable and intuitive, so I tried it out by <a class="ag ir" href="https://github.com/Finndersen/dbdex" rel="noopener ugc nofollow" target="_blank">creating an basic AI agent</a> that allows querying any database using natural language. The full package (including <a class="ag ir" href="https://logfire.pydantic.dev/docs/" rel="noopener ugc nofollow" target="_blank">Logfire</a>) is only about 70MB.</p><p id="a488" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">I enjoyed working with PydanticAI but was curious to see what the LangChain hype was all about, so I put together a demo project to see how they compared.</p><h1 id="edf1" class="oh oi gx bf oj ok ol om on oo op oq or os ot ou ov ow ox oy oz pa pb pc pd pe bk">Common Content</h1><p id="d7e2" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">These are the common components that both agent implementations will use.</p><p id="037d" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">Defining the dynamic system prompt and structured response definition:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="b374" class="px oi gx pu b bg py pz l qa qb">PROMPT_TEMPLATE = &quot;&quot;&quot;<br/>You are playing the role of an incredibly eccentric and entertaining waiter in a fine dining restaurant<br/>called &quot;{restaurant_name}&quot; taking orders for table number {table_number}.<br/>You must:<br/>* Greet the customer, ask if they have any dietary restrictions<br/>* Tell them about appropriate menu items using the *get_menu()* tool.<br/>* Take their order, and confirm it with them.<br/>* When confirmed, use the *create_order()* tool to create an order for the customer.<br/>* Only set the *end_conversation* flag to True in your final response after you have finished the conversation,<br/>meaning that your message DOES NOT contain a question.<br/>&quot;&quot;&quot;<br/><br/>class LLMResponse(BaseModel):<br/>    &quot;&quot;&quot;<br/>    Structured response format for the LLM to use so it can indicate when the conversation should end<br/>    &quot;&quot;&quot;<br/><br/>    message: str<br/>    end_conversation: Annotated[<br/>        bool,<br/>        &quot;True if the conversation should end after this response. DO NOT set if the message contains a question.&quot;,<br/>    ]</span></pre><p id="a020" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">Dependency services used by tools that the Agent will call:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="ae1d" class="px oi gx pu b bg py pz l qa qb">class MenuService:<br/>    def get_menu(self) -&gt; dict[str, list[str]]:<br/>        # Returns an Appetizer, Main Course and Deserts menu<br/>        ...<br/><br/><br/>class OrderService:<br/>    orders: list[Order]<br/><br/>    def create_order(self, table_number: int, menu_items: list[str]):<br/>        self.orders.append(Order(table_number=table_number, menu_items=menu_items))<br/><br/>    def get_orders(self) -&gt; list[Order]:<br/>        return self.orders</span></pre><p id="471a" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk"><code class="da qc qd qe pu b">AgentRunner</code> class interface which will need to be implemented using each framework, and the agent execution function:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="4df7" class="px oi gx pu b bg py pz l qa qb">class AgentRunner(ABC):<br/>    &quot;&quot;&quot;<br/>    Base class which provides a common interface for initialising and making<br/>    requests to an agent.<br/>    &quot;&quot;&quot;<br/><br/>    @abstractmethod<br/>    def __init__(self, menu_service: MenuService, order_service: OrderService, args: argparse.Namespace): ...<br/><br/>    @abstractmethod<br/>    def make_request(self, user_message: str) -&gt; LLMResponse: ...<br/><br/><br/>def run_agent(runner_class: type[AgentRunner], args: argparse.Namespace):<br/>    &quot;&quot;&quot;Initialise services and run agent conversation loop.&quot;&quot;&quot;<br/>    menu_service = MenuService()<br/>    order_service = OrderService()<br/><br/>    agent_runner = runner_class(menu_service, order_service, args)<br/>    user_message = &quot;*Greet the customer*&quot;<br/>    console = Console()<br/>    while True:<br/>        with Live(console=console) as live_console:<br/>            live_console.update(&quot;AI Waiter: ...&quot;)<br/>            response = agent_runner.make_request(user_message)<br/>            live_console.update(f&quot;AI Waiter: {response.message}&quot;)<br/><br/>        # Exit if LLM indicates conversation is over<br/>        if response.end_conversation:<br/>            break<br/><br/>        user_message = Prompt.ask(&quot;You&quot;)<br/><br/>    # Show orders<br/>    if orders := order_service.get_orders():<br/>        console.print(f&quot;Order placed: {orders}&quot;)</span></pre><p id="57e6" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">There’s also some extra CLI handling code which I won’t show here. While both frameworks support asynchronous programming, I’m going to stick to a standard synchronous approach here for simplicity.</p><h1 id="3da2" class="oh oi gx bf oj ok ol om on oo op oq or os ot ou ov ow ox oy oz pa pb pc pd pe bk">PydanticAI Implementation</h1><p id="4f45" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">I’ll start with the PydanticAI implementation since it’s a bit more straightforward.</p><h2 id="94c5" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Dependencies</h2><p id="4885" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">First we need to define the structure of dependencies that will be used by tools or dynamic system prompts:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="4102" class="px oi gx pu b bg py pz l qa qb">@dataclass<br/>class Dependencies:<br/>    menu_service: MenuService<br/>    order_service: OrderService<br/>    restaurant_name: str<br/>    table_number: int</span></pre><h2 id="923f" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Tools</h2><p id="fb07" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">Then the tools themselves, which can access the run-time dependencies through the <code class="da qc qd qe pu b">RunContext</code> object that will be passed in along with any arguments. PydanticAI uses the type annotations and docstrings of the tool functions to automatically generate their schemas to provide to the LLM.</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="ebfd" class="px oi gx pu b bg py pz l qa qb">def create_order(<br/>    ctx: RunContext[Dependencies],<br/>    table_number: int,<br/>    order_items: Annotated[list[str], &quot;List of food menu items to order&quot;],<br/>) -&gt; str:<br/>    &quot;&quot;&quot;Create an order for the table&quot;&quot;&quot;<br/>    ctx.deps.order_service.create_order(table_number, order_items)<br/>    return &quot;Order placed&quot;<br/><br/><br/>def get_menu(ctx: RunContext[Dependencies]) -&gt; dict[str, list[str]]:<br/>    &quot;&quot;&quot;Get the full menu for the restaurant&quot;&quot;&quot;<br/>    return ctx.deps.menu_service.get_menu()</span></pre><h2 id="48bc" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Agent</h2><p id="9518" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">The key component of the PydanticAI framework is the <code class="da qc qd qe pu b">Agent</code> class, which manages interactions with the provided model, handles tool calling and ensures appropriate final result format:</p></div></div><div class="mg"><div class="ab ce"><div class="li mh lj mi lk mj ci mk cj ml cl bh"><figure class="po pp pq pr ps mg mu mv paragraph-image"><div role="button" tabindex="0" class="mw mx cd my bh mz"><div class="mm mn qu"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/1*izCPfqkZSQ101wj7ifAtig.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/1*izCPfqkZSQ101wj7ifAtig.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/1*izCPfqkZSQ101wj7ifAtig.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/1*izCPfqkZSQ101wj7ifAtig.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/1*izCPfqkZSQ101wj7ifAtig.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/1*izCPfqkZSQ101wj7ifAtig.png 1100w, https://miro.medium.com/v2/resize:fit:2000/format:webp/1*izCPfqkZSQ101wj7ifAtig.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/1*izCPfqkZSQ101wj7ifAtig.png 640w, https://miro.medium.com/v2/resize:fit:720/1*izCPfqkZSQ101wj7ifAtig.png 720w, https://miro.medium.com/v2/resize:fit:750/1*izCPfqkZSQ101wj7ifAtig.png 750w, https://miro.medium.com/v2/resize:fit:786/1*izCPfqkZSQ101wj7ifAtig.png 786w, https://miro.medium.com/v2/resize:fit:828/1*izCPfqkZSQ101wj7ifAtig.png 828w, https://miro.medium.com/v2/resize:fit:1100/1*izCPfqkZSQ101wj7ifAtig.png 1100w, https://miro.medium.com/v2/resize:fit:2000/1*izCPfqkZSQ101wj7ifAtig.png 2000w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 1000px"/><img alt="" class="bh ln na c" width="1000" height="239" loading="eager" role="presentation"/></picture></div></div><figcaption class="qv fi qw mm mn qx qy bf b bg z dx">Basic graph diagram for the PydanticAI Agent</figcaption></figure></div></div></div><div class="ab ce"><div class="cl bh gc gd ge gf"><p id="72d4" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">This graph diagram is technically slightly misleading since structured output is implemented using tool calling, but conceptually it works.</p><p id="fc26" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">All the examples in the documentation involve initialising an <code class="da qc qd qe pu b">Agent</code> as a module-level object at import-time, and then using its decorator methods to register tools and system prompts. However, this approach doesn’t work well if you want dynamically configure agent parameters like model choice, tool configuration, system prompt at runtime. So I made a function for creating an agent instead:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="1495" class="px oi gx pu b bg py pz l qa qb">def get_agent(model_name: KnownModelName, api_key: str | None = None) -&gt; Agent[Dependencies, LLMResponse]:<br/>    &quot;&quot;&quot;<br/>    Construct an agent with an LLM model, tools and system prompt<br/>    &quot;&quot;&quot;<br/>    model = build_model_from_name_and_api_key(<br/>        model_name=model_name,<br/>        api_key=api_key,<br/>    )<br/>    # Tools can also be registered using @agent.tool decorator, but providing them like this is more appropriate when<br/>    # constructing the agent dynamically<br/>    agent = Agent(model=model, deps_type=Dependencies, tools=[get_menu, create_order], result_type=LLMResponse)<br/><br/>    # Define dynamic system prompt<br/>    @agent.system_prompt<br/>    def system_prompt(ctx: RunContext[Dependencies]) -&gt; str:<br/>        return PROMPT_TEMPLATE.format(restaurant_name=ctx.deps.restaurant_name, table_number=ctx.deps.table_number)<br/><br/>    return agent</span></pre><p id="8b57" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">The <code class="da qc qd qe pu b">build_model_from_name_and_api_key()</code> function simply looks up and initialises the appropriate model class based on the model name. Unfortunately the <code class="da qc qd qe pu b">@agent.system_prompt</code> decorator is the only way to register dynamic system prompts, which seems like a bit of a limitation.</p><h2 id="f388" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Agent Runner</h2><p id="e695" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">Here’s what the <code class="da qc qd qe pu b">AgentRunner</code> implementation looks like:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="37bf" class="px oi gx pu b bg py pz l qa qb">class PydanticAIAgentRunner(AgentRunner):<br/>    agent: Agent[Dependencies, LLMResponse]<br/>    deps: Dependencies<br/>    message_history: list[ModelMessage]<br/><br/>    def __init__(self, menu_service: MenuService, order_service: OrderService, args: argparse.Namespace):<br/>        self.agent = get_agent(model_name=args.model, api_key=args.api_key)<br/>        self.deps = Dependencies(<br/>            menu_service=menu_service,<br/>            order_service=order_service,<br/>            restaurant_name=args.restaurant_name,<br/>            table_number=args.table_number,<br/>        )<br/>        self.message_history = []<br/><br/>    def make_request(self, user_message: str) -&gt; LLMResponse:<br/>        ai_response = self.agent.run_sync(<br/>            user_message,<br/>            deps=self.deps,<br/>            message_history=self.message_history,<br/>        )<br/>        self.message_history = ai_response.all_messages()<br/>        return ai_response.data</span></pre><p id="9194" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">The <code class="da qc qd qe pu b">Agent</code> instance is effectively stateless so it does not store the message history itself, instead it must be provided each time to <code class="da qc qd qe pu b">agent.run_sync()</code> along with the dependencies and the new user query.</p><p id="7bc6" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">Overall I think this implementation is quite straightforward and easy to to reason about!</p><h1 id="4438" class="oh oi gx bf oj ok ol om on oo op oq or os ot ou ov ow ox oy oz pa pb pc pd pe bk">LangChain Implementation</h1><p id="10da" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">For the LangChain implementation I wanted to use the <code class="da qc qd qe pu b">AgentExecutor</code> class, even though it’s actually now the <a class="ag ir" href="https://python.langchain.com/docs/how_to/agent_executor/" rel="noopener ugc nofollow" target="_blank">legacy approach</a> since LangGraph was introduced. LangGraph adds more flexibility at the cost of complexity, so I figured <code class="da qc qd qe pu b">AgentExecutor</code> should still do the job for this use case. I will explore the graph-based implementations later on.</p><h2 id="c8a4" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Tools</h2><p id="65dd" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">LangChain includes a <code class="da qc qd qe pu b">@tool</code> decorator for registering functions and inspecting their signatures to automatically generate tool schemas, however the way to achieve runtime dependency injection with this method <a class="ag ir" href="https://python.langchain.com/docs/how_to/tool_runtime/#injecting-arguments-at-runtime" rel="noopener ugc nofollow" target="_blank">looks rather convoluted</a> (and I think the example is broken, where does <code class="da qc qd qe pu b">user_id</code> even come from?). Therefore, I decided to go for a class-based tool approach so they can be initialised with their required dependencies:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="6adc" class="px oi gx pu b bg py pz l qa qb">class GetMenuTool(BaseTool):<br/>    &quot;&quot;&quot;<br/>    Tool that can be used by the LLM to get the full menu for the restaurant.<br/>    &quot;&quot;&quot;<br/><br/>    name: str = &quot;get_menu&quot;<br/>    description: str = &quot;Get the full menu for the restaurant&quot;<br/>    menu_service: MenuService<br/><br/>    def _run(self) -&gt; dict[str, list[str]]:<br/>        return self.menu_service.get_menu()<br/><br/><br/>class CreateOrderInputSchema(BaseModel):<br/>    table_number: int<br/>    order_items: Annotated[list[str], &quot;List of food menu items to order&quot;]<br/><br/><br/>class CreateOrderTool(BaseTool):<br/>    &quot;&quot;&quot;<br/>    Tool that can be used by the LLM to create an order for the table.<br/>    &quot;&quot;&quot;<br/><br/>    name: str = &quot;create_order&quot;<br/>    description: str = &quot;Create an order for the table&quot;<br/>    args_schema: type[BaseModel] = CreateOrderInputSchema<br/>    order_service: OrderService<br/><br/>    def _run(self, table_number: int, order_items: list[str]) -&gt; str:<br/>        self.order_service.create_order(table_number, order_items)<br/>        return &quot;Order placed&quot;</span></pre><h2 id="db46" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Structured Output</h2><p id="95ee" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">The <code class="da qc qd qe pu b">ChatModel.with_structured_output()</code> method takes a desired output schema (e.g. Pydantic model or TypedDict) and binds a corresponding tool that the LLM can use to produce a structured output. However, once this is done, it’s not possible to bind any more tools to the model. Therefore I needed to create a custom class-based tool to achieve structured outputs as well as additional tools:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="e280" class="px oi gx pu b bg py pz l qa qb">class StructuredResponseTool(BaseTool):<br/>    &quot;&quot;&quot;<br/>    Tool that can be used by the LLM to provide a structured response to the user.<br/>    Does not have any associated functionality, it is just a way to enable structured output from the LLM.<br/>    &quot;&quot;&quot;<br/><br/>    name: str = &quot;respond_to_user&quot;<br/>    description: str = (<br/>        &quot;ALWAYS use this tool to provide a response to the user, INSTEAD OF responding directly. &quot;<br/>        &quot;The `message` content should be what you would normally respond with in a conversation. &quot;<br/>        &quot;The `end_conversation` flag should be set to True if the conversation should end after this response.&quot;<br/>    )<br/>    args_schema: type[BaseModel] = LLMResponse<br/><br/>    # The following content is only used by legacy AgentExecutor, not required for graph agent<br/>    return_direct: bool = True  # Causes the tool result to be returned directly to the user<br/><br/>    def _run(self, message: str, end_conversation: bool) -&gt; str:<br/>        # Return a serialised str as a workaround to avoid a validation error in the RunnableWithMessageHistory<br/>        return LLMResponse(message=message, end_conversation=end_conversation).model_dump_json()</span></pre><h2 id="1c45" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Agent</h2><p id="57fe" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">LangChain includes a bunch of factory functions which produce pre-built agent configurations for different use cases. In this context, an “agent” refers to a <code class="da qc qd qe pu b">ChatModel</code> chained with various prompt input and/or response output parsers/processors. It’s still a simple linear input-output chain that doesn’t involve multiple LLM interactions or tool calling — that’s where the <code class="da qc qd qe pu b">AgentExecutor</code> comes in.</p><p id="e086" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">There’s a convenience <code class="da qc qd qe pu b">create_tool_calling_agent()</code> constructor function, which apparently makes older variants like <code class="da qc qd qe pu b">create_react_agent()</code> and <code class="da qc qd qe pu b">create_openai_functions_agent()</code> obsolete (and is also itself now made obsolete by the LangGraph equivalent). This <em class="pn">almost</em> works for this use case, except it doesn’t force tool use, which is required when using a tool-based implementation to achieve structured outputs. Therefore I had to basically re-implement the contents of <code class="da qc qd qe pu b">create_tool_calling_agent()</code> to force tool use.</p><p id="517d" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">The <code class="da qc qd qe pu b">ChatPromptTemplate</code> supports dynamic prompt construction using parameter substitution from the input object provided to the agent/chain.</p><h2 id="ff0e" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Chat History / Memory</h2><p id="62ca" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">It appears that when<code class="da qc qd qe pu b">AgentExecutor</code> is invoked, it only returns the final response but does not exposure or keep track of the intermediate messages exchanged with the LLM in an obvious way. They are hidden and lost deep within the impenetrable depths of the confusing <code class="da qc qd qe pu b">AgentExecutor</code> implementation, and can only be retrieved with the <a class="ag ir" href="https://python.langchain.com/docs/how_to/agent_executor/#adding-in-memory" rel="noopener ugc nofollow" target="_blank">wicked dark magic</a> of the <code class="da qc qd qe pu b">RunnableWithMessageHistory</code> wrapper. Do not try and figure out how it works if you value your sanity. Infuriatingly it also requires you to provide a <code class="da qc qd qe pu b">session_id</code> configuration parameter when invoking the <code class="da qc qd qe pu b">AgentExecutor</code> even if you don’t need multi-session chat history.</p><h2 id="ba05" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Agent Executor</h2><p id="79a5" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">Here’s how the full agent executor with memory is constructed:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="3583" class="px oi gx pu b bg py pz l qa qb">def get_agent_executor(<br/>    tools: Sequence[BaseTool], model_name: str, api_key: str | None = None<br/>) -&gt; RunnableWithMessageHistory:<br/>    &quot;&quot;&quot;<br/>    Construct an agent with an LLM model, tools and system prompt<br/>    &quot;&quot;&quot;<br/>    model = build_model_from_name_and_api_key(<br/>        model_name=model_name,<br/>        api_key=api_key,<br/>    )<br/><br/>    prompt = ChatPromptTemplate.from_messages(<br/>        [<br/>            (&quot;system&quot;, PROMPT_TEMPLATE),<br/>            (&quot;placeholder&quot;, &quot;{chat_history}&quot;),<br/>            (&quot;human&quot;, &quot;{input}&quot;),<br/>            (&quot;placeholder&quot;, &quot;{agent_scratchpad}&quot;),<br/>        ]<br/>    )<br/><br/>    # Effectively re-implement create_tool_calling_agent() here, but force tool use<br/>    llm_with_tools = model.bind_tools(tools, tool_choice=True)<br/>    agent = (<br/>        RunnablePassthrough.assign(agent_scratchpad=lambda x: format_to_tool_messages(x[&quot;intermediate_steps&quot;]))<br/>        | prompt<br/>        | llm_with_tools<br/>        | ToolsAgentOutputParser()<br/>    )<br/><br/>    agent_executor = AgentExecutor.from_agent_and_tools(agent=agent, tools=tools)<br/><br/>    # Enable chat history/memory (very convoluted)<br/>    # Use a single message history (no need for multiple threads)<br/>    message_history = ChatMessageHistory()<br/><br/>    agent_with_chat_history = RunnableWithMessageHistory(<br/>        runnable=agent_executor,  # type: ignore[arg-type]<br/>        get_session_history=lambda _: message_history,<br/>        input_messages_key=&quot;input&quot;,<br/>        history_messages_key=&quot;chat_history&quot;,<br/>    )<br/><br/>    return agent_with_chat_history</span></pre><h2 id="37e5" class="qf oi gx bf oj qg qh eb on qi qj ed or nm qk ql qm nq qn qo qp nu qq qr qs qt bk">Agent Runner</h2><p id="6711" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">And then the <code class="da qc qd qe pu b">AgentRunner</code> implementation is:</p><pre class="po pp pq pr ps pt pu pv bp pw bb bk"><span id="1937" class="px oi gx pu b bg py pz l qa qb">class LangchainAgentRunner(AgentRunner):<br/>    def __init__(self, menu_service: MenuService, order_service: OrderService, args: argparse.Namespace):<br/>        # Initialise tools with dependencies<br/>        tools = [<br/>            GetMenuTool(menu_service=menu_service),<br/>            CreateOrderTool(order_service=order_service),<br/>            StructuredResponseTool(),<br/>        ]<br/>        self.agent_executor = get_agent_executor(tools=tools, model_name=args.model, api_key=args.api_key)<br/>        self.static_input_content = {&quot;restaurant_name&quot;: args.restaurant_name, &quot;table_number&quot;: args.table_number}<br/>        self.config: RunnableConfig = {&quot;configurable&quot;: {&quot;session_id&quot;: &quot;not-even-used&quot;}}<br/><br/>    def make_request(self, user_message: str) -&gt; LLMResponse:<br/>        result = self.agent_executor.invoke(self.static_input_content | {&quot;input&quot;: user_message}, self.config)<br/>        # De-serialise structured response into an LLMResponse<br/>        response = LLMResponse.model_validate_json(result[&quot;output&quot;])<br/>        return response</span></pre><h1 id="d853" class="oh oi gx bf oj ok ol om on oo op oq or os ot ou ov ow ox oy oz pa pb pc pd pe bk">Conclusion</h1><p id="61b3" class="pw-post-body-paragraph nb nc gx nd b ne pf ng nh ni pg nk nl nm ph no np nq pi ns nt nu pj nw nx ny gq bk">This demonstration shows that it is much simpler to create a basic conversational and tool-calling AI agent using the PydanticAI framework than LangChain. LangChain has so many layers of deprecated functionality and is in desperate need of some extensive spring cleaning.</p><p id="443f" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">I also wanted to enable streamed responses however this seemed quite difficult to achieve using LangChain with both tool calling and structured output involved.</p><p id="3896" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">I imagine that the newer LangGraph approach for creating agents addresses many of the limitations and frustrations encountered here. PydanticAI has also recently added a <a class="ag ir" href="https://ai.pydantic.dev/graph/" rel="noopener ugc nofollow" target="_blank">graph library</a>, so next time I will explore what full graph-based implementations for both frameworks looks like.</p><p id="59af" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">I hope this helps anyone who wants to choose between the frameworks or learn how they can be used to build cool things with AI!</p><p id="9c6a" class="pw-post-body-paragraph nb nc gx nd b ne nf ng nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny gq bk">The complete project repository can be found <a class="ag ir" href="https://github.com/Finndersen/ai_framework_demo" rel="noopener ugc nofollow" target="_blank">here</a>.</p></div></div></div></div></section></div></div></article></div><div class="ab ce"><div class="cl bh gc gd ge gf"><div class="qz ra ab iu"><div class="rb ab"><a class="rc ay an ap" rel="noopener follow" href="/tag/langchain?source=post_page-----e0a059435e9d---------------------------------------"><div class="rd cd da re gh rf rg bf b bg z bk rh">Langchain</div></a></div><div class="rb ab"><a class="rc ay an ap" rel="noopener follow" href="/tag/llm?source=post_page-----e0a059435e9d---------------------------------------"><div class="rd cd da re gh rf rg bf b bg z bk rh">Llm</div></a></div><div class="rb ab"><a class="rc ay an ap" rel="noopener follow" href="/tag/ai?source=post_page-----e0a059435e9d---------------------------------------"><div class="rd cd da re gh rf rg bf b bg z bk rh">AI</div></a></div><div class="rb ab"><a class="rc ay an ap" rel="noopener follow" href="/tag/pydantic-ai?source=post_page-----e0a059435e9d---------------------------------------"><div class="rd cd da re gh rf rg bf b bg z bk rh">Pydantic Ai</div></a></div><div class="rb ab"><a class="rc ay an ap" rel="noopener follow" href="/tag/ai-agent?source=post_page-----e0a059435e9d---------------------------------------"><div class="rd cd da re gh rf rg bf b bg z bk rh">Ai Agent</div></a></div></div></div></div><div class="l"></div><footer class="ri rj rk rl rm ab q rn ro c"><div class="l ae"><div class="ab ce"><div class="cl bh gc gd ge gf"><div class="ab cs rp"><div class="ab q kd"><div class="rq l"><span class="l rr rs rt e d"><div class="ab q kd ke"><div class="pw-multi-vote-icon cd kf kg kh ki"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2Fe0a059435e9d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;user=Finn+Andersen&amp;userId=3388bcd2bdf0&amp;source=---footer_actions--e0a059435e9d---------------------clap_footer------------------"><div><div class="bm" aria-hidden="false"><div class="kj ap kk kl km kn an ko kp kq ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kr ks kt ku kv kw kx"><p class="bf b dy z dx"><span class="ky">--</span></p></div></div></span><span class="l h g f ru rv"><div class="ab q kd ke"><div class="pw-multi-vote-icon cd kf kg kh ki"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2Fe0a059435e9d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;user=Finn+Andersen&amp;userId=3388bcd2bdf0&amp;source=---footer_actions--e0a059435e9d---------------------clap_footer------------------"><div><div class="bm" aria-hidden="false"><div class="kj ap kk kl km kn an ko kp kq ki"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kr ks kt ku kv kw kx"><p class="bf b dy z dx"><span class="ky">--</span></p></div></div></span></div><div class="bq ab"><div><div class="bm" aria-hidden="false"><button class="ap kj lb lc ab q fn ld le" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="la"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b bg z dx"><span class="pw-responses-count kz la">4</span></p></button></div></div></div></div><div class="ab q"><div class="rw l cb"><div><div class="bm" aria-hidden="false"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" data-testid="footerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fe0a059435e9d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;source=---footer_actions--e0a059435e9d---------------------bookmark_footer------------------"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="dx lg" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div><div class="rw l cb"><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="ag fn ai aj ak al am lo ao ap aq fa lp lq le lr"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></footer><div class="rx l"><div class="ab ce"><div class="cl bh gc gd ge gf"><div class="ab ry rz sa it is"><div class="sb sc sd se sf sg sh si sj sk ab cs"><div class="h k"><a tabindex="0" rel="noopener follow" href="/@finndersen?source=post_page---post_author_info--e0a059435e9d---------------------------------------"><div class="l cd"><img alt="Finn Andersen" class="l fg by if ie da" src="https://miro.medium.com/v2/resize:fill:96:96/1*V8TankR4nioTPHtCRGBdsw.jpeg" width="48" height="48" loading="lazy"/><div class="fu by l if ie fv n ay sl"></div></div></a></div><div class="j i d"><a tabindex="0" rel="noopener follow" href="/@finndersen?source=post_page---post_author_info--e0a059435e9d---------------------------------------"><div class="l cd"><img alt="Finn Andersen" class="l fg by sm sn da" src="https://miro.medium.com/v2/resize:fill:128:128/1*V8TankR4nioTPHtCRGBdsw.jpeg" width="64" height="64" loading="lazy"/><div class="fu by l sm sn fv n ay sl"></div></div></a></div><div class="j i d so cb"><div class="ab"><span><button class="bf b bg z sp rd sq sr ss st su ey ez sv sw sx fd bh fe ff fg bm fh fi">Follow</button></span><div class="dw l"><div><div><div class="bm" aria-hidden="false"><div class="l"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F65a58c4e46da&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;newsletterV3=3388bcd2bdf0&amp;newsletterV3Id=65a58c4e46da&amp;user=Finn+Andersen&amp;userId=3388bcd2bdf0&amp;source=---post_author_info--e0a059435e9d---------------------subscribe_user------------------"><button class="bf b bg z tb an tc td te tf tg th ti tj ez sv sw sx fd fe ff fg bm fh fi" aria-label="Subscribe"><svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" fill="none" viewBox="0 0 38 38" class="sy sz ta"><rect width="0.5" height="6.5" x="26.25" y="9.25" rx="0.25"></rect><rect width="0.5" height="6.5" x="29.75" y="12.25" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5 19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div><div class="ab cr cc"><div class="tk tl tm mi mh l"><a class="ag ah ai ak al am an ao ap aq ar as at au ab q" rel="noopener follow" href="/@finndersen?source=post_page---post_author_info--e0a059435e9d---------------------------------------"><h2 class="pw-author-name bf to tp tq tr ts tt tu nm ql qm nq qo qp nu qr qs bk"><span class="gq tn">Written by <!-- -->Finn Andersen</span></h2></a><div class="rb ab id"><div class="l cb"><span class="pw-follower-count bf b bg z dx"><a class="ag ah ai aj ak al am an ao ap aq ar as io" rel="noopener follow" href="/@finndersen/followers?source=post_page---post_author_info--e0a059435e9d---------------------------------------">222 Followers</a></span></div><div class="bf b bg z dx ab tv"><span class="ip l" aria-hidden="true"><span class="bf b bg z dx">·</span></span><a class="ag ah ai aj ak al am an ao ap aq ar as io" rel="noopener follow" href="/@finndersen/following?source=post_page---post_author_info--e0a059435e9d---------------------------------------">22 Following</a></div></div><div class="tw l"><p class="bf b bg z bk"><span class="gq">Tech projects and other things on my mind</span></p></div></div></div><div class="h k"><div class="ab"><span><button class="bf b bg z sp rd sq sr ss st su ey ez sv sw sx fd bh fe ff fg bm fh fi">Follow</button></span><div class="dw l"><div><div><div class="bm" aria-hidden="false"><div class="l"><span><a class="ag ah ai aj ak al am an ao ap aq ar as at au" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F65a58c4e46da&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40finndersen%2Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d&amp;newsletterV3=3388bcd2bdf0&amp;newsletterV3Id=65a58c4e46da&amp;user=Finn+Andersen&amp;userId=3388bcd2bdf0&amp;source=---post_author_info--e0a059435e9d---------------------subscribe_user------------------"><button class="bf b bg z tb an tc td te tf tg th ti tj ez sv sw sx fd fe ff fg bm fh fi" aria-label="Subscribe"><svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" fill="none" viewBox="0 0 38 38" class="sy sz ta"><rect width="0.5" height="6.5" x="26.25" y="9.25" rx="0.25"></rect><rect width="0.5" height="6.5" x="29.75" y="12.25" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5 19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div></div></div></div><div class="tx ty tz ua ub l"><div class="uc bh r rx"></div><div class="ab ce"><div class="cl bh gc gd ge gf"><div class="ab q cs"><h2 class="bf to ok om on oo oq or os ou ov ow oy oz pa pc pd bk">Responses (<!-- -->4<!-- -->)</h2><div class="ab ud"><div><div class="bm" aria-hidden="false"><a class="ue uf" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--e0a059435e9d---------------------------------------" rel="noopener follow" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" d="M11.987 5.036a.754.754 0 0 1 .914-.01c.972.721 1.767 1.218 2.6 1.543.828.322 1.719.485 2.887.505a.755.755 0 0 1 .741.757c-.018 3.623-.43 6.256-1.449 8.21-1.034 1.984-2.662 3.209-4.966 4.083a.75.75 0 0 1-.537-.003c-2.243-.874-3.858-2.095-4.897-4.074-1.024-1.951-1.457-4.583-1.476-8.216a.755.755 0 0 1 .741-.757c1.195-.02 2.1-.182 2.923-.503.827-.322 1.6-.815 2.519-1.535m.468.903c-.897.69-1.717 1.21-2.623 1.564-.898.35-1.856.527-3.026.565.037 3.45.469 5.817 1.36 7.515.884 1.684 2.25 2.762 4.284 3.571 2.092-.81 3.465-1.89 4.344-3.575.886-1.698 1.299-4.065 1.334-7.512-1.149-.039-2.091-.217-2.99-.567-.906-.353-1.745-.873-2.683-1.561m-.009 9.155a2.672 2.672 0 1 0 0-5.344 2.672 2.672 0 0 0 0 5.344m0 1a3.672 3.672 0 1 0 0-7.344 3.672 3.672 0 0 0 0 7.344m-1.813-3.777.525-.526.916.917 1.623-1.625.526.526-2.149 2.152z" clip-rule="evenodd"></path></svg></a></div></div></div></div><div class="ug uh ui uj uk ul um l"></div><div class="un l"><button class="bf b bg z bk rd uo up uq lg ld su ey ez fa ur us ut fd uu uv uw ux uy fe ff fg bm fh fi">See all responses</button></div></div></div></div><div class="uz va vb vc vd l bx"><div class="h k j"><div class="uc bh ve vf"></div><div class="ab ce"><div class="cl bh gc gd ge gf"><div class="vg ab kd iu"><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="https://help.medium.com/hc/en-us?source=post_page-----e0a059435e9d---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Help</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="https://medium.statuspage.io/?source=post_page-----e0a059435e9d---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Status</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" rel="noopener follow" href="/about?autoplay=1&amp;source=post_page-----e0a059435e9d---------------------------------------"><p class="bf b dy z dx">About</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" rel="noopener follow" href="/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----e0a059435e9d---------------------------------------"><p class="bf b dy z dx">Careers</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="mailto:pressinquiries@medium.com" rel="noopener follow"><p class="bf b dy z dx">Press</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="https://blog.medium.com/?source=post_page-----e0a059435e9d---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Blog</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e0a059435e9d---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Privacy</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page-----e0a059435e9d---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Rules</p></a></div><div class="vh vi l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e0a059435e9d---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Terms</p></a></div><div class="vh l"><a class="ag ah ai aj ak al am an ao ap aq ar as at au" href="https://speechify.com/medium?source=post_page-----e0a059435e9d---------------------------------------" rel="noopener follow"><p class="bf b dy z dx">Text to speech</p></a></div></div></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20250417-120107-f638841697"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-e0a059435e9d","user-3388bcd2bdf0"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[],"pubFeaturingPostPageLabelEnabled":false,"shouldFollowPostQueryEnabled":false,"followSubscribeButtonEnabled":false},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":true,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"f14a2302-9325-4f6c-87f7-aad35560d2a6","requestTag":"","hybridDevServices":[],"originalSpanCarrier":{"traceparent":"00-5c43e1d70a05e88e0441291910038c8b-0043b2a0b725db56-01"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002F@finndersen\u002Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"partnerProgram":{"selectedCountryCode":null},"queryString":"","currentHash":""},"config":{"nodeEnv":"production","version":"main-20250417-120107-f638841697","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20250417-120107-f638841697","commit":"f63884169784df503ce163a71e425e37e3cdd75b"}},"datacenter":"us"},"googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"7*V1_7XP4snlmqrc_0Njontw.png","height":110,"width":500},"postLogo":{"imageId":"bd978bb536350a710e8efb012513429cabdc4c28700604261aeda246d0f980b7","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"collectionByDomainOrSlug({\"domainOrSlug\":\"medium.com\"})":null,"postResult({\"id\":\"e0a059435e9d\"})":{"__ref":"Post:e0a059435e9d"}},"LinkedAccounts:3388bcd2bdf0":{"__typename":"LinkedAccounts","mastodon":null,"id":"3388bcd2bdf0"},"UserViewerEdge:userId:3388bcd2bdf0-viewerId:lo_9b4dac1f6e6d":{"__typename":"UserViewerEdge","id":"userId:3388bcd2bdf0-viewerId:lo_9b4dac1f6e6d","isFollowing":false,"isUser":false,"isMuting":false},"NewsletterV3:65a58c4e46da":{"__typename":"NewsletterV3","id":"65a58c4e46da","type":"NEWSLETTER_TYPE_AUTHOR","slug":"3388bcd2bdf0","name":"3388bcd2bdf0","collection":null,"user":{"__ref":"User:3388bcd2bdf0"}},"User:3388bcd2bdf0":{"__typename":"User","id":"3388bcd2bdf0","name":"Finn Andersen","username":"finndersen","newsletterV3":{"__ref":"NewsletterV3:65a58c4e46da"},"linkedAccounts":{"__ref":"LinkedAccounts:3388bcd2bdf0"},"isSuspended":false,"imageId":"1*V8TankR4nioTPHtCRGBdsw.jpeg","customDomainState":null,"hasSubdomain":false,"verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"isPartnerProgramEnrolled":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:3388bcd2bdf0-viewerId:lo_9b4dac1f6e6d"},"viewerIsUser":false,"socialStats":{"__typename":"SocialStats","followerCount":222,"followingCount":17,"collectionFollowingCount":5},"bio":"Tech projects and other things on my mind","membership":null,"allowNotes":true,"twitterScreenName":""},"Paragraph:385bc0849373_0":{"__typename":"Paragraph","id":"385bc0849373_0","name":"6fdd","type":"H3","href":null,"layout":null,"metadata":null,"text":"LangChain vs PydanticAI for building an AI Agent","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*g787VN00jm0lQrbjcy7Yag.png":{"__typename":"ImageMetadata","id":"1*g787VN00jm0lQrbjcy7Yag.png","originalHeight":956,"originalWidth":2822,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:385bc0849373_1":{"__typename":"Paragraph","id":"385bc0849373_1","name":"be9a","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:1*g787VN00jm0lQrbjcy7Yag.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_2":{"__typename":"Paragraph","id":"385bc0849373_2","name":"35ca","type":"P","href":null,"layout":null,"metadata":null,"text":"LangChain is a well known agential AI framework, and PydanticAI is newer on the scene but quickly gaining popularity. Here I compare how they can be used to build a simple conversational AI Agent, involving the following features:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_3":{"__typename":"Paragraph","id":"385bc0849373_3","name":"ce9a","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Dynamic model choice","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_4":{"__typename":"Paragraph","id":"385bc0849373_4","name":"71a1","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Human-in-the-loop input","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_5":{"__typename":"Paragraph","id":"385bc0849373_5","name":"09ff","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Tool calling with dependencies","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_6":{"__typename":"Paragraph","id":"385bc0849373_6","name":"21b2","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Conversation history\u002Fmemory","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_7":{"__typename":"Paragraph","id":"385bc0849373_7","name":"ec76","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Dynamic system prompt","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_8":{"__typename":"Paragraph","id":"385bc0849373_8","name":"04a1","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Structured output","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_9":{"__typename":"Paragraph","id":"385bc0849373_9","name":"1289","type":"H3","href":null,"layout":null,"metadata":null,"text":"Agent Behaviour","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_10":{"__typename":"Paragraph","id":"385bc0849373_10","name":"0f25","type":"P","href":null,"layout":null,"metadata":null,"text":"The aim is to build an AI agent that will play the role of an eccentric waiter at a restaurant who will ask about your dietary requirements and take your order. An example conversation might look like:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_11":{"__typename":"Paragraph","id":"385bc0849373_11","name":"b2cd","type":"BQ","href":null,"layout":null,"metadata":null,"text":"AI Waiter: Ah, bonjour madame et monsieur! Welcome to Le Bistro, where the food is as delightful as the company! Before we embark on a culinary adventure, might you have any dietary restrictions or preferences? We wouldn’t want any rogue ingredients crashing the party!","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":269,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_12":{"__typename":"Paragraph","id":"385bc0849373_12","name":"71ae","type":"BQ","href":null,"layout":null,"metadata":null,"text":"You: I only eat yellow coloured food","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_13":{"__typename":"Paragraph","id":"385bc0849373_13","name":"38e0","type":"BQ","href":null,"layout":null,"metadata":null,"text":"\u003Cagent makes tool call to get list of menu items\u003E","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_14":{"__typename":"Paragraph","id":"385bc0849373_14","name":"1697","type":"BQ","href":null,"layout":null,"metadata":null,"text":"AI Waiter: Magnifique! A connoisseur of the golden hue, I see! Let’s explore the menu with your sunshine-filled preference in mind. For appetizers, we have the Quinoa Stuffed Bell Peppers, which are a vibrant yellow. For the main course, the Chickpea and Sweet Potato Curry is a golden delight! And for dessert, the Fresh Fruit Sorbet might have some yellow options depending on the day! What do you think?","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":406,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_15":{"__typename":"Paragraph","id":"385bc0849373_15","name":"e3bd","type":"BQ","href":null,"layout":null,"metadata":null,"text":"You: I’ll take the Bell Peppers and fruit sorbet thanks!","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":4,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_16":{"__typename":"Paragraph","id":"385bc0849373_16","name":"d44e","type":"BQ","href":null,"layout":null,"metadata":null,"text":"AI Waiter: Excellent choices! One order of the Quinoa Stuffed Bell Peppers and the Fresh Fruit Sorbet for the discerning palate at table number 1! Your order has been placed, and I shall return with your delectable delights shortly. Au revoir!","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":243,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_17":{"__typename":"Paragraph","id":"385bc0849373_17","name":"5e59","type":"BQ","href":null,"layout":null,"metadata":null,"text":"\u003Cagent makes tool call to place order\u003E","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_18":{"__typename":"Paragraph","id":"385bc0849373_18","name":"c40d","type":"BQ","href":null,"layout":null,"metadata":null,"text":"Order placed: [Order(menu_items=[‘Quinoa Stuffed Bell Peppers’, ‘Fresh Fruit Sorbet’], table_number=1)]","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":103,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_19":{"__typename":"Paragraph","id":"385bc0849373_19","name":"5c5f","type":"P","href":null,"layout":null,"metadata":null,"text":"Try it yourself by checking out the full repository here!","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":36,"end":56,"href":"https:\u002F\u002Fgithub.com\u002FFinndersen\u002Fai_framework_demo","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_20":{"__typename":"Paragraph","id":"385bc0849373_20","name":"c141","type":"H3","href":null,"layout":null,"metadata":null,"text":"Frameworks Overview","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_21":{"__typename":"Paragraph","id":"385bc0849373_21","name":"9910","type":"P","href":null,"layout":null,"metadata":null,"text":"LangChain is a well-known framework that has been around since the early days of LLM availability, so while it provides a lot of functionality it also includes quite a bit of legacy content due to how models have rapidly evolved. The combination of many different ways to do the same thing (especially with the introduction of LangGraph) and a component chaining approach that is difficult to reason about makes the framework somewhat daunting to use. It’s also quite a comprehensive library spread across multiple packages, totalling about 300MB if you want multi-model and graph support.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":9,"href":"https:\u002F\u002Fpython.langchain.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":327,"end":336,"href":"https:\u002F\u002Flangchain-ai.github.io\u002Flanggraph\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_22":{"__typename":"Paragraph","id":"385bc0849373_22","name":"cd56","type":"P","href":null,"layout":null,"metadata":null,"text":"PydanticAI is a relatively young framework from the creators of everyone’s favourite data validation library, “designed to make it less painful to build production grade applications with Generative AI.” It seemed quite approachable and intuitive, so I tried it out by creating an basic AI agent that allows querying any database using natural language. The full package (including Logfire) is only about 70MB.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":10,"href":"https:\u002F\u002Fai.pydantic.dev\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":269,"end":295,"href":"https:\u002F\u002Fgithub.com\u002FFinndersen\u002Fdbdex","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":382,"end":389,"href":"https:\u002F\u002Flogfire.pydantic.dev\u002Fdocs\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_23":{"__typename":"Paragraph","id":"385bc0849373_23","name":"a488","type":"P","href":null,"layout":null,"metadata":null,"text":"I enjoyed working with PydanticAI but was curious to see what the LangChain hype was all about, so I put together a demo project to see how they compared.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_24":{"__typename":"Paragraph","id":"385bc0849373_24","name":"edf1","type":"H3","href":null,"layout":null,"metadata":null,"text":"Common Content","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_25":{"__typename":"Paragraph","id":"385bc0849373_25","name":"d7e2","type":"P","href":null,"layout":null,"metadata":null,"text":"These are the common components that both agent implementations will use.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_26":{"__typename":"Paragraph","id":"385bc0849373_26","name":"037d","type":"P","href":null,"layout":null,"metadata":null,"text":"Defining the dynamic system prompt and structured response definition:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_27":{"__typename":"Paragraph","id":"385bc0849373_27","name":"b374","type":"PRE","href":null,"layout":null,"metadata":null,"text":"PROMPT_TEMPLATE = \"\"\"\nYou are playing the role of an incredibly eccentric and entertaining waiter in a fine dining restaurant\ncalled \"{restaurant_name}\" taking orders for table number {table_number}.\nYou must:\n* Greet the customer, ask if they have any dietary restrictions\n* Tell them about appropriate menu items using the *get_menu()* tool.\n* Take their order, and confirm it with them.\n* When confirmed, use the *create_order()* tool to create an order for the customer.\n* Only set the *end_conversation* flag to True in your final response after you have finished the conversation,\nmeaning that your message DOES NOT contain a question.\n\"\"\"\n\nclass LLMResponse(BaseModel):\n    \"\"\"\n    Structured response format for the LLM to use so it can indicate when the conversation should end\n    \"\"\"\n\n    message: str\n    end_conversation: Annotated[\n        bool,\n        \"True if the conversation should end after this response. DO NOT set if the message contains a question.\",\n    ]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_28":{"__typename":"Paragraph","id":"385bc0849373_28","name":"a020","type":"P","href":null,"layout":null,"metadata":null,"text":"Dependency services used by tools that the Agent will call:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_29":{"__typename":"Paragraph","id":"385bc0849373_29","name":"ae1d","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class MenuService:\n    def get_menu(self) -\u003E dict[str, list[str]]:\n        # Returns an Appetizer, Main Course and Deserts menu\n        ...\n\n\nclass OrderService:\n    orders: list[Order]\n\n    def create_order(self, table_number: int, menu_items: list[str]):\n        self.orders.append(Order(table_number=table_number, menu_items=menu_items))\n\n    def get_orders(self) -\u003E list[Order]:\n        return self.orders","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_30":{"__typename":"Paragraph","id":"385bc0849373_30","name":"471a","type":"P","href":null,"layout":null,"metadata":null,"text":"AgentRunner class interface which will need to be implemented using each framework, and the agent execution function:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":0,"end":11,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_31":{"__typename":"Paragraph","id":"385bc0849373_31","name":"4df7","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class AgentRunner(ABC):\n    \"\"\"\n    Base class which provides a common interface for initialising and making\n    requests to an agent.\n    \"\"\"\n\n    @abstractmethod\n    def __init__(self, menu_service: MenuService, order_service: OrderService, args: argparse.Namespace): ...\n\n    @abstractmethod\n    def make_request(self, user_message: str) -\u003E LLMResponse: ...\n\n\ndef run_agent(runner_class: type[AgentRunner], args: argparse.Namespace):\n    \"\"\"Initialise services and run agent conversation loop.\"\"\"\n    menu_service = MenuService()\n    order_service = OrderService()\n\n    agent_runner = runner_class(menu_service, order_service, args)\n    user_message = \"*Greet the customer*\"\n    console = Console()\n    while True:\n        with Live(console=console) as live_console:\n            live_console.update(\"AI Waiter: ...\")\n            response = agent_runner.make_request(user_message)\n            live_console.update(f\"AI Waiter: {response.message}\")\n\n        # Exit if LLM indicates conversation is over\n        if response.end_conversation:\n            break\n\n        user_message = Prompt.ask(\"You\")\n\n    # Show orders\n    if orders := order_service.get_orders():\n        console.print(f\"Order placed: {orders}\")","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_32":{"__typename":"Paragraph","id":"385bc0849373_32","name":"57e6","type":"P","href":null,"layout":null,"metadata":null,"text":"There’s also some extra CLI handling code which I won’t show here. While both frameworks support asynchronous programming, I’m going to stick to a standard synchronous approach here for simplicity.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_33":{"__typename":"Paragraph","id":"385bc0849373_33","name":"3da2","type":"H3","href":null,"layout":null,"metadata":null,"text":"PydanticAI Implementation","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_34":{"__typename":"Paragraph","id":"385bc0849373_34","name":"4f45","type":"P","href":null,"layout":null,"metadata":null,"text":"I’ll start with the PydanticAI implementation since it’s a bit more straightforward.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_35":{"__typename":"Paragraph","id":"385bc0849373_35","name":"94c5","type":"H4","href":null,"layout":null,"metadata":null,"text":"Dependencies","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_36":{"__typename":"Paragraph","id":"385bc0849373_36","name":"4885","type":"P","href":null,"layout":null,"metadata":null,"text":"First we need to define the structure of dependencies that will be used by tools or dynamic system prompts:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_37":{"__typename":"Paragraph","id":"385bc0849373_37","name":"4102","type":"PRE","href":null,"layout":null,"metadata":null,"text":"@dataclass\nclass Dependencies:\n    menu_service: MenuService\n    order_service: OrderService\n    restaurant_name: str\n    table_number: int","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_38":{"__typename":"Paragraph","id":"385bc0849373_38","name":"923f","type":"H4","href":null,"layout":null,"metadata":null,"text":"Tools","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_39":{"__typename":"Paragraph","id":"385bc0849373_39","name":"fb07","type":"P","href":null,"layout":null,"metadata":null,"text":"Then the tools themselves, which can access the run-time dependencies through the RunContext object that will be passed in along with any arguments. PydanticAI uses the type annotations and docstrings of the tool functions to automatically generate their schemas to provide to the LLM.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":82,"end":92,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_40":{"__typename":"Paragraph","id":"385bc0849373_40","name":"ebfd","type":"PRE","href":null,"layout":null,"metadata":null,"text":"def create_order(\n    ctx: RunContext[Dependencies],\n    table_number: int,\n    order_items: Annotated[list[str], \"List of food menu items to order\"],\n) -\u003E str:\n    \"\"\"Create an order for the table\"\"\"\n    ctx.deps.order_service.create_order(table_number, order_items)\n    return \"Order placed\"\n\n\ndef get_menu(ctx: RunContext[Dependencies]) -\u003E dict[str, list[str]]:\n    \"\"\"Get the full menu for the restaurant\"\"\"\n    return ctx.deps.menu_service.get_menu()","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_41":{"__typename":"Paragraph","id":"385bc0849373_41","name":"48bc","type":"H4","href":null,"layout":null,"metadata":null,"text":"Agent","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_42":{"__typename":"Paragraph","id":"385bc0849373_42","name":"9518","type":"P","href":null,"layout":null,"metadata":null,"text":"The key component of the PydanticAI framework is the Agent class, which manages interactions with the provided model, handles tool calling and ensures appropriate final result format:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":53,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*izCPfqkZSQ101wj7ifAtig.png":{"__typename":"ImageMetadata","id":"1*izCPfqkZSQ101wj7ifAtig.png","originalHeight":716,"originalWidth":2998,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:385bc0849373_43":{"__typename":"Paragraph","id":"385bc0849373_43","name":"f56f","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:1*izCPfqkZSQ101wj7ifAtig.png"},"text":"Basic graph diagram for the PydanticAI Agent","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_44":{"__typename":"Paragraph","id":"385bc0849373_44","name":"72d4","type":"P","href":null,"layout":null,"metadata":null,"text":"This graph diagram is technically slightly misleading since structured output is implemented using tool calling, but conceptually it works.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_45":{"__typename":"Paragraph","id":"385bc0849373_45","name":"fc26","type":"P","href":null,"layout":null,"metadata":null,"text":"All the examples in the documentation involve initialising an Agent as a module-level object at import-time, and then using its decorator methods to register tools and system prompts. However, this approach doesn’t work well if you want dynamically configure agent parameters like model choice, tool configuration, system prompt at runtime. So I made a function for creating an agent instead:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":62,"end":67,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_46":{"__typename":"Paragraph","id":"385bc0849373_46","name":"1495","type":"PRE","href":null,"layout":null,"metadata":null,"text":"def get_agent(model_name: KnownModelName, api_key: str | None = None) -\u003E Agent[Dependencies, LLMResponse]:\n    \"\"\"\n    Construct an agent with an LLM model, tools and system prompt\n    \"\"\"\n    model = build_model_from_name_and_api_key(\n        model_name=model_name,\n        api_key=api_key,\n    )\n    # Tools can also be registered using @agent.tool decorator, but providing them like this is more appropriate when\n    # constructing the agent dynamically\n    agent = Agent(model=model, deps_type=Dependencies, tools=[get_menu, create_order], result_type=LLMResponse)\n\n    # Define dynamic system prompt\n    @agent.system_prompt\n    def system_prompt(ctx: RunContext[Dependencies]) -\u003E str:\n        return PROMPT_TEMPLATE.format(restaurant_name=ctx.deps.restaurant_name, table_number=ctx.deps.table_number)\n\n    return agent","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_47":{"__typename":"Paragraph","id":"385bc0849373_47","name":"8b57","type":"P","href":null,"layout":null,"metadata":null,"text":"The build_model_from_name_and_api_key() function simply looks up and initialises the appropriate model class based on the model name. Unfortunately the @agent.system_prompt decorator is the only way to register dynamic system prompts, which seems like a bit of a limitation.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":4,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":152,"end":172,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_48":{"__typename":"Paragraph","id":"385bc0849373_48","name":"f388","type":"H4","href":null,"layout":null,"metadata":null,"text":"Agent Runner","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_49":{"__typename":"Paragraph","id":"385bc0849373_49","name":"e695","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s what the AgentRunner implementation looks like:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":16,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_50":{"__typename":"Paragraph","id":"385bc0849373_50","name":"37bf","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class PydanticAIAgentRunner(AgentRunner):\n    agent: Agent[Dependencies, LLMResponse]\n    deps: Dependencies\n    message_history: list[ModelMessage]\n\n    def __init__(self, menu_service: MenuService, order_service: OrderService, args: argparse.Namespace):\n        self.agent = get_agent(model_name=args.model, api_key=args.api_key)\n        self.deps = Dependencies(\n            menu_service=menu_service,\n            order_service=order_service,\n            restaurant_name=args.restaurant_name,\n            table_number=args.table_number,\n        )\n        self.message_history = []\n\n    def make_request(self, user_message: str) -\u003E LLMResponse:\n        ai_response = self.agent.run_sync(\n            user_message,\n            deps=self.deps,\n            message_history=self.message_history,\n        )\n        self.message_history = ai_response.all_messages()\n        return ai_response.data","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_51":{"__typename":"Paragraph","id":"385bc0849373_51","name":"9194","type":"P","href":null,"layout":null,"metadata":null,"text":"The Agent instance is effectively stateless so it does not store the message history itself, instead it must be provided each time to agent.run_sync() along with the dependencies and the new user query.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":4,"end":9,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":134,"end":150,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_52":{"__typename":"Paragraph","id":"385bc0849373_52","name":"7bc6","type":"P","href":null,"layout":null,"metadata":null,"text":"Overall I think this implementation is quite straightforward and easy to to reason about!","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_53":{"__typename":"Paragraph","id":"385bc0849373_53","name":"4438","type":"H3","href":null,"layout":null,"metadata":null,"text":"LangChain Implementation","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_54":{"__typename":"Paragraph","id":"385bc0849373_54","name":"10da","type":"P","href":null,"layout":null,"metadata":null,"text":"For the LangChain implementation I wanted to use the AgentExecutor class, even though it’s actually now the legacy approach since LangGraph was introduced. LangGraph adds more flexibility at the cost of complexity, so I figured AgentExecutor should still do the job for this use case. I will explore the graph-based implementations later on.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":53,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":228,"end":241,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":108,"end":123,"href":"https:\u002F\u002Fpython.langchain.com\u002Fdocs\u002Fhow_to\u002Fagent_executor\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_55":{"__typename":"Paragraph","id":"385bc0849373_55","name":"c8a4","type":"H4","href":null,"layout":null,"metadata":null,"text":"Tools","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_56":{"__typename":"Paragraph","id":"385bc0849373_56","name":"65dd","type":"P","href":null,"layout":null,"metadata":null,"text":"LangChain includes a @tool decorator for registering functions and inspecting their signatures to automatically generate tool schemas, however the way to achieve runtime dependency injection with this method looks rather convoluted (and I think the example is broken, where does user_id even come from?). Therefore, I decided to go for a class-based tool approach so they can be initialised with their required dependencies:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":21,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":279,"end":286,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":208,"end":231,"href":"https:\u002F\u002Fpython.langchain.com\u002Fdocs\u002Fhow_to\u002Ftool_runtime\u002F#injecting-arguments-at-runtime","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_57":{"__typename":"Paragraph","id":"385bc0849373_57","name":"6adc","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class GetMenuTool(BaseTool):\n    \"\"\"\n    Tool that can be used by the LLM to get the full menu for the restaurant.\n    \"\"\"\n\n    name: str = \"get_menu\"\n    description: str = \"Get the full menu for the restaurant\"\n    menu_service: MenuService\n\n    def _run(self) -\u003E dict[str, list[str]]:\n        return self.menu_service.get_menu()\n\n\nclass CreateOrderInputSchema(BaseModel):\n    table_number: int\n    order_items: Annotated[list[str], \"List of food menu items to order\"]\n\n\nclass CreateOrderTool(BaseTool):\n    \"\"\"\n    Tool that can be used by the LLM to create an order for the table.\n    \"\"\"\n\n    name: str = \"create_order\"\n    description: str = \"Create an order for the table\"\n    args_schema: type[BaseModel] = CreateOrderInputSchema\n    order_service: OrderService\n\n    def _run(self, table_number: int, order_items: list[str]) -\u003E str:\n        self.order_service.create_order(table_number, order_items)\n        return \"Order placed\"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_58":{"__typename":"Paragraph","id":"385bc0849373_58","name":"db46","type":"H4","href":null,"layout":null,"metadata":null,"text":"Structured Output","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_59":{"__typename":"Paragraph","id":"385bc0849373_59","name":"95ee","type":"P","href":null,"layout":null,"metadata":null,"text":"The ChatModel.with_structured_output() method takes a desired output schema (e.g. Pydantic model or TypedDict) and binds a corresponding tool that the LLM can use to produce a structured output. However, once this is done, it’s not possible to bind any more tools to the model. Therefore I needed to create a custom class-based tool to achieve structured outputs as well as additional tools:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":4,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_60":{"__typename":"Paragraph","id":"385bc0849373_60","name":"e280","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class StructuredResponseTool(BaseTool):\n    \"\"\"\n    Tool that can be used by the LLM to provide a structured response to the user.\n    Does not have any associated functionality, it is just a way to enable structured output from the LLM.\n    \"\"\"\n\n    name: str = \"respond_to_user\"\n    description: str = (\n        \"ALWAYS use this tool to provide a response to the user, INSTEAD OF responding directly. \"\n        \"The `message` content should be what you would normally respond with in a conversation. \"\n        \"The `end_conversation` flag should be set to True if the conversation should end after this response.\"\n    )\n    args_schema: type[BaseModel] = LLMResponse\n\n    # The following content is only used by legacy AgentExecutor, not required for graph agent\n    return_direct: bool = True  # Causes the tool result to be returned directly to the user\n\n    def _run(self, message: str, end_conversation: bool) -\u003E str:\n        # Return a serialised str as a workaround to avoid a validation error in the RunnableWithMessageHistory\n        return LLMResponse(message=message, end_conversation=end_conversation).model_dump_json()","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_61":{"__typename":"Paragraph","id":"385bc0849373_61","name":"1c45","type":"H4","href":null,"layout":null,"metadata":null,"text":"Agent","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_62":{"__typename":"Paragraph","id":"385bc0849373_62","name":"57fe","type":"P","href":null,"layout":null,"metadata":null,"text":"LangChain includes a bunch of factory functions which produce pre-built agent configurations for different use cases. In this context, an “agent” refers to a ChatModel chained with various prompt input and\u002For response output parsers\u002Fprocessors. It’s still a simple linear input-output chain that doesn’t involve multiple LLM interactions or tool calling — that’s where the AgentExecutor comes in.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":158,"end":167,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":373,"end":386,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_63":{"__typename":"Paragraph","id":"385bc0849373_63","name":"e086","type":"P","href":null,"layout":null,"metadata":null,"text":"There’s a convenience create_tool_calling_agent() constructor function, which apparently makes older variants like create_react_agent() and create_openai_functions_agent() obsolete (and is also itself now made obsolete by the LangGraph equivalent). This almost works for this use case, except it doesn’t force tool use, which is required when using a tool-based implementation to achieve structured outputs. Therefore I had to basically re-implement the contents of create_tool_calling_agent() to force tool use.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":22,"end":49,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":115,"end":135,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":140,"end":171,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":466,"end":493,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":254,"end":260,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_64":{"__typename":"Paragraph","id":"385bc0849373_64","name":"517d","type":"P","href":null,"layout":null,"metadata":null,"text":"The ChatPromptTemplate supports dynamic prompt construction using parameter substitution from the input object provided to the agent\u002Fchain.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":4,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_65":{"__typename":"Paragraph","id":"385bc0849373_65","name":"ff0e","type":"H4","href":null,"layout":null,"metadata":null,"text":"Chat History \u002F Memory","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_66":{"__typename":"Paragraph","id":"385bc0849373_66","name":"62ca","type":"P","href":null,"layout":null,"metadata":null,"text":"It appears that whenAgentExecutor is invoked, it only returns the final response but does not exposure or keep track of the intermediate messages exchanged with the LLM in an obvious way. They are hidden and lost deep within the impenetrable depths of the confusing AgentExecutor implementation, and can only be retrieved with the wicked dark magic of the RunnableWithMessageHistory wrapper. Do not try and figure out how it works if you value your sanity. Infuriatingly it also requires you to provide a session_id configuration parameter when invoking the AgentExecutor even if you don’t need multi-session chat history.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":20,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":266,"end":279,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":356,"end":382,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":505,"end":515,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":558,"end":571,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":331,"end":348,"href":"https:\u002F\u002Fpython.langchain.com\u002Fdocs\u002Fhow_to\u002Fagent_executor\u002F#adding-in-memory","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_67":{"__typename":"Paragraph","id":"385bc0849373_67","name":"ba05","type":"H4","href":null,"layout":null,"metadata":null,"text":"Agent Executor","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_68":{"__typename":"Paragraph","id":"385bc0849373_68","name":"79a5","type":"P","href":null,"layout":null,"metadata":null,"text":"Here’s how the full agent executor with memory is constructed:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_69":{"__typename":"Paragraph","id":"385bc0849373_69","name":"3583","type":"PRE","href":null,"layout":null,"metadata":null,"text":"def get_agent_executor(\n    tools: Sequence[BaseTool], model_name: str, api_key: str | None = None\n) -\u003E RunnableWithMessageHistory:\n    \"\"\"\n    Construct an agent with an LLM model, tools and system prompt\n    \"\"\"\n    model = build_model_from_name_and_api_key(\n        model_name=model_name,\n        api_key=api_key,\n    )\n\n    prompt = ChatPromptTemplate.from_messages(\n        [\n            (\"system\", PROMPT_TEMPLATE),\n            (\"placeholder\", \"{chat_history}\"),\n            (\"human\", \"{input}\"),\n            (\"placeholder\", \"{agent_scratchpad}\"),\n        ]\n    )\n\n    # Effectively re-implement create_tool_calling_agent() here, but force tool use\n    llm_with_tools = model.bind_tools(tools, tool_choice=True)\n    agent = (\n        RunnablePassthrough.assign(agent_scratchpad=lambda x: format_to_tool_messages(x[\"intermediate_steps\"]))\n        | prompt\n        | llm_with_tools\n        | ToolsAgentOutputParser()\n    )\n\n    agent_executor = AgentExecutor.from_agent_and_tools(agent=agent, tools=tools)\n\n    # Enable chat history\u002Fmemory (very convoluted)\n    # Use a single message history (no need for multiple threads)\n    message_history = ChatMessageHistory()\n\n    agent_with_chat_history = RunnableWithMessageHistory(\n        runnable=agent_executor,  # type: ignore[arg-type]\n        get_session_history=lambda _: message_history,\n        input_messages_key=\"input\",\n        history_messages_key=\"chat_history\",\n    )\n\n    return agent_with_chat_history","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_70":{"__typename":"Paragraph","id":"385bc0849373_70","name":"37e5","type":"H4","href":null,"layout":null,"metadata":null,"text":"Agent Runner","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_71":{"__typename":"Paragraph","id":"385bc0849373_71","name":"6711","type":"P","href":null,"layout":null,"metadata":null,"text":"And then the AgentRunner implementation is:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":13,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_72":{"__typename":"Paragraph","id":"385bc0849373_72","name":"1937","type":"PRE","href":null,"layout":null,"metadata":null,"text":"class LangchainAgentRunner(AgentRunner):\n    def __init__(self, menu_service: MenuService, order_service: OrderService, args: argparse.Namespace):\n        # Initialise tools with dependencies\n        tools = [\n            GetMenuTool(menu_service=menu_service),\n            CreateOrderTool(order_service=order_service),\n            StructuredResponseTool(),\n        ]\n        self.agent_executor = get_agent_executor(tools=tools, model_name=args.model, api_key=args.api_key)\n        self.static_input_content = {\"restaurant_name\": args.restaurant_name, \"table_number\": args.table_number}\n        self.config: RunnableConfig = {\"configurable\": {\"session_id\": \"not-even-used\"}}\n\n    def make_request(self, user_message: str) -\u003E LLMResponse:\n        result = self.agent_executor.invoke(self.static_input_content | {\"input\": user_message}, self.config)\n        # De-serialise structured response into an LLMResponse\n        response = LLMResponse.model_validate_json(result[\"output\"])\n        return response","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"EXPLICIT","lang":"python"},"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_73":{"__typename":"Paragraph","id":"385bc0849373_73","name":"d853","type":"H3","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_74":{"__typename":"Paragraph","id":"385bc0849373_74","name":"61b3","type":"P","href":null,"layout":null,"metadata":null,"text":"This demonstration shows that it is much simpler to create a basic conversational and tool-calling AI agent using the PydanticAI framework than LangChain. LangChain has so many layers of deprecated functionality and is in desperate need of some extensive spring cleaning.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_75":{"__typename":"Paragraph","id":"385bc0849373_75","name":"443f","type":"P","href":null,"layout":null,"metadata":null,"text":"I also wanted to enable streamed responses however this seemed quite difficult to achieve using LangChain with both tool calling and structured output involved.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_76":{"__typename":"Paragraph","id":"385bc0849373_76","name":"3896","type":"P","href":null,"layout":null,"metadata":null,"text":"I imagine that the newer LangGraph approach for creating agents addresses many of the limitations and frustrations encountered here. PydanticAI has also recently added a graph library, so next time I will explore what full graph-based implementations for both frameworks looks like.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":170,"end":183,"href":"https:\u002F\u002Fai.pydantic.dev\u002Fgraph\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_77":{"__typename":"Paragraph","id":"385bc0849373_77","name":"59af","type":"P","href":null,"layout":null,"metadata":null,"text":"I hope this helps anyone who wants to choose between the frameworks or learn how they can be used to build cool things with AI!","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:385bc0849373_78":{"__typename":"Paragraph","id":"385bc0849373_78","name":"9c6a","type":"P","href":null,"layout":null,"metadata":null,"text":"The complete project repository can be found here.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":45,"end":49,"href":"https:\u002F\u002Fgithub.com\u002FFinndersen\u002Fai_framework_demo","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"PostViewerEdge:postId:e0a059435e9d-viewerId:lo_9b4dac1f6e6d":{"__typename":"PostViewerEdge","shouldIndexPostForExternalSearch":true,"id":"postId:e0a059435e9d-viewerId:lo_9b4dac1f6e6d"},"Tag:langchain":{"__typename":"Tag","id":"langchain","displayTitle":"Langchain","normalizedTagSlug":"langchain"},"Tag:llm":{"__typename":"Tag","id":"llm","displayTitle":"Llm","normalizedTagSlug":"llm"},"Tag:ai":{"__typename":"Tag","id":"ai","displayTitle":"AI","normalizedTagSlug":"ai"},"Tag:pydantic-ai":{"__typename":"Tag","id":"pydantic-ai","displayTitle":"Pydantic Ai","normalizedTagSlug":"pydantic-ai"},"Tag:ai-agent":{"__typename":"Tag","id":"ai-agent","displayTitle":"Ai Agent","normalizedTagSlug":"ai-agent"},"Post:e0a059435e9d":{"__typename":"Post","id":"e0a059435e9d","collection":null,"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"b0e2","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:385bc0849373_0"},{"__ref":"Paragraph:385bc0849373_1"},{"__ref":"Paragraph:385bc0849373_2"},{"__ref":"Paragraph:385bc0849373_3"},{"__ref":"Paragraph:385bc0849373_4"},{"__ref":"Paragraph:385bc0849373_5"},{"__ref":"Paragraph:385bc0849373_6"},{"__ref":"Paragraph:385bc0849373_7"},{"__ref":"Paragraph:385bc0849373_8"},{"__ref":"Paragraph:385bc0849373_9"},{"__ref":"Paragraph:385bc0849373_10"},{"__ref":"Paragraph:385bc0849373_11"},{"__ref":"Paragraph:385bc0849373_12"},{"__ref":"Paragraph:385bc0849373_13"},{"__ref":"Paragraph:385bc0849373_14"},{"__ref":"Paragraph:385bc0849373_15"},{"__ref":"Paragraph:385bc0849373_16"},{"__ref":"Paragraph:385bc0849373_17"},{"__ref":"Paragraph:385bc0849373_18"},{"__ref":"Paragraph:385bc0849373_19"},{"__ref":"Paragraph:385bc0849373_20"},{"__ref":"Paragraph:385bc0849373_21"},{"__ref":"Paragraph:385bc0849373_22"},{"__ref":"Paragraph:385bc0849373_23"},{"__ref":"Paragraph:385bc0849373_24"},{"__ref":"Paragraph:385bc0849373_25"},{"__ref":"Paragraph:385bc0849373_26"},{"__ref":"Paragraph:385bc0849373_27"},{"__ref":"Paragraph:385bc0849373_28"},{"__ref":"Paragraph:385bc0849373_29"},{"__ref":"Paragraph:385bc0849373_30"},{"__ref":"Paragraph:385bc0849373_31"},{"__ref":"Paragraph:385bc0849373_32"},{"__ref":"Paragraph:385bc0849373_33"},{"__ref":"Paragraph:385bc0849373_34"},{"__ref":"Paragraph:385bc0849373_35"},{"__ref":"Paragraph:385bc0849373_36"},{"__ref":"Paragraph:385bc0849373_37"},{"__ref":"Paragraph:385bc0849373_38"},{"__ref":"Paragraph:385bc0849373_39"},{"__ref":"Paragraph:385bc0849373_40"},{"__ref":"Paragraph:385bc0849373_41"},{"__ref":"Paragraph:385bc0849373_42"},{"__ref":"Paragraph:385bc0849373_43"},{"__ref":"Paragraph:385bc0849373_44"},{"__ref":"Paragraph:385bc0849373_45"},{"__ref":"Paragraph:385bc0849373_46"},{"__ref":"Paragraph:385bc0849373_47"},{"__ref":"Paragraph:385bc0849373_48"},{"__ref":"Paragraph:385bc0849373_49"},{"__ref":"Paragraph:385bc0849373_50"},{"__ref":"Paragraph:385bc0849373_51"},{"__ref":"Paragraph:385bc0849373_52"},{"__ref":"Paragraph:385bc0849373_53"},{"__ref":"Paragraph:385bc0849373_54"},{"__ref":"Paragraph:385bc0849373_55"},{"__ref":"Paragraph:385bc0849373_56"},{"__ref":"Paragraph:385bc0849373_57"},{"__ref":"Paragraph:385bc0849373_58"},{"__ref":"Paragraph:385bc0849373_59"},{"__ref":"Paragraph:385bc0849373_60"},{"__ref":"Paragraph:385bc0849373_61"},{"__ref":"Paragraph:385bc0849373_62"},{"__ref":"Paragraph:385bc0849373_63"},{"__ref":"Paragraph:385bc0849373_64"},{"__ref":"Paragraph:385bc0849373_65"},{"__ref":"Paragraph:385bc0849373_66"},{"__ref":"Paragraph:385bc0849373_67"},{"__ref":"Paragraph:385bc0849373_68"},{"__ref":"Paragraph:385bc0849373_69"},{"__ref":"Paragraph:385bc0849373_70"},{"__ref":"Paragraph:385bc0849373_71"},{"__ref":"Paragraph:385bc0849373_72"},{"__ref":"Paragraph:385bc0849373_73"},{"__ref":"Paragraph:385bc0849373_74"},{"__ref":"Paragraph:385bc0849373_75"},{"__ref":"Paragraph:385bc0849373_76"},{"__ref":"Paragraph:385bc0849373_77"},{"__ref":"Paragraph:385bc0849373_78"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:3388bcd2bdf0"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@finndersen\u002Flangchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"artificial-intelligence"},{"__typename":"Topic","slug":"programming"}],"isLimitedState":false,"isPublished":true,"allowResponses":true,"responsesLocked":false,"visibility":"PUBLIC","latestPublishedVersion":"385bc0849373","postResponses":{"__typename":"PostResponses","count":4},"responseDistribution":"NOT_DISTRIBUTED","clapCount":241,"title":"LangChain vs PydanticAI for building an AI Agent","isSeries":false,"sequence":null,"uniqueSlug":"langchain-vs-pydanticai-for-building-an-ai-agent-e0a059435e9d","socialTitle":"","socialDek":"","canonicalUrl":"","metaDescription":"","latestPublishedAt":1741251761334,"readingTime":9.360691823899371,"previewContent":{"__typename":"PreviewContent","subtitle":"Comparing how the two frameworks can be used to build a conversational AI agent"},"previewImage":{"__ref":"ImageMetadata:1*g787VN00jm0lQrbjcy7Yag.png"},"isShortform":false,"seoTitle":"","firstPublishedAt":1738109264564,"updatedAt":1741256595897,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"Comparing how LangChain and PydanticAI can be used to build a simple conversational AI Agent with tool calling, structured outputs and more. ","viewerEdge":{"__ref":"PostViewerEdge:postId:e0a059435e9d-viewerId:lo_9b4dac1f6e6d"},"isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:langchain"},{"__ref":"Tag:llm"},{"__ref":"Tag:ai"},{"__ref":"Tag:pydantic-ai"},{"__ref":"Tag:ai-agent"}],"isFeaturedInPublishedPublication":false,"isNewsletter":false,"statusForCollection":null,"pendingCollection":null,"detectedLanguage":"en","wordCount":2379,"layerCake":6}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"HIT"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.85cb1d7c.js"></script><script src="https://cdn-client.medium.com/lite/static/js/4783.3b00fa4a.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.cab36ef3.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.5bef8967.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.ff22a7a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3171.5b0ceee8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/628.4b410354.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6618.db187378.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3338.0505d492.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2707.6a3af3d5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9977.8c7f6ab5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7465.354bbb09.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3624.9af2a453.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4737.630086cd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7381.9e3da70c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6372.68a32361.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7938.de1b2637.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3862.2b70461b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3054.968b2cc0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7753.614a20a3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4929.e7039595.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3623.2463c35d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7979.15bcd496.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7975.ef730fbf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6834.6e1504d5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8664.b06e2cc0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4378.a8ce3332.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/144.0289a115.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3666.cdb15b43.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8768.ad7b26f9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1069.bf9a777a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3523.fa9419d4.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.297efa88.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2698.a5c8f865.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3974.6ff9e2e8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2527.065627bf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostResponsesContent.1e0372c8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/responses.editor.f01926ec.chunk.js"></script><script>window.main();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9320918069f8b1dc',t:'MTc0NDk0MTYyNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body></html>