<!--
title: MCP+SQL：连接AI与企业系统的制胜法宝
cover: https://cdn.thenewstack.io/media/2025/06/a282269c-mohammad-rahmani-8qeb0fte9vw-unsplash-scaled.jpg
summary: 该文章讨论了企业将 AI 集成到业务系统时面临的挑战，并介绍了模型上下文协议 (MCP) 与 SQL 连接器结合使用的解决方案。通过 SQL 连接器将企业系统转化为 SQL 数据库，MCP 充当 LLM 和连接器之间的安全桥梁，实现 AI 安全访问和处理企业数据。
-->

该文章讨论了企业将 AI 集成到业务系统时面临的挑战，并介绍了模型上下文协议 (MCP) 与 SQL 连接器结合使用的解决方案。通过 SQL 连接器将企业系统转化为 SQL 数据库，MCP 充当 LLM 和连接器之间的安全桥梁，实现 AI 安全访问和处理企业数据。

> 译自：[MCP + SQL: The Secret Weapon To Connect AI to Enterprise Systems](https://thenewstack.io/mcp-sql-the-secret-weapon-to-connect-ai-to-enterprise-systems/)
> 
> 作者：Manish Patel

“我们花了四个月和五十万美元试图将我们的 AI 连接到我们的业务系统，但它仍然无法可靠地提取基本的客户数据。” 在我们的视频通话中，CTO 的沮丧之情显而易见。他的公司和许多其他公司面临着同样的问题：使 AI 具有超能力的所需数据存在于企业应用程序中，而这些企业应用程序不容易连接到 AI 流程和代理。

作为 CData 的首席产品官，我听过这样的故事很多次了。 各公司竞相实施 AI 代理，却碰壁于同一个问题：他们的数据存在于 Salesforce、SAP、Oracle、自定义数据库和无数其他系统中。 每个系统都需要定制的集成工作，即便如此，安全和治理方面的挑战似乎也难以克服。

“如果我告诉你，”我说，“你的 AI 已经知道如何与所有这些系统对话了？ 它只需要一个合适的翻译。” 那次对话促成了一个试点项目，该项目将改变他们（以及最终数十家其他企业）处理 AI 集成的方式。 秘诀是什么？ 将模型上下文协议 (MCP) 与 CData 连接器集成，旨在建立 AI 和企业系统之间标准化的通信方法。

## **企业 AI 集成的噩梦**

让我描绘一幅企业在尝试将 AI 连接到其数据时面临的景象。 他们有：

* Salesforce 中的客户数据。
* SAP 中的财务记录。
* 自定义 PostgreSQL 数据库中的库存。
* Snowflake 中的分析。
* 文档分散在 Google Drive 和 SharePoint 中。

每个系统都有自己的 API、身份验证方法和怪癖。 教 AI 说所有这些语言就像要求一个人一夜之间精通 50 种不同的方言。

更糟糕的是：即使你设法构建了所有这些集成，你也创造了一个安全和维护的噩梦。 你如何确保 AI 只能访问[用户有权查看的数据](https://thenewstack.io/rockset-users-stranded-by-openai-acquisition-now-what/)？ 你如何跟踪它在所有这些系统中所做的事情？ 你如何跟上 API 的变化？ 你如何确保 API 中提供的所有相关数据都已公开？

## **MCP + SQL：意想不到的强大组合**

我们意识到，通过结合以下两件事，我们可以帮助部署连接到企业数据的 AI：

首先，[大型语言模型](https://thenewstack.io/what-is-a-large-language-model/) (LLM) 在 SQL 方面出奇地出色。 为什么？ 因为他们接受了来自文档、论坛和代码存储库的数百万个 SQL 示例的培训。 SQL 是标准化的、逻辑的和基于模式的——这正是 LLM 擅长的。

其次，模型上下文协议 (MCP) 提供了一种安全、标准化的方式，供 LLM 与外部工具和数据源交互。 可以把它想象成一个通用适配器，让 AI 系统可以安全地连接到你的业务工具。

以下是我们如何为我们的企业客户实现这一目标：

**第一步：部署 SQL 连接器。** CData 连接器使任何业务系统看起来都像 SQL 数据库。 例如，Salesforce 连接器将 API 调用转换为 SQL 表。 突然，查询客户数据变得像这样简单：

SELECT \* FROM Customers WHERE Region = ‘Northeast’  
AND LastOrderDate < DATEADD(month, -6, GETDATE())

**第二步：实施 MCP。** MCP 充当 LLM 和这些连接器之间的安全桥梁。 当 AI 需要数据时，它会：

1. 生成适当的 SQL 查询。
2. 通过 MCP 将其发送到正确的连接器。
3. 接收标准化格式的结果。
4. 处理并根据信息采取行动。

**第三步：强制执行安全** 这至关重要。 MCP 确保每个查询都使用当前用户的凭据运行。 如果用户无法在 Salesforce 中看到某些客户记录，那么当 AI 代表该用户工作时，也无法看到这些记录。 没有特殊的 AI 权限，没有安全后门。

## **实际影响：从理论到实践**

让我分享一个具体的例子。 我们的销售团队需要识别有风险的客户并创建个性化的外展活动。 以前，这需要：

* 手动检查多个系统。
* 在应用程序之间复制数据。
* 撰写个人电子邮件。
* 将活动记录回 CRM。

总时间：每个销售代表每天 2-3 小时。

借助由 MCP 驱动的 AI 代理，现在同一任务的工作方式如下：

1. 销售代表问：“查找我 90 天内没有参与的客户，并起草重新参与的电子邮件。”
2. AI 为 CRM、电子邮件和活动数据生成 SQL 查询。
3. MCP 使用代表的凭据安全地从每个系统获取数据。
4. AI 分析模式并起草个性化电子邮件。
5. 代表审查并批准电子邮件。
6. AI 使用外展活动更新 CRM。

总时间：15 分钟。

但真正让我兴奋的是——这不仅仅是读取操作。 AI 现在可以：

* 更新 Salesforce 中的商机阶段。
* 在项目管理工具中创建任务。
* 修改库存水平（需要批准）。
* 生成和存储报告。

所有这些都维护了每个操作的完整审计跟踪。

## **经验教训和最佳实践**

在试验由 MCP 驱动的 AI 代理几个月后，以下是我们学到的：

**从只读操作开始。** 首先进行数据检索来建立信任。 在启用写入功能之前，让用户看到 AI 提取准确的信息。

**实施查询治理。** 我们为某些操作构建了一个简单的审批系统。 删除记录？ 更新财务数据？ 这些需要人工确认。

**明智地缓存。** 并非每个查询都[需要实时数据](https://thenewstack.io/what-are-time-series-databases-and-why-do-you-need-them/)。 我们缓存相对静态的信息（如产品目录），同时[保持事务性数据](https://thenewstack.io/agentic-ai-is-coming-but-can-your-data-infrastructure-keep-up/)的更新。

**监控一切。** MCP 可以轻松记录每个查询和操作。 我们构建了仪表板，显示 AI 访问最多的系统，帮助我们优化性能并识别新的用例。

### **未来的道路**

MCP 和基于 SQL 的连接器的结合从根本上改变了我们对企业 AI 的看法。 现在，我们不再为每个系统构建复杂、脆弱的集成，而是采用了一种可扩展的标准化、安全的方法。

我们目前正在扩展我们专为 AI 代理构建的连接，以处理更复杂的工作流程：

* 跨多个系统的多步骤流程。
* 使用来自[多个来源的数据](https://thenewstack.io/how-open-source-and-time-series-data-fit-together/)的历史数据进行预测分析。
* 跨数据库的自动合规性检查。

关键的见解是什么？ 你不需要重建整个技术堆栈来利用 AI。 通过使用你的 AI 已经知道的语言 (SQL) 并通过 MCP 提供安全访问，你可以改变你的组织处理数据的方式。

下次有人告诉你将 AI 连接到企业系统需要数月的自定义开发时，请告诉他们关于 MCP 的信息。 更好的是，向他们展示当你改变脚本并建立在已有的基础上时，会发生什么。

想自己尝试 MCP 吗？ 从对单个系统进行只读查询开始。 一旦你看到了 [AI 能够实际访问你的数据的力量](https://thenewstack.io/how-ray-a-distributed-ai-framework-helps-power-chatgpt/)，你将永远不会再回到复制粘贴工作流程。