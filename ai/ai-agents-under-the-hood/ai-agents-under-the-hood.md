
<!--
title: AI Agentsï¼šåº•å±‚åŸç†æ¢ç§˜
cover: 
summary: AI Agent æ˜¯åˆ©ç”¨ LLM æ¨ç†æ§åˆ¶æ‰§è¡Œæµç¨‹çš„è½¯ä»¶ç³»ç»Ÿï¼ŒåŠ¨æ€é€‰æ‹©å·¥å…·ä»¥è¾¾æˆç›®æ ‡ã€‚å…³é”®ç»„æˆéƒ¨åˆ†åŒ…æ‹¬ LLMã€è®°å¿†ã€æç¤ºè¯ã€å·¥å…·å’Œç¼–æ’å±‚ã€‚å¤šAgentç³»ç»Ÿé€šè¿‡åä½œè§£å†³å¤æ‚é—®é¢˜ï¼Œä½†éœ€è°¨æ…ä½¿ç”¨ã€‚æ“ä½œAgentçš„å¿ƒç†æ¨¡å‹æ˜¯è®¾èº«å¤„åœ°æ€è€ƒï¼Œæä¾›æ¸…æ™°çš„ç›®æ ‡å’Œå¿…è¦çš„å·¥å…·ã€‚
-->

AI Agent æ˜¯åˆ©ç”¨ LLM æ¨ç†æ§åˆ¶æ‰§è¡Œæµç¨‹çš„è½¯ä»¶ç³»ç»Ÿï¼ŒåŠ¨æ€é€‰æ‹©å·¥å…·ä»¥è¾¾æˆç›®æ ‡ã€‚å…³é”®ç»„æˆéƒ¨åˆ†åŒ…æ‹¬ LLMã€è®°å¿†ã€æç¤ºè¯ã€å·¥å…·å’Œç¼–æ’å±‚ã€‚å¤šAgentç³»ç»Ÿé€šè¿‡åä½œè§£å†³å¤æ‚é—®é¢˜ï¼Œä½†éœ€è°¨æ…ä½¿ç”¨ã€‚æ“ä½œAgentçš„å¿ƒç†æ¨¡å‹æ˜¯è®¾èº«å¤„åœ°æ€è€ƒï¼Œæä¾›æ¸…æ™°çš„ç›®æ ‡å’Œå¿…è¦çš„å·¥å…·ã€‚

> è¯‘è‡ªï¼š[AI Agents Under The Hood](https://blog.surkar.in/ai-agents-under-the-hood)
> 
> ä½œè€…ï¼šManthan Surkar

### åŠ¨æœºï¼šä¸ºä»€ä¹ˆä½ åº”è¯¥å…³å¿ƒ

å‡ ä¹æ¯å¤©éƒ½èƒ½å¬åˆ°â€œAI Agentâ€è¿™ä¸ªè¯ã€‚æˆ‘å·²ç»æ„å»ºäº†å¤šä¸ªä½¿ç”¨ AI Agent çš„ç³»ç»Ÿï¼Œæ¯”å¦‚ [patra.app](https://patra.app)ã€‚åœ¨æ„å»ºè¿™äº›ç³»ç»Ÿå¹¶é˜…è¯»å¤§é‡èµ„æºçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘äº†è§£äº† AI Agent å®é™…çš„å·¥ä½œåŸç†ä»¥åŠå®ƒä»¬åœ¨åº•å±‚åˆ°åº•æ˜¯ä»€ä¹ˆã€‚æˆ‘æ›¾ç»è®¤ä¸ºæ¯ä¸ªäººéƒ½ç†è§£å®ƒä»¬æ˜¯ä»€ä¹ˆã€‚ä½ æ¯å¤©éƒ½å¬åˆ°å…³äºå®ƒä»¬çš„æ¶ˆæ¯ï¼Œå¯¹å§ï¼Ÿä½†æ˜¯...

åœ¨ä¸€æ¬¡æ·±å¤œæ•£æ­¥æ—¶ï¼Œæˆ‘é—®æˆ‘çš„æœ‹å‹ï¼šâ€œä½ è®¤ä¸º AI Agent åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿâ€

ä»–ä»¬ç»™å‡ºäº†ä¸€ä¸ªä»¤äººæƒŠè®¶çš„ç­”æ¡ˆï¼Œå…¶ä¸­ä¸çŸ¥ä½•æ•…åŒ…å«äº†å¾®è°ƒã€èŠå¤©æœºå™¨äººï¼Œç”šè‡³è¿˜æœ‰â€œMCPâ€ğŸ¤¯ã€‚æˆ‘å°è¯•é—®äº†æ›´å¤šäººï¼Œæ„è¯†åˆ°ä»»ä½•æ²¡æœ‰å®é™…æ„å»ºè¿‡ Agent æˆ–è€…åªçœ‹è¿‡æŠ½è±¡æ¦‚å¿µçš„äººéƒ½è®¤ä¸ºè¿™ä¸€åˆ‡åªæ˜¯é­”æ³•ã€‚æˆ‘æƒ³åœ¨è¿™ç¯‡æ–‡ç« ä¸­æ­ç¤ºè¿™ä¸ªé­”æ³•ã€‚æˆ‘ä¸æƒ³è®©ä½ å†æŠŠ AI Agent çœ‹ä½œæ˜¯ç¥ç§˜çš„ä¸œè¥¿ã€‚ç›¸åï¼Œæˆ‘å¸Œæœ›ä½ è·å¾—å¯¹å®ƒä»¬çš„ç†è§£å’Œä¸€ä¸ªå¯ä»¥ç”¨æ¥æ“ä½œå®ƒä»¬çš„å¿ƒç†æ¨¡å‹ã€‚

å¥½å§ï¼Œæˆ‘ä¸è´£æ€ªä»–ä»¬ï¼Œä¹Ÿä¸è´£æ€ªä½ ã€‚å¯¹äº AI Agent çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯å®ƒå®é™…æ˜¯ä»€ä¹ˆï¼Œå®šä¹‰å®åœ¨å¤ªå¤šäº†ã€‚

æˆ‘ä¿è¯ï¼Œåˆ°æœ¬æ–‡ç»“æŸæ—¶ï¼Œä½ ä¸ä»…ä¼šç†è§£ AI Agent æ˜¯ä»€ä¹ˆï¼Œè¿˜ä¼šç†è§£å®ƒçš„å·¥ä½œåŸç†ã€å¦‚ä½•æ€è€ƒå®ƒä»¬ï¼Œä»¥åŠå®ƒä»¬åœ¨åº•å±‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·åšã€‚å¦‚æœä½ åšæŒè¯»å®Œæœ¬æ–‡ï¼Œä½ å°†èƒ½å¤Ÿå‘ä½ çš„æœ‹å‹è§£é‡Šï¼š

1.  ä»€ä¹ˆæ˜¯ AI Agent
2.  AI Agent å¦‚ä½•å·¥ä½œ
3.  å·¥å…·åˆ°åº•æ˜¯ä»€ä¹ˆ
4.  ç¼–æ’æ¡†æ¶æ˜¯ä»€ä¹ˆ
5.  ä»€ä¹ˆæ˜¯è®°å¿†
6.  AI Agent çš„ç±»å‹æœ‰å“ªäº›
7.  æ„å»º AI Agent çš„å¿ƒç†æ¨¡å‹
8.  ä»€ä¹ˆæ˜¯å¤š Agent æ¡†æ¶

åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œè¯·ç†è§£ AI Agent ä¸ä»…ä»…æ˜¯ä»»ä½•èŠå¤©æœºå™¨äººã€‚èŠå¤©æœºå™¨äººå¯èƒ½åªæ˜¯ä½¿ç”¨ LLM å›å¤ä¿¡æ¯ï¼Œæˆ–è€…å®ƒå®é™…ä¸Šå¯èƒ½æœ‰ä¸€ä¸ª Agent åœ¨èƒŒåä¸ºä½ åšå®é™…çš„ä»»åŠ¡ï¼Œæ¯”å¦‚é¢„è®¢èˆªç­æˆ–ä½¿ç”¨å·¥å…·å’Œ API æ£€æŸ¥ä»·æ ¼ã€‚å¹¶éæ¯ä¸ªèŠå¤©æœºå™¨äººéƒ½æ˜¯ Agentï¼Œä½†æ¯ä¸ª Agent åœ¨è¡¨é¢ä¸Šçœ‹èµ·æ¥éƒ½åƒä¸€ä¸ªæ™®é€šçš„èŠå¤©æœºå™¨äººã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹äº’è”ç½‘ä¸Šè§£é‡Š AI Agent çš„é—®é¢˜ã€‚

### é—®é¢˜

å¥½çš„ï¼Œé¦–å…ˆï¼Œè®©æˆ‘ä»¬ä»æˆ‘ä»¬è€æœ‹å‹ Google æœç´¢é‚£é‡Œäº†è§£ä¸€ä¸‹ AI Agent çš„å®šä¹‰ï¼Œå®ƒæœ€è¿‘è¯ç”Ÿäº† Search Labs è¿™ä¸ªä¸œè¥¿ï¼š

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750505693141/99eb7803-dd5c-4c52-8d81-ed99522678ee.png?auto=compress,format&format=webp)

> AI Agent æ˜¯ä¸€ç§è½¯ä»¶ç¨‹åºï¼Œå®ƒåˆ©ç”¨äººå·¥æ™ºèƒ½æ¥æ‰§è¡Œä»»åŠ¡å¹¶è‡ªä¸»å®ç°ç›®æ ‡ï¼Œé€šå¸¸åªéœ€è¦æœ€å°‘çš„äººå·¥å¹²é¢„ã€‚

ä½ çœ‹åˆ°é—®é¢˜äº†å—ï¼Ÿå¤§å¤šæ•°å…³äº AI Agent æ˜¯ä»€ä¹ˆçš„å®šä¹‰éƒ½æ˜¯åŸºäºå¯¹è¾“å‡ºçš„æœŸæœ›æˆ–å®ƒçš„è¡Œä¸ºæ–¹å¼ï¼Œè€Œä¸æ˜¯å…³æ³¨å®ƒå®é™…æ˜¯ä»€ä¹ˆã€‚

å¦‚æœæˆ‘é—®â€œä»€ä¹ˆæ˜¯ LLMï¼Ÿâ€ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªæ›´ä»¤äººæ¥å—çš„ç­”æ¡ˆï¼š

> å¤§è¯­è¨€æ¨¡å‹ (LLM) æ˜¯ä¸€ç§ **AI æ¨¡å‹ï¼Œå…·ä½“æ¥è¯´æ˜¯ä¸€ç§æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œå®ƒåœ¨å¤§é‡çš„æ–‡æœ¬æ•°æ®ä¸Šè¿›è¡Œè®­ç»ƒã€‚**

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750505830733/b209c299-31cf-4b19-b28e-fc47f9f227a5.png?auto=compress,format&format=webp)

è¯·æ³¨æ„ï¼Œè¿™ä¸ªç­”æ¡ˆä¸æ˜¯å…³äº LLM ç”Ÿæˆä¸‹ä¸€ä¸ªæœ€å¯èƒ½çš„ tokenï¼Œè€Œæ˜¯æ›´å¤šå…³äºå®ƒä»¬ä»æ ¹æœ¬ä¸Šæ˜¯ä»€ä¹ˆã€‚å¯¹äº AI Agentï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ‰¿è¯ºå¤Ÿå¤šäº†ã€‚è®©æˆ‘ä»¬è¿›å…¥æ­£é¢˜ã€‚

## å®šä¹‰ AI Agent

è®©æˆ‘ä»¬é¦–å…ˆå†™ä¸€ä¸ªå¯æ¥å—çš„ AI Agent å®šä¹‰ã€‚æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­è¦åšçš„å°±æ˜¯å°†è¯¥å®šä¹‰åˆ†è§£æˆæ›´å°çš„éƒ¨åˆ†ï¼Œå¹¶ç†è§£æ¯ä¸ªéƒ¨åˆ†ï¼š

Agent æ˜¯ **è½¯ä»¶ç³»ç»Ÿ**ï¼Œå…¶ä¸­ **LLM** ä½¿ç”¨æ¨ç†æ¥æ§åˆ¶æ‰§è¡Œæµç¨‹ï¼Œ**åŠ¨æ€** é€‰æ‹©ä½¿ç”¨å“ªäº› **å·¥å…·**ï¼Œå¹¶ç¡®å®šè¾¾åˆ° **ç›®æ ‡** æ‰€éœ€çš„æ¯ä¸ªæ­¥éª¤ã€‚

è¿™å¤ªé•¿äº†ã€‚è®©æˆ‘ä»¬åˆ†è§£æ¯ä¸ªéƒ¨åˆ†ï¼Œä»¥ä¾¿æˆ‘ä»¬çœŸæ­£ç†è§£å®ƒã€‚

### Agent æ˜¯è½¯ä»¶ç³»ç»Ÿ

è¿™æ˜¯ç¬¬ä¸€ä¸ªæ¾„æ¸…ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„ã€‚å½“æœ‰äººè¯´â€œAI Agentâ€æ—¶ï¼Œå®ƒåº”è¯¥åœ¨ä½ è„‘æµ·ä¸­æµ®ç°ï¼Œå®ƒåªæ˜¯è½¯ä»¶ã€‚å¯¹äºä¸€ä¸ªç®€å•çš„ Agentï¼Œå®ƒå¯èƒ½åªæ˜¯å‡ ä¸ªä»£ç æ–‡ä»¶ï¼Œä»…æ­¤è€Œå·²ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºç³»ç»Ÿï¼Œæ˜¯å› ä¸ºå®ƒåŒ…å«ä¸åŒçš„éƒ¨åˆ†æˆ–æ¨¡å—ï¼Œä¾‹å¦‚ï¼š

1.  LLM
2.  å·¥ä½œè®°å¿†æˆ–çŠ¶æ€
3.  æç¤ºè¯ (Prompts)
4.  å·¥å…·
5.  ç¼–æ’å±‚

ä½ å·²ç»çŸ¥é“ LLM æ˜¯ä»€ä¹ˆäº†ã€‚å½“æˆ‘ä»¬æ›´æ·±å…¥åœ°ç ”ç©¶æˆ‘ä»¬å®šä¹‰çš„å…¶ä»–éƒ¨åˆ†æ—¶ï¼ŒAI Agent çš„å…¶ä»–æ¨¡å—å°†è‡ªè¡Œæ˜¾ç°ã€‚å¦‚æœä½ è¿˜è®°ä¸ä½è¿™äº›ï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚å®ƒä»¬è¿˜ä¼šå†æ¬¡å‡ºç°ã€‚

åœ¨æˆ‘ä»¬çš„å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†åŠ¨æ€çš„æ‰§è¡Œæµç¨‹ã€‚è®©æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹è¿™æ˜¯ä»€ä¹ˆæ„æ€ã€‚

### åŠ¨æ€æ‰§è¡Œæµç¨‹

è¦æ‰§è¡Œä»»ä½•ä»»åŠ¡ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦é‡‡å–ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤æˆ–è¡ŒåŠ¨ã€‚è¿™äº›å†³ç­–å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå·¥ä½œæµç¨‹ï¼Œæˆ–è€…æ˜¯ä¸€ç»„å†³å®šæˆ‘ä»¬å¦‚ä½•å®Œæˆä»»åŠ¡çš„è§„åˆ™ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚

å‡è®¾ä½ æƒ³åˆ›å»ºä¸€ä¸ªå®¢æˆ·æˆåŠŸæœºå™¨äººï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå·¥å•ä½œä¸ºè¾“å…¥ï¼Œç„¶åå›å¤åˆ›å»ºè€…ï¼Œå¹¶è§£å†³è¯¥å·¥å•ï¼Œæˆ–è€…åœ¨éœ€è¦æ—¶å‡çº§å®ƒã€‚

è¯·æ³¨æ„ï¼Œè§£å†³æˆ–å‡çº§å·¥å•åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªéœ€è¦åœ¨æŸäº›å¤–éƒ¨ CRM è½¯ä»¶ä¸Šæ‰§è¡Œçš„æ“ä½œã€‚æˆ‘ä»¬çš„ LLM ç¨‹åºåº”è¯¥èƒ½å¤Ÿå¤„ç†è¿™ä¸ªé—®é¢˜ã€‚

æˆ‘ä»¬ç°åœ¨ä¸ä¼šæ·±å…¥è®¨è®ºä»£ç çš„å…·ä½“æ ·å­ã€‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œå¦‚æœä½ æœ‰å…´è¶£å¯ä»¥æŸ¥çœ‹ã€‚ä½ å¯ä»¥ä½¿ç”¨åƒâ€œlanggraphâ€è¿™æ ·çš„åº“æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”å›¾è¡¨æˆ–æ‰§è¡Œæµç¨‹çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750523331009/2478546b-8dd2-47d0-81fd-9b37556dafe9.png?auto=compress,format&format=webp)

> ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ä¸‹é¢æœ‰ä¸€äº›ä»£ç ç¤ºä¾‹ã€‚å¦‚æœå®ƒä»¬ä¸ä½ æ— å…³ï¼Œè¯·éšæ—¶è·³è¿‡å®ƒä»¬å¹¶ç»§ç»­é˜…è¯»

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬é¦–å…ˆä»å¯¹å·¥å•è¿›è¡Œåˆ†ç±»å¼€å§‹ï¼Œè¿™å°†ç”± LLM æç¤ºè¯å¤„ç†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”Ÿæˆåˆå§‹å›å¤ï¼Œè¿™æ˜¯å¦ä¸€ä¸ª LLM æç¤ºè¯ã€‚ç„¶åï¼Œæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦éœ€è¦å‡çº§ã€‚è¿™å¯ä»¥é€šè¿‡ API è°ƒç”¨æ¥å®Œæˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨é™æ€ä»£ç æ¥å†³å®šæ˜¯å¦åº”è¯¥å‡çº§ã€‚æœ€åï¼Œæ ¹æ®éœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥å‡çº§å·¥å•å¹¶ç”Ÿæˆæœ€ç»ˆå›å¤ï¼Œè®©å®¢æˆ·çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆã€‚

```py
workflow = StateGraph(SupportTicketState)


workflow.add_node("classify_ticket", classify_ticket)
workflow.add_node("generate_initial_response", generate_initial_response)
workflow.add_node("check_escalation", check_escalation_needed)
workflow.add_node("escalate_ticket", escalate_ticket)
workflow.add_node("resolve_ticket", resolve_ticket)


workflow.add_edge(START, "classify_ticket")
workflow.add_edge("classify_ticket", "generate_initial_response")
workflow.add_edge("generate_initial_response", "check_escalation")


workflow.add_conditional_edges(
    "check_escalation",
    should_escalate,
    {
        "escalate": "escalate_ticket",
        "resolve": "resolve_ticket"
    }
)

workflow.add_edge("escalate_ticket", END)
workflow.add_edge("resolve_ticket", END)

```

å®Œæ•´çš„ä»£ç å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š<https://github.com/thesmallstar/AI-Agents-Under-the-hood-blog/blob/main/workflow.py>

è¿™å°±æ˜¯æˆ‘ä»¬å¦‚ä½•åœ¨ langgraph ä¸­åˆ›å»ºæ•´ä¸ªæµç¨‹ã€‚æˆ‘ä»¬ä»ä¸€ä¸ª StateGraphï¼ˆå‚è§ä¸Šé¢ç¤ºä¾‹çš„ç¬¬ä¸€è¡Œï¼‰å¼€å§‹ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªåˆå§‹çŠ¶æ€ã€‚ç„¶åï¼Œæˆ‘ä»¬æ·»åŠ å¤šä¸ªèŠ‚ç‚¹æˆ–é€»è¾‘å—ã€‚å¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥åŒ…å«ä¸€ä¸ªæ¡ä»¶å—ï¼Œè¯¥å—æ ¹æ®å‰ä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºåšå‡ºå†³ç­–ã€‚

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œshould\_escalate çš„å€¼ï¼Œæ¥è‡ª check\_escalation èŠ‚ç‚¹ï¼Œç”¨äºå†³å®šæˆ‘ä»¬æ¥ä¸‹æ¥è¦å»å“ªä¸ªå›¾è¡¨æˆ–â€œå·¥ä½œæµç¨‹â€éƒ¨åˆ†ã€‚

åƒâ€œresolve ticketâ€è¿™æ ·çš„èŠ‚ç‚¹çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```py
def resolve_ticket(state: SupportTicketState):
    """Resolve the ticket and generate a final customer-facing response."""
    call_resolution_api(state['ticket_id'])
    prompt = f"""
    Generate a customer-facing response to inform them their ticket is resolved.

    Ticket ID: {state['ticket_id']}
    Customer: {state['customer_name']}
    Issue: {state['issue_description']}

    The response should:
    1. State clearly that the issue has been resolved.
    2. Briefly explain the solution.
    3. Thank the customer for their patience.
    4. Ask if they need any further assistance.
    """
    response = llm.invoke(prompt)
    return {
        "final_response": response.content,
        "status": "Resolved"
    }

```

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬é¦–å…ˆè°ƒç”¨ resolution APIï¼Œç„¶åè¿è¡Œæç¤ºè¯æ¥ç”Ÿæˆå·¥å•çš„å›å¤ã€‚

ä½ å¯èƒ½å·²ç»çŒœåˆ°ï¼Œæˆ‘ä»¬å¯ä»¥å®Œå…¨æ§åˆ¶ç¨‹åºçš„æµç¨‹ã€‚æˆ‘ä»¬å¯ä»¥å‡†ç¡®åœ°æŒ‡å®šæˆ‘ä»¬æƒ³è¦ä»€ä¹ˆä»¥åŠä½•æ—¶æƒ³è¦å®ƒã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€æ­¥å°†å§‹ç»ˆæ˜¯å¯¹å·¥å•è¿›è¡Œåˆ†ç±»ï¼Œç„¶åç”Ÿæˆåˆå§‹å›å¤ï¼Œç„¶åæŒ‰ç…§ä¸€ç»„å›ºå®šçš„æ­¥éª¤æˆ–å·¥ä½œæµç¨‹è¿›è¡Œã€‚è¿™æ˜¯ä¸€ä¸ªå·¥ä½œæµç¨‹ç³»ç»Ÿï¼Œè€Œä¸æ˜¯ä¸€ä¸ª Agentã€‚æˆ‘ä»¬åœ¨è¿™é‡Œç¼ºå°‘åŠ¨æ€çš„æ‰§è¡Œæµç¨‹ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å†³å®šäº†æ¯ä¸ªæ­¥éª¤ä¼šå‘ç”Ÿä»€ä¹ˆã€‚

è®©æˆ‘ä»¬å°è¯•ä¸ºè¿™ä¸ªåˆ›å»ºä¸€ä¸ª Agent å¼çš„æµç¨‹ ğŸ«£ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ ReAct Agent æµç¨‹ã€‚å¦‚æœè¿™å¬èµ·æ¥å¾ˆæ–°é²œï¼Œè¯·ä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬å¾ˆå¿«ä¼šè¯¦ç»†ä»‹ç»å®ƒã€‚æˆ‘ä»¬å°†é€å±‚æ­å¼€å®ƒï¼Œä½†é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¥åŠç°æœ‰çš„æŠ½è±¡æ¦‚å¿µã€‚

**é¡ºä¾¿è¯´ä¸€å¥ï¼ŒReAct ä»£è¡¨â€œæ¨ç†å’Œè¡ŒåŠ¨â€ã€‚**

è¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„ Agent æµç¨‹ï¼Œå®ƒè®©æ¨¡å‹é€æ­¥æ¨ç†ï¼Œå¹¶é€‰æ‹©ä½•æ—¶ä»¥åŠå¦‚ä½•è¡ŒåŠ¨ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡è°ƒç”¨å·¥å…·ï¼‰ä½œä¸ºè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750524956830/946ad5ed-a30f-4883-9530-73be62fd190f.png?auto=compress,format&format=webp)

åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼š

**ä»»åŠ¡** æ˜¯è§£å†³æˆ–å‡çº§å·¥å•å¹¶ç»™å‡ºå›å¤ã€‚

åœ¨ **è¡ŒåŠ¨** é˜¶æ®µï¼ŒAgent å¯ä»¥ä½¿ç”¨å·¥å…·æ¥åˆ†ç±»ã€å‡çº§æˆ–è§£å†³å·¥å•ã€‚

åœ¨ **è§‚å¯Ÿ** é˜¶æ®µï¼ŒAgent è·å¾—æ–°çš„è§‚å¯Ÿç»“æœï¼Œè¿™äº›æ˜¯å·¥å…·è°ƒç”¨çš„è¾“å‡ºï¼Œæ¯”å¦‚å·¥å•çš„åˆ†ç±»æ˜¯ä»€ä¹ˆï¼Œæˆ–è€…å‡çº§æ˜¯å¦æˆåŠŸã€‚

åœ¨ **æ¨ç†** é˜¶æ®µï¼Œè¿™åŸºæœ¬ä¸Šæ˜¯ LLMâ€œæ€è€ƒâ€å®ƒæ¥ä¸‹æ¥åº”è¯¥åšä»€ä¹ˆï¼ŒAgent å¯èƒ½å¿…é¡»å†³å®šæ˜¯å¦è°ƒç”¨å·¥å…·ã€ç”Ÿæˆå›å¤æˆ–æ£€æŸ¥è§‚å¯Ÿé˜¶æ®µçš„è¾“å‡ºã€‚æ­£å¦‚ä½ å¯èƒ½é¢„æœŸçš„é‚£æ ·ï¼Œæ¨ç†é˜¶æ®µæ˜¯è¿™ä¸ªå¾ªç¯å¼€å§‹çš„åœ°æ–¹ã€‚

åœ¨è¿™é‡Œæ³¨æ„åˆ°ä»€ä¹ˆäº†å—ï¼Ÿæˆ‘ä»¬ä»æœªè°ˆè®ºè¿‡å·¥ä½œæµç¨‹ã€‚æˆ‘ä»¬ä»æœªä»¥ä»£ç æˆ–é™æ€æµç¨‹çš„å½¢å¼å†³å®š LLM ä½•æ—¶åº”è¯¥ä½¿ç”¨å·¥å…·ã€åˆ†ç±»å·¥å•æˆ–è§£å†³å·¥å•ã€‚

ä¸ºäº†è¿›ä¸€æ­¥ç†è§£è¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¯ä»¥ç”¨æ¥åšåŒæ ·äº‹æƒ…çš„ä»£ç ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ CrewAI åº“æ¥å®ç°è¿™ä¸€ç‚¹ã€‚è¿˜è®°å¾—æˆ‘ä»¬å®šä¹‰ Agent æ˜¯ä»€ä¹ˆçš„æ—¶å€™å—ï¼šå·¥å…·ã€LLMã€æç¤ºè¯ã€è®°å¿†å’Œä¸€ä¸ªç¼–æ’å±‚ã€‚CrewAI æ˜¯è¿™é‡Œçš„ç¼–æ’å±‚ã€‚å®ƒæŠ½è±¡æ‰äº†å…³äº Agent å¦‚ä½•è¿›è¡Œå·¥å…·è°ƒç”¨ã€å“åº”å¦‚ä½•è¿”å›ç»™ Agent çš„å¤§é‡ç»†èŠ‚ï¼Œå¹¶æ·»åŠ äº†å¤§é‡è¯­æ³•ç³–ï¼Œä½¿åˆ›å»º Agent å˜å¾—æ›´ç®€å•ã€‚è¿™å°±æ˜¯ Agent åœ¨åº•å±‚å·¥ä½œçš„æ‰€æœ‰é­”æ³•å‘ç”Ÿçš„åœ°æ–¹ã€‚æˆ‘ä»¬ç¨åå°†è¯¦ç»†ä»‹ç»è¿™ä¸ªç¼–æ’å±‚çš„èŒè´£ï¼Œå¹¶çœ‹çœ‹æœ‰å“ªäº›æµè¡Œçš„é€‰é¡¹ä»¥åŠå®ƒä»¬æä¾›çš„åŠŸèƒ½ã€‚

**ç°åœ¨å¼€å§‹çœ‹ä»£ç ï¼š**

```py
support_agent = Agent(
    role="Senior Customer Support Specialist",
    goal="Efficiently and accurately process customer support tickets, ensuring high customer satisfaction by providing timely and helpful responses.",
    backstory=(
        "You are a seasoned support specialist with a knack for understanding customer needs. "
        "You excel at identifying the root cause of issues, communicating clearly, and "
        "knowing precisely when a problem needs to be escalated to a senior team member. "
        "Your goal is to resolve issues on the first touch whenever possible, but never at the expense of quality."
    ),
    tools=[ClassifyTicketTool(), EscalateTicketTool(), ResolveTicketTool()],
    llm=llm,
    verbose=True,
    allow_delegation=False
)


def create_ticket_processing_task(agent, ticket_id, customer_name, issue_description):
    return Task(
        description=f"""
        Process customer support ticket with the following details:
        - Ticket ID: {ticket_id}
        - Customer Name: {customer_name}
        - Issue Description: {issue_description}

        Follow this exact workflow:
        1.  **Analyze and Classify**: Carefully read the issue description to understand the problem. Classify its 'Priority' (Low, Medium, High, Critical) and 'Category' (e.g., Technical, Billing, Feature Request).
        2.  **Draft Initial Response**: Write a professional and empathetic initial response to the customer acknowledging their issue.
        3.  **Decide to Escalate or Resolve**: Review the ticket content and its priority. You MUST decide if escalation is necessary. Escalate for 'High' or 'Critical' priority, or if the customer uses keywords like 'urgent', 'angry', 'third time', 'unacceptable', etc.
        4.  **Use a Tool**:
            - If you decide to escalate, you MUST use the 'Escalate Ticket' tool. Provide a clear reason for the escalation.
            - If you decide to resolve, you MUST use the 'Resolve Ticket' tool.
        5.  **Draft Final Response**: Based on the action you took (escalation or resolution), write a final, clear, customer-facing response. If escalated, inform them it's with a specialist. If resolved, confirm the solution and close the loop.

        Your final output must be a comprehensive report in markdown format that includes:
        - The classified priority and category.
        - The initial response.
        - The action taken with the corresponding tool.
        - The final customer-facing response.
        """,
        agent=agent,
        expected_output="A detailed markdown report with the classified ticket details, initial response, action taken, and final customer-facing response."
    )

```

å®Œæ•´çš„ä»£ç å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š<https://github.com/thesmallstar/AI-Agents-Under-the-hood-blog/blob/main/agent.py>

å¥½çš„ï¼Œæœ€åˆçš„è§‚å¯Ÿå¾ˆæ¸…æ¥šã€‚æ²¡æœ‰é™æ€å·¥ä½œæµç¨‹ï¼Œåªæœ‰åŠ¨æ€å·¥ä½œæµç¨‹ã€‚ä¸æ˜¯è½¯ä»¶è§„å®šæ¯ä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ LLM å†³å®šæ¯ä¸€æ­¥åšä»€ä¹ˆã€‚

**æˆ‘ä»¬ç©çš„å°æŠŠæˆ**

ä½†è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰è¶£çš„å°æŠŠæˆï¼šæˆ‘ä»¬åœ¨ Task çš„æè¿°ä¸­è¯´â€œéµå¾ªè¿™ä¸ªç¡®åˆ‡çš„å·¥ä½œæµç¨‹â€ï¼ˆè¿™æ˜¯ CrewAI ä¸­çš„è¯­æ³•ç³–ï¼‰ã€‚ç­‰ç­‰ï¼Œé‚£ä¹ˆå®ƒä½œä¸ºä¸€ä¸ª Agent çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬ä¸æ˜¯åˆšåˆšæŒ‡ç¤ºäº†ç¡®åˆ‡çš„å·¥ä½œæµç¨‹ï¼Œä½†è¿™æ¬¡æ˜¯ç”¨ç®€å•çš„è‹±è¯­ï¼Ÿ

**é‚£ä¸åªæ˜¯ä¸€ä¸ªé™æ€å·¥ä½œæµç¨‹å—ï¼Ÿ**

å—¯ï¼Œæ˜¯çš„ï¼Œä½ åšåˆ°äº†ã€‚ä½†å…³é”®æ˜¯ï¼Œä½ ä¸èƒ½æ€»æ˜¯è¿™æ ·åšã€‚å¹¶éæ‰€æœ‰é—®é¢˜éƒ½è¶³å¤Ÿç®€å•ï¼Œå¯ä»¥æˆä¸ºä¸€ä¸ªäº”æ­¥è¿‡ç¨‹ï¼Œä½ å¯ä»¥å‡†ç¡®åœ°é¢„æµ‹è¿™äº›æ­¥éª¤å°†æ˜¯ä»€ä¹ˆä»¥åŠæŒ‰ä»€ä¹ˆé¡ºåºè¿›è¡Œã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ ä½¿ç”¨è¿‡ Cursor çš„ Agent æ¨¡å¼ï¼Œä½ èƒ½è¯´ Agent æ€»æ˜¯å…ˆåš X ç„¶åå†åš Y å—ï¼Ÿä¸èƒ½ã€‚è¿™å–å†³äºä½ çš„è¯·æ±‚ã€‚åœ¨ä¸€ä¸ªå¤æ‚çš„é—®é¢˜ä¸­ï¼Œå¾ˆéš¾ï¼ˆå¦‚æœä¸æ˜¯ä¸å¯èƒ½ï¼‰ç¼–å†™ä¸€ä¸ªå›ºå®šçš„å·¥ä½œæµç¨‹ã€‚

**çœŸå®ä¸–ç•Œçš„ä¾‹å­**

å½“æˆ‘åˆ›å»º [patra.app](http://patra.app)[,](https://patra.app) æ—¶ï¼Œå®ƒåŸºæœ¬ä¸Šæ˜¯ Slack ä¸Šçš„ä¸€ä¸ª Jira Agentï¼Œç”¨æˆ·å¯ä»¥æå‡ºçš„æŸ¥è¯¢ç§ç±»æœ‰æ— æ•°ç§å¯èƒ½æ€§ã€‚

ç¤ºä¾‹ï¼š  
ä¸ºè¿™ä¸ªçº¿ç¨‹åˆ›å»ºä¸€å¼  Jira å·¥å•ï¼Œå°†å…¶åˆ†é…ç»™ ManthanSurkarï¼Œæ·»åŠ ä¸€ä¸ªæ ‡ç­¾ Yï¼Œå¹¶å°†ä¼˜å…ˆçº§è®¾ç½®ä¸º Zã€‚

æƒ³è±¡ä¸€ä¸‹å°è¯•åœ¨ä¸€ä¸ªé™æ€å·¥ä½œæµç¨‹ä¸­åšè¿™ä»¶äº‹ã€‚å°†æ¶‰åŠå¤šä¸ªæ­¥éª¤ã€‚é¦–å…ˆï¼Œæ£€æŸ¥ Slack æ¶ˆæ¯ä¸­æ˜¯å¦æ ‡è®°äº†ç”¨æˆ·ã€‚å¦‚æœæ ‡è®°äº†ï¼Œæ‰¾åˆ°ä»–ä»¬çš„ç”µå­é‚®ä»¶ï¼Œç­‰ç­‰ã€‚æˆ‘ä»¬ä¸è¦é™·å…¥ç»†èŠ‚ã€‚

ç°åœ¨æƒ³è±¡ä¸€ä¸ªåƒè¿™æ ·çš„åŠ¨ä½œï¼š  
æ£€æŸ¥æˆ‘çš„ Google æ—¥å†ï¼Œå¹¶ä¸ºæ˜¨å¤©æ™šä¸Šå‘ç”Ÿçš„äº‹ä»¶ä¸­çš„è¡ŒåŠ¨é¡¹åˆ›å»ºä¸€å¼  Jira å·¥å•ã€‚

è¿™äº›æ˜¯å¤æ‚çš„ã€çœŸå®ä¸–ç•Œçš„åœºæ™¯ã€‚ä¸ºæ¯ä¸ªåœºæ™¯ç¼–å†™ä¸€ä¸ªç‰¹å®šçš„å·¥ä½œæµç¨‹å¾ˆéš¾ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ AI Agent å…·æœ‰åŠ¨æ€çš„æ‰§è¡Œæµç¨‹ã€‚

**ä¸è¦è¿‡åº¦å¤æ‚åŒ–ç®€å•çš„äº‹æƒ…**

å“‡ï¼Œå¤ªæ£’äº†ï¼æˆ‘ä»¬æ€»æ˜¯æœ‰ä¸€ä¸ªåŠ¨æ€æµç¨‹æ€ä¹ˆæ ·...

åœã€‚ä¸ã€‚ä¸è¦çŠ¯é‚£ä¸ªé”™è¯¯ã€‚å½“ä½ èƒ½å¤Ÿç¡®å®šæ—¶ï¼Œä¸ºä»€ä¹ˆè¦å‘ä½ çš„è½¯ä»¶åº”ç”¨ç¨‹åºæ·»åŠ ä¸€å±‚ä¸ç¡®å®šæ€§å‘¢ï¼Ÿè¿™ä»½å·¥ä½œè¿˜ä¸å¤Ÿéš¾å—ï¼Œä½ è¿˜æƒ³å¼•å…¥ä¸€ä¸ªä¸ç¡®å®šæ€§çš„ AI æ¨¡å‹ï¼Ÿ

Agent æ˜¯ä¸ºå¤æ‚çš„é—®é¢˜è€Œè®¾è®¡çš„ï¼Œè€Œä¸æ˜¯é‚£äº›ä½ å·²ç»çŸ¥é“è§£å†³æ–¹æ¡ˆå¹¶å¯ä»¥å°†å…¶è®°ä¸ºå·¥ä½œæµç¨‹çš„é—®é¢˜ã€‚ä¸è¦è®©ä½ çš„ç”Ÿæ´»å¤æ‚åŒ–ã€‚é™¤éä½ åªæ˜¯æƒ³è¿‡åº¦è®¾è®¡ä¸œè¥¿ã€‚æˆ‘æ‰¿è®¤ï¼Œè¿™å¾ˆæœ‰è¶£ã€‚

åœ¨çœŸå®ä¸–ç•Œçš„åœºæ™¯ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨ä¸¤ç§æ–¹æ³•çš„æ··åˆã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸‰ä¸ªæ”¯æŒ Agentï¼Œæ¯ä¸ª Agent ä¸“é—¨è´Ÿè´£ä¸åŒçš„äº§å“ã€‚æ ¹æ®å·¥å•é“¾æ¥åˆ°å“ªä¸ªäº§å“ï¼Œä½ å¯ä»¥é€‰æ‹©åˆé€‚çš„ Agent å¹¶å°†è¯·æ±‚è·¯ç”±åˆ°è¯¥ Agentã€‚

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750586210175/09c85433-260c-4dbf-bc87-b2ff4b356c2f.png?auto=compress,format&format=webp)

**æ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆï¼Ÿ**

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å°†å·¥å…·å’Œç¼–æ’æ¡†æ¶ä¿æŒä¸ºä¸€ä¸ªé»‘ç›’ã€‚é‚£äº›åˆ°åº•æ˜¯ä»€ä¹ˆï¼ŸLLM å¦‚ä½•è°ƒç”¨å·¥å…·ï¼Ÿå·¥å…·åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚ä¸­ä»‹ç»æ‰€æœ‰è¿™äº›æœ¯è¯­çš„â€œåº•å±‚â€ã€‚

**å·¥å…· & ç¼–æ’æ¡†æ¶**

LLM é¢„æµ‹ä¸‹ä¸€ä¸ª tokenã€‚ä½ ç°åœ¨å·²ç»å¬è¿‡è¿™å¥è¯ä¸€ç™¾ä¸‡æ¬¡äº†ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå®ƒå¦‚ä½•ä»…é€šè¿‡é¢„æµ‹ token æ¥è°ƒç”¨å·¥å…·ï¼Ÿå—¯ï¼Œå®é™…ä¸Šï¼Œå®ƒå¹¶æ²¡æœ‰ã€‚LLM åªæ˜¯è¡¨æ˜å®ƒæƒ³ä½¿ç”¨ä¸€ä¸ªå·¥å…·ï¼Œç„¶åç­‰å¾…ç¼–æ’æ¡†æ¶æ¥å¼„æ¸…æ¥šå®ƒåº”è¯¥è°ƒç”¨å“ªä¸ªå·¥å…·ï¼Œå®é™…æ‰§è¡Œè°ƒç”¨ï¼Œç„¶åè®© LLM çŸ¥é“ï¼Œâ€œå˜¿ï¼Œå·¥å…·è¢«è°ƒç”¨äº†ï¼Œè¿™æ˜¯è¾“å‡ºã€‚â€

**ä¸€ä¸ªç®€å•çš„ä¾‹å­**

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ç¨‹åºæ¥åˆ†è§£è¿™ä¸€ç‚¹ã€‚

å‡è®¾æˆ‘ä»¬æƒ³æ ¹æ®ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æ¶ˆæ¯æ¥åŠ æˆ–å‡ä¸¤ä¸ªæ•°å­—ã€‚ç”±äºæˆ‘ä»¬å¤„ç†çš„æ˜¯è‡ªç„¶è¯­è¨€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ LLMã€‚ä½†æ˜¯åŠ ä¸¤ä¸ªæ•°å­—æ˜¯ä¸€ä¸ªå·²ç»è§£å†³çš„é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿç¡®å®šåœ°åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¯¹å—ï¼Ÿè¿™æ­£æ˜¯å·¥å…·çš„ç”¨æ­¦ä¹‹åœ°ã€‚

**ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å·¥å…·ï¼Ÿ**

å·¥å…·è®© LLM å¯ä»¥é€šè¿‡ API ä¸å…¶ä»–ç³»ç»Ÿé€šä¿¡ã€‚å®ƒä»¬è¿˜å¯ä»¥è®© LLM ä¸å…¶ä»– Agent é€šè¯ï¼ˆä¸ºå¤š Agent ç³»ç»Ÿæ•²é¼“ï¼‰ï¼Œæˆ–è€…æ‰§è¡Œç¡®å®šæ€§ä»»åŠ¡ï¼Œæ¯”å¦‚åŠ ä¸¤ä¸ªæ•°å­—ã€‚

**å®šä¹‰ä¸€ä¸ªå·¥å…·**

è®©æˆ‘ä»¬å®šä¹‰æˆ‘ä»¬çš„å·¥å…·çš„å¤–è§‚ï¼š

```py
def add(a: int, b: int) -> int:
    """Adds two integers together."""
    return a + b

def subtract(a: int, b: int) -> int:
    """Subtracts the second integer from the first."""
    return a - b

SYSTEM_PROMPT = """You are a helpful assistant with access to the following functions:

1. `add(a: int, b: int)`: Adds two integers together.
2. `subtract(a: int, b: int)`: Subtracts the second integer from the first.

When a user asks a question that can be answered by one of these functions, 
you MUST respond ONLY with a JSON object in the following format:
{
  "function_name": "name_of_the_function",
  "arguments": {"arg_name": "value", ...}
}

Do not include any other text, explanations, or markdown formatting. 
Your entire response must be only the JSON object.

If you can answer the question without a function, 
just provide the answer directly in plain text."""

```

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ª Python å‡½æ•°ã€‚å®ƒä»¬å¯ä»¥æ‰§è¡Œè®¡ç®—çš„ç¡®å®šæ€§ä»»åŠ¡ã€‚æç¤ºè¯è®© LLM çŸ¥é“å®ƒå¯ä»¥è°ƒç”¨ä¸Šé¢çš„å‡½æ•°ã€‚å¦‚æœ LLM æƒ³è¦ä½¿ç”¨è¿™äº›å·¥å…·ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå®ƒä¼šä»¥ç‰¹å®šçš„æ ¼å¼ç»™æˆ‘ä»¬è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥â€œè§£æâ€å¹¶è¯†åˆ«éœ€è¦è°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚ä¸€æ—¦è°ƒç”¨å®Œæˆï¼Œæˆ‘ä»¬ä¼šè®© LLM çŸ¥é“ç­”æ¡ˆï¼Œå¹¶å…è®¸å®ƒç»§ç»­æ‰§è¡Œã€‚

**â€œç»§ç»­å¯¹è¯â€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ**

å®ƒåªæ˜¯æ·»åŠ ä¸€æ¡æ–°æ¶ˆæ¯ï¼Œè¯´æ˜å·¥å…·è°ƒç”¨å·²æˆåŠŸï¼Œè¾“å‡ºä¸º Xï¼Œæˆ–è€…è®© LLM çŸ¥é“å·¥å…·è°ƒç”¨å¤±è´¥äº†ã€‚æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæˆ‘ä»¬è®© LLM åšå®ƒçš„å·¥ä½œï¼Œç”Ÿæˆä¸‹ä¸€ä¸ª tokenï¼Œä½†ç°åœ¨åŠ å…¥äº†å·¥å…·è°ƒç”¨çš„è¾“å‡ºã€‚

**åŸºæœ¬ä¸Šå°±æ˜¯è¿™æ ·ã€‚**

è¿™å°±æ˜¯å·¥å…·è°ƒç”¨åœ¨åº•å±‚çš„å·¥ä½œæ–¹å¼ã€‚æœ‰ä¸€ä¸ªè§£æå™¨ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªè§£æå‡½æ•°çš„æ ·å­ï¼š

```py
def parse_and_execute(response_content: str) -> (str, str):
    """
    Tries to parse the LLM's text response as a JSON function call.
    If successful, it executes the function and returns the result and function name.
    Otherwise, it returns (None, None).
    """
    try:
        call_data = json.loads(response_content)
        function_name = call_data.get("function_name")
        function_args = call_data.get("arguments")

        if not all([function_name, isinstance(function_args, dict)]):
            return None, None 

        print(f"Parser is executing function: '{function_name}' with args: {function_args}")

        available_functions = {"add": add, "subtract": subtract}
        function_to_call = available_functions.get(function_name)

        if function_to_call:
            result = function_to_call(**function_args)
            return str(result), function_name
        else:
            return f"Error: Unknown function '{function_name}'.", function_name

    except (json.JSONDecodeError, TypeError):
        return None, None 

```

å®Œæ•´çš„ä»£ç å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š<https://github.com/thesmallstar/AI-Agents-Under-the-hood-blog/blob/main/tool.py>

ç„¶åæ˜¯ **invoke** æ–¹æ³•ã€‚è¿™å…è®¸ä½ å°†å·¥å…·è°ƒç”¨çš„å“åº”åˆå¹¶å›åŸå§‹æ¶ˆæ¯é›†ï¼Œå› æ­¤ LLM å¯ä»¥ç”ŸæˆåŒ…å«æ­¤é¢å¤–ä¿¡æ¯çš„ä¸‹ä¸€ä¸ª tokenã€‚

```py
def invoke(user_prompt: str):
    """
    Invokes the LLM, manually handling the function-calling loop.
    """
    print(f"\n{'='*20} Invoking for prompt: '{user_prompt}' {'='*20}")

    messages = [
        {"role": "system", "content": SYSTEM_PROMPT},
        {"role": "user", "content": user_prompt}
    ]

    
    print("\n--- 1. Sending prompt to LLM to generate function call JSON... ---")
    response = client.chat.completions.create(
        model="gpt-4o",
        messages=messages
    )

    response_message = response.choices[0].message
    messages.append({"role": "assistant", "content": response_message.content})

    
    print("\n--- 2. Manually parsing response for a function call... ---")
    function_output, function_name = parse_and_execute(response_message.content)

    if function_output:
        
        messages.append({
            "role": "user", 
            "content": f"I have called the function '{function_name}'. The result is: {function_output}"
        })

        
        print("\n--- 3. Sending function output back to LLM... ---")

        second_response = client.chat.completions.create(
            model="gpt-4o",
            messages=messages
        )
        final_response = second_response.choices[0].message.content
    else:
        
        final_response = response_message.content

    print(f"\n--- Final Answer ---")
    print(final_response)
    return final_response

```

ä½ çŸ¥é“æˆ‘ä»¬åˆšåˆšåšäº†ä»€ä¹ˆå—ï¼Ÿæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªè¿·ä½  Agent æ¡†æ¶ã€‚è¿™ä¸ªæ¡†æ¶æ˜¯æ›´å¤æ‚ç³»ç»Ÿä¸­åº•å±‚å·¥ä½œæ–¹å¼çš„è¿‡åº¦ç®€åŒ–ç‰ˆæœ¬ã€‚å®ƒä»¬éƒ½æœ‰è§£æå±‚æ¥å¼„æ¸…æ¥šä¸‹ä¸€ä¸ªè¡ŒåŠ¨åº”è¯¥æ˜¯ä»€ä¹ˆã€‚æ˜¯å·¥å…·è°ƒç”¨å—ï¼Ÿåº”è¯¥ç”±å¦ä¸€ä¸ª Agent ç»§ç»­æ‰§è¡Œå—ï¼Ÿç­‰ç­‰ã€‚

ä»Šå¤©ï¼ŒOpenAI å’Œ Anthropic éƒ½åœ¨ä»–ä»¬çš„ SDK ä¸­æ”¯æŒå¼€ç®±å³ç”¨çš„å·¥å…·è°ƒç”¨ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äº OpenAI çš„æ–° Responses API åŠå…¶å¯¹å‡½æ•°è°ƒç”¨çš„æ”¯æŒï¼š<https://platform.openai.com/docs/quickstart?api-mode=responses>

**æ¢ç´¢æµè¡Œçš„ Agent æ¡†æ¶**

ä¸€äº›æµè¡Œçš„ Agent æ¡†æ¶åŒ…æ‹¬ -

*   **CrewAI** â€“ ä¸€ä¸ªç”¨äºåè°ƒå¤šä¸ª Agent ä½œä¸ºå›¢é˜Ÿçš„ Python æ¡†æ¶ã€‚  
    é˜…è¯»æ›´å¤šï¼š[Github ä¸Šçš„ CrewAI](https://github.com/crewAIInc/crewAI)
*   **OpenAI Agents SDK** â€“ ä¸€ä¸ªç”¨äºæ„å»ºå’Œè¿æ¥ Agent çš„è½»é‡çº§å·¥å…·åŒ…ï¼Œå…·æœ‰å†…ç½®çš„è·Ÿè¸ªå’Œé˜²æŠ¤æªæ–½ã€‚  
    é˜…è¯»æ›´å¤šï¼š[OpenAI Agents SDK (Python)](https://openai.github.io/openai-agents-python/)
*   **MetaGPT** â€“ ä¸€ä¸ªå¤š Agent ç³»ç»Ÿï¼Œé€šè¿‡å°†äº§å“ç»ç†å’Œå¼€å‘äººå‘˜ç­‰è§’è‰²åˆ†é…ç»™ä¸åŒçš„ Agent æ¥æ¨¡æ‹Ÿè½¯ä»¶å›¢é˜Ÿã€‚  
    é˜…è¯»æ›´å¤šï¼š[GitHub ä¸Šçš„ MetaGPT](https://github.com/FoundationAgents/MetaGPT)

ç°åœ¨ä½ å·²ç»çŸ¥é“ä»€ä¹ˆæ˜¯å·¥å…·å’Œæ¡†æ¶äº†ï¼Œæ¢ç´¢æµè¡Œçš„é€‰é¡¹æ˜¯æœ‰æ„ä¹‰çš„ã€‚è¯·è®°ä½ï¼Œæ¯ä¸ªé€‰é¡¹éƒ½æœ‰è‡ªå·±çš„è¯­æ³•ç³–ï¼Œç”¨äºå®šä¹‰å·¥å…·ã€è®¾ç½® Agent çš„ä¸åŒæ–¹é¢æˆ–æè¿°å…¶ç›®æ ‡å’Œè§’è‰²ã€‚

**ç­‰ç­‰ï¼Œè§’è‰²ï¼Ÿ**

è¿™æ˜¯æ–°çš„ã€‚ä¸ºä»€ä¹ˆ Agent éœ€è¦ä¸€ä¸ªè§’è‰²ï¼Ÿè§’è‰²åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ

å¦‚æœä½ ä»”ç»†æƒ³æƒ³ï¼Œæ‹¥æœ‰ä¸€ä¸ªç‰¹å®šçš„è§’è‰²æœ‰åŠ©äº Agent ä¸“æ³¨äºå…¶ç›®æ ‡ï¼Œå¹¶å°±ä½¿ç”¨å“ªäº›å·¥å…·åšå‡ºæ›´å¥½çš„å†³ç­–ã€‚è¿™åœ¨ä¸åŒçš„ Agent ç›¸äº’äº¤äº’çš„å¤š Agent ç³»ç»Ÿä¸­å°¤å…¶é‡è¦ã€‚ä¸€ä¸ªå¤æ‚çš„é—®é¢˜å¯ä»¥é€šè¿‡ä¸€ä¸ªå¤š Agent ç³»ç»Ÿæ¥è§£å†³ï¼Œå…¶ä¸­æ¯ä¸ª Agent éƒ½æœ‰ä¸åŒçš„è§’è‰²ã€‚

**æ¥ä¸‹æ¥ï¼šå¤š Agent ç³»ç»Ÿ**

åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œè®©æˆ‘ä»¬æ›´å¤šåœ°è°ˆè°ˆå¤š Agent æ¡†æ¶ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬å¯èƒ½éœ€è¦å¤šä¸ª Agent ååŒå·¥ä½œæ‰èƒ½å®Œæˆä»»åŠ¡ã€‚

ç°åœ¨æˆ‘ä»¬äº†è§£äº†ä»€ä¹ˆæ˜¯ Agentï¼Œæ­£å¦‚ä½ å¯èƒ½é¢„æœŸçš„é‚£æ ·ï¼Œå¤š Agent ç³»ç»Ÿåªæ˜¯å¤šä¸ªååŒå·¥ä½œçš„ Agentã€‚

**è¯·è®°ä½ï¼ŒAgent åªæ˜¯ï¼š**

*   ä¸€ä¸ªå¯ä»¥è®¿é—®å·¥å…·çš„ LLM
*   ä¸€ç»„æç¤ºè¯ï¼ˆå¦‚è§’è‰²ã€ç›®æ ‡ç­‰ï¼‰
*   è®°å¿†ï¼ˆæˆ‘ä»¬ç¨åä¼šè°ˆåˆ°ï¼‰
*   æ‰€æœ‰è¿™äº›éƒ½æ˜¯ä½¿ç”¨ç¼–æ’æ¡†æ¶æ„å»ºçš„ï¼Œä»¥ä¾¿ä¸€åˆ‡ååŒå·¥ä½œ

ä½†æ˜¯ï¼Œåœ¨ä¸€ä¸ªç³»ç»Ÿä¸­æ‹¥æœ‰å¤šä¸ª Agent å®é™…ä¸Šæ„å‘³ç€ä»€ä¹ˆï¼Ÿä»–ä»¬å¦‚ä½•æ²Ÿé€šï¼Ÿå—¯ï¼Œè¿™å–å†³äºç¼–æ’æ¡†æ¶ã€‚ä¾‹å¦‚ï¼ŒCrewAI å…è®¸åœ¨å¤š Agent ç³»ç»Ÿä¸­è¿›è¡Œä¸¤ä¸ªä¸»è¦æ“ä½œã€‚

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750530783347/e075dac0-4879-4b27-9505-2d6446ff99ed.png?auto=compress,format&format=webp)

*æ¥æºï¼š[CrewAI åä½œæ¦‚å¿µ](https://docs.crewai.com/concepts/collaboration)*

æ‰€æœ‰å…¶ä»– Agent éƒ½ä½œä¸ºå·¥å…·æ·»åŠ ã€‚å½“å‰ Agent å¯ä»¥å‘ä¸“å®¶ Agent æé—®ï¼Œæˆ–è€…å°†ä»»åŠ¡å§”æ´¾ç»™è¯¥ Agentï¼Œå‡è®¾å®ƒå¯ä»¥æ¥ç®¡è¯¥è´£ä»»ã€‚

**ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤š Agent ç³»ç»Ÿï¼Ÿ**

å¤š Agent ç³»ç»Ÿæœ‰åŠ©äºç»„ç»‡ä»»åŠ¡å¹¶å°†å®ƒä»¬åˆ†è§£æˆæ›´å°çš„é—®é¢˜ã€‚æ¯ä¸ªé—®é¢˜éƒ½å¯ä»¥ç”±ä¸€ä¸ªå•ç‹¬çš„ä¸“å®¶ Agent è§£å†³ï¼Œè¯¥ Agent å¯ä»¥è®¿é—®ç‰¹å®šçš„å·¥å…·å’Œç‰¹å®šçš„è§’è‰²ï¼Œå°±åƒä¸€ä¸ªå›¢é˜Ÿåœ¨åšä¸€ä¸ªé¡¹ç›®ä¸€æ ·ã€‚æ­£å¦‚ Anthropic åœ¨ä»–ä»¬çš„å…³äºå¤š Agent ç³»ç»Ÿçš„[åšå®¢æ–‡ç« ](https://www.anthropic.com/engineering/built-multi-agent-research-system) ä¸­æŒ‡å‡ºçš„é‚£æ ·ï¼Œå¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œåœ¨å¤„ç†å¤æ‚é—®é¢˜æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨æ›´å¤šçš„ tokenï¼ˆå› æ­¤ç³»ç»Ÿå¯ä»¥â€œæ€è€ƒæ›´å¤šâ€ï¼‰ã€‚

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæé—®æ„å‘³ç€ä»æ–°çš„å·¥ä½œè®°å¿†ï¼ˆèŠå¤©å†å²ï¼‰å¼€å§‹ï¼Œå®ƒå¯ä»¥æ‰©å±•åˆ°æ•°ä¸‡ä¸ª tokenï¼Œå¹¶åœ¨ä¸» Agent ç»§ç»­å…¶å·¥ä½œä¹‹å‰å›ç­”ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢ã€‚

ä½ å¯ä»¥åœ¨ç¨å[è¿™é‡Œ](https://langchain-ai.github.io/langgraph/concepts/multi_agent/)é˜…è¯»å…³äºä¸åŒç±»å‹çš„å¤š Agent ç³»ç»Ÿã€‚

**è­¦å‘Šï¼š** æ­£å¦‚ä½ å¯èƒ½é¢„æœŸçš„é‚£æ ·ï¼Œå¤š Agent ç³»ç»Ÿæ˜¯å¤æ‚çš„ï¼Œéš¾ä»¥è°ƒè¯•ï¼Œå¹¶ä¸”éš¾ä»¥è¯„ä¼°ã€‚æˆ‘è®¤ä¸ºä»ä¸€ä¸ªå·¥ä½œæµç¨‹å¼€å§‹æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚å¦‚æœæ‰§è¡Œæµç¨‹å˜å¾—å¤æ‚ï¼Œé‚£ä¹ˆå°è¯•æ„å»ºä¸€ä¸ª Agentã€‚å¦‚æœå®ƒä»ç„¶å¾ˆå¤æ‚ï¼Œå¹¶ä¸”ä½ é‡åˆ°äº†è¯¸å¦‚ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ä¹‹ç±»çš„é—®é¢˜ï¼Œé‚£ä¹ˆè€ƒè™‘ä½¿ç”¨ä¸€ä¸ªå¤š Agent æ¡†æ¶ã€‚ä¸è¦ä½¿ç”¨è¶…è¿‡ä½ å®é™…éœ€è¦çš„å¤æ‚æ€§æˆ–èƒ½åŠ›ã€‚

æˆ‘ä»¬å·²ç»æ¥è§¦äº† AI Agent çš„æ‰€æœ‰æ–¹é¢ï¼Œé™¤äº†è®°å¿†ã€‚è®©æˆ‘ä»¬ç°åœ¨æ·±å…¥ç ”ç©¶è¿™ä¸ªã€‚

åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œåœ¨ä½ çš„ç³»ç»Ÿå˜å¾—è¶³å¤Ÿå¤æ‚ä¹‹å‰ï¼Œæˆ–è€…é™¤éä½ ä½¿ç”¨çš„æ˜¯ä¾èµ–äºæŸç§å½¢å¼çš„è®°å¿†çš„ Agent æ¡†æ¶ï¼Œå¦åˆ™ä½ ä¸éœ€è¦å¤ªå…³å¿ƒ Agent çš„è®°å¿†æ–¹é¢ã€‚

AI Agent å¯èƒ½æœ‰ä¸¤ç§å½¢å¼çš„è®°å¿†ï¼Œå°±åƒäººç±»ä¸€æ ·ï¼š

çŸ­æœŸè®°å¿†è®© LLM å¯ä»¥è·Ÿè¸ªæ­£åœ¨å‘ç”Ÿçš„æœ€æ–°æˆ–æ´»è·ƒçš„å¯¹è¯ã€‚ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ª Agent å†³å®šè¿›è¡Œå·¥å…·è°ƒç”¨æ—¶ï¼Œå®ƒä¸ä¼šå¿˜è®°åœ¨å·¥å…·è¢«è§¦å‘ä¹‹å‰å‘ç”Ÿçš„ä»»ä½•äº‹æƒ…ã€‚å¯¹è¯ä¸ä¼šé‡æ–°å¼€å§‹ï¼›å®ƒä¼šä»å®ƒç¦»å¼€çš„åœ°æ–¹ç»§ç»­ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒLLM çš„ä¸Šä¸‹æ–‡çª—å£ä¸­çš„ä»»ä½•å†…å®¹éƒ½æ˜¯å®ƒçš„çŸ­æœŸè®°å¿†ã€‚æœ‰æ—¶ï¼Œå¦‚æœä¸Šä¸‹æ–‡çª—å£ä¸å¤Ÿé•¿ï¼Œæ— æ³•å®¹çº³æ‰€æœ‰å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“è¾ƒæ—§çš„æ¶ˆæ¯ï¼Œå¹¶ä¿æŒæœ€æ–°çš„æ¶ˆæ¯ä¸å˜ã€‚

è¿™æ˜¯ä¸€ä¸ªä¾‹å­ã€‚å‡è®¾ä½ æ­£åœ¨ä½¿ç”¨ AI Agent è¿›è¡Œå¤æ‚çš„æ•°å­¦è¿ç®—ï¼Œä½†ä½ åªæœ‰ä¸€ä¸ªå°çš„ä¸Šä¸‹æ–‡çª—å£ï¼š

M1ï¼šç”¨æˆ·ï¼šæ‰§è¡Œ 10 + 20 + 30 + 40 + 50  
M2ï¼šLLMï¼š*å·¥å…·è°ƒç”¨ï¼Œ10 + 20*  
M3ï¼šç”¨æˆ·ï¼šè¾“å‡º 30  
M4ï¼šLLMï¼š*å½“å‰ç­”æ¡ˆæ˜¯ 30ï¼Œè®©æˆ‘ä»¬ç»§ç»­ã€‚å·¥å…·è°ƒç”¨ 30 + 30*  
M5ï¼šç”¨æˆ·ï¼šè¾“å‡º 60  
M6ï¼šLLMï¼š*å½“å‰ç­”æ¡ˆæ˜¯ 60ï¼Œè®©æˆ‘ä»¬ç»§ç»­ã€‚å·¥å…·è°ƒç”¨ 60 + 40*

åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°† M2 åˆ° M4 æ€»ç»“ç”šè‡³æ¶ˆé™¤æˆä¸€è¡Œï¼Œæ¯”å¦‚ M2'ï¼š

M1ï¼šç”¨æˆ·ï¼šæ‰§è¡Œ 10 + 20 + 30 + 40 + 50  
M2'ï¼šç”¨æˆ·ï¼š10 + 20 + 30 çš„è¾“å‡ºæ˜¯ 60ï¼Œç»§ç»­ã€‚  
M6ï¼šLLMï¼šå½“å‰ç­”æ¡ˆæ˜¯ 60ï¼Œè®©æˆ‘ä»¬ç»§ç»­ã€‚å·¥å…·è°ƒç”¨ 60 + 40

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ˜¯å¦‚ä½•å‹ç¼©è¿™äº›ä¿¡æ¯è€Œæ²¡æœ‰ä¸¢å¤±ä»»ä½•é‡è¦å†…å®¹ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€åŒ–çš„ä¾‹å­ï¼Œä½†åœ¨æ›´å¤æ‚çš„æƒ…å†µä¸‹ï¼Œäº‹æƒ…å¯èƒ½ä¼šå˜å¾—æ£˜æ‰‹ã€‚ç¡®ä¿æ­£ç¡®çš„äº‹æƒ…ç•™åœ¨ Agent çš„çŸ­æœŸè®°å¿†ä¸­å¯èƒ½æ˜¯ä¸€ä¸ªçœŸæ­£çš„æŒ‘æˆ˜ã€‚

æœ‰æ—¶ï¼Œä½ ç”šè‡³å¯èƒ½ä¸æ€»ç»“ï¼Œè€Œåªæ˜¯å¿½ç•¥è¾ƒæ—§çš„æ¶ˆæ¯ã€‚Agent çš„çŸ­æœŸè®°å¿†çš„å®ç°å’Œä½¿ç”¨å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œè¿™å–å†³äºä½ è¯•å›¾è§£å†³çš„é—®é¢˜ã€‚

æˆ‘ä»¬è¿˜æåˆ°ï¼Œä¸€ä¸ª Agent å¼çš„æ¡†æ¶å¯èƒ½ä¾èµ–äºçŸ­æœŸè®°å¿†ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ RAISE æ¡†æ¶ï¼Œå®ƒæ˜¯æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ ReAct æ¡†æ¶çš„æ‰©å±•ã€‚  
**RAISE ä»£è¡¨é€šè¿‡è‰ç¨¿çº¸å’Œä¾‹å­è¿›è¡Œæ¨ç†å’Œè¡ŒåŠ¨ã€‚** è‰ç¨¿çº¸å­˜åœ¨äº Agent çš„çŸ­æœŸè®°å¿†ä¸­ï¼Œå¹¶åœ¨æ‰§è¡ŒæœŸé—´ä½¿ç”¨ã€‚å¦ä¸€æ–¹é¢ï¼Œä¾‹å­æ˜¯é•¿æœŸè®°å¿†ã€‚

åœ¨è¿™é‡Œé˜…è¯»ä»‹ç» RAISE æ¡†æ¶çš„è®ºæ–‡ï¼š<https://arxiv.org/pdf/2401.02777>

é•¿æœŸè®°å¿†æ˜¯ Agent åœ¨å¤šæ¬¡å¯¹è¯ä¸­è®°ä½çš„å†…å®¹ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡ ChatGPT å¹¶å°è¯•è¿‡è®°å¿†åŠŸèƒ½ï¼Œé‚£å°±åƒç³»ç»Ÿçš„é•¿æœŸè®°å¿†ã€‚å½“ä½ è¿›è¡Œå¯¹è¯æ—¶ï¼Œç³»ç»Ÿä¼šå­˜å‚¨ç›¸å…³ä¿¡æ¯ï¼Œä»¥ä¾¿ä»¥åæ£€ç´¢ï¼Œä»è€Œä¸ºä½ æä¾›æ›´å¥½çš„ç­”æ¡ˆã€‚è¿™å°±æ˜¯é•¿æœŸè®°å¿†åœ¨èµ·ä½œç”¨ã€‚

åœ¨æˆ‘ä»¬ä¹‹å‰å…³äºå®¢æˆ·æˆåŠŸæœºå™¨äººçš„ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥å­˜å‚¨ä»¥å‰å›ç­”çš„å·¥å•ï¼Œæ— è®ºæ˜¯äººå·¥å›ç­”è¿˜æ˜¯ Agent å›ç­”ï¼Œç„¶åæ£€ç´¢ç›¸å…³çš„ä¾‹å­ï¼Œä»¥å¸®åŠ©æ›´å¥½åœ°å›ç­”å½“å‰çš„å·¥å•ã€‚è¿™æ˜¯é•¿æœŸè®°å¿†çš„ä½¿ç”¨ï¼Œå®ƒé€šå¸¸é€šè¿‡å·¥å…·è°ƒç”¨æ¥è®¿é—®ã€‚å·¥å…·è°ƒç”¨å¯ä»¥æ˜¯ä¸€ä¸ªç®€å•çš„æ•°æ®åº“æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª RAG ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿæœ‰åŠ©äºæ£€ç´¢å­˜å‚¨åœ¨æŒä¹…å­˜å‚¨ä¸­çš„è®°å¿†ã€‚

è¯·æ³¨æ„ï¼Œä¸ºäº†ä½¿é•¿æœŸè®°å¿†çœŸæ­£æœ‰ç”¨ï¼Œå®ƒéœ€è¦å‡ºç°åœ¨å·¥ä½œè®°å¿†æˆ–çŸ­æœŸè®°å¿†ä¸­ï¼Œåœ¨é‚£é‡Œå®ƒå°†è¢«ä½¿ç”¨å¹¶åœ¨ç”Ÿæˆä¸‹ä¸€ä¸ª token æ—¶è¢«è€ƒè™‘ã€‚

## ç”¨äºæ“ä½œ Agent çš„å¿ƒç†æ¨¡å‹

è¿™æœ‰å¾ˆå¤šç†è®ºå’Œåº•å±‚ä¿¡æ¯ã€‚æˆ‘å¸Œæœ›ä½ å¸¦ç€ä¸€ä¸ªæˆ‘åœ¨å¼€å‘ Agent æˆ–ä»»ä½• LLM åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨çš„å®ç”¨å¿ƒç†æ¨¡å‹ç¦»å¼€ã€‚è¿™å°±æ˜¯æˆ‘å¦‚ä½•ä½¿ [patra.app](http://patra.app) å¯é åœ°å·¥ä½œï¼Œä»¥åŠæˆ‘å¦‚ä½•å‘å¸ƒå¤šä¸ªå…¶ä»–ç”Ÿäº§ç³»ç»Ÿã€‚

**é»„é‡‘æ¨¡å‹ï¼š**  
æŠŠè‡ªå·±æ”¾åœ¨ Agent çš„ä½ç½®ã€‚æƒ³è±¡ä¸€ä¸‹ä½ å°±æ˜¯é‚£ä¸ª Agentã€‚

è¿™å¬èµ·æ¥å¯èƒ½å¾ˆè€å¥—ã€‚ä½†æ˜¯â€œæˆä¸ºé‚£ä¸ª Agentâ€åˆ°åº•æ„å‘³ç€ä»€ä¹ˆï¼ŸLLM ä¸æ˜¯é­”æ³•ã€‚å¦‚æœä¸€ä¸ªäººæ— æ³•å¼„æ¸…æ¥šå¦‚ä½•åœ¨ç‰¹å®šæƒ…å†µä¸‹ç»§ç»­è¿›è¡Œï¼Œé‚£ä¹ˆ Agent å¾ˆå¯èƒ½ä¹Ÿæ— æ³•åšåˆ°ã€‚å‡è®¾ä½ æ­£åœ¨æ„å»ºä¸€ä¸ªç¼–ç  Agentï¼Œå¹¶ä¸”ä½ ç»™å®ƒä¸€ä¸ªä¿®å¤é”™è¯¯çš„ä»»åŠ¡ã€‚

æŠŠè‡ªå·±æ”¾åœ¨ Agent çš„ä½ç½®ã€‚æƒ³è±¡ä¸€ä¸‹é¢å¯¹ä¸€ä¸ªæœ‰ 1000 ä¸ªæ–‡ä»¶çš„ä»£ç åº“ã€‚å®ƒæ€ä¹ˆçŸ¥é“ä»å“ªé‡Œå¼€å§‹ï¼Ÿå®ƒæ²¡æœ‰ä¸šåŠ¡ä¸Šä¸‹æ–‡ï¼Œä¹Ÿæ²¡æœ‰ä»£ç ä¸Šä¸‹æ–‡ã€‚å½“ä½ å¯¹ Agent äº§ç”Ÿè¿™ç§å…±æƒ…æ—¶ï¼Œä½ å°±ä¼šåœæ­¢ç›¸ä¿¡å®ƒä»¬æ˜¯æŸç§é­”æ–ã€‚ä½ ä¼šå†™æ›´å¥½çš„ç›®æ ‡ï¼Œæä¾›æ›´å¤šçš„ä¸Šä¸‹æ–‡ï¼Œå¹¶æ·»åŠ æ›´å¤šçš„å·¥å…·ã€‚åœ¨ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå®Œå…¨æŒ‰ç…§ä½ æˆ–äººç±»ä¼šåšçš„é‚£æ ·åšã€‚Agent æ˜¯å¦æ‹¥æœ‰äººç±»éœ€è¦çš„ä¸€åˆ‡ï¼Ÿ

ç°åœ¨ï¼Œä¸è¦ä»å­—é¢ä¸Šç†è§£è¿™ä¸€ç‚¹å¹¶è¿‡åº¦å¤æ‚åŒ–ä¸€åˆ‡ã€‚å…³é”®æ˜¯åŸ¹å…»å¯¹ Agent çš„å…±æƒ…ã€‚å½“ä½ è¿™æ ·åšæ—¶ï¼Œä½ çš„ Agent è®¾è®¡æ€»ä¼šæ”¹è¿›ã€‚

å¸Œæœ›ä½ ç°åœ¨æ˜ç™½ AI Agent ä¸æ˜¯é­”æ³•ã€‚å®ƒä»¬åªæ˜¯å…·æœ‰æ­£ç¡®è®¾ç½®çš„æ™ºèƒ½ç³»ç»Ÿï¼šLLMã€è®°å¿†ã€å·¥å…·ã€ä¸€äº›ç¼–æ’å’Œä¸€ä¸ªç”¨äºè§£å†³å®é™…é—®é¢˜çš„å¥½å¿ƒç†æ¨¡å‹ã€‚ç‚’ä½œæ˜¯åˆç†çš„ï¼Œä½†ç°å®æ¯”å¤§å¤šæ•°äººæ„è¯†åˆ°çš„æ›´ç®€å•å’Œæ›´å®ç”¨ã€‚

å¦‚æœä½ åªå¸¦èµ°ä¸€ä»¶äº‹ï¼Œé‚£å°±è®©å®ƒæˆä¸ºï¼šæ„å»ºæœ‰æ•ˆçš„ AI Agent å…³ä¹æ¸…æ™°æ€§ã€å…±æƒ…å’Œç»“æ„ã€‚åƒå¯¹å¾…æ–°é˜Ÿå‹ä¸€æ ·å¯¹å¾…ä½ çš„ Agentã€‚ç»™å®ƒä¸Šä¸‹æ–‡ã€æ˜ç¡®çš„ç›®æ ‡å’Œæ­£ç¡®çš„å·¥å…·ã€‚ä¸è¦æŒ‡æœ›å®ƒè¯»æ‡‚ä½ çš„å¿ƒæ€ã€‚

è¿™ä¸ªé¢†åŸŸä»ç„¶æœ‰å¾ˆå¤šå‘å±•ã€‚æ–°çš„æ¡†æ¶æ­£åœ¨å‡ºç°ï¼Œæ–°çš„è®°å¿†æ–¹æ³•æ­£åœ¨æµ‹è¯•ä¸­ï¼Œå¹¶ä¸”å¤š Agent åä½œå˜å¾—æ›´å…·åˆ›é€ æ€§ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ç†è§£äº†åŸºç¡€çŸ¥è¯†ï¼Œä½ å·²ç»é¢†å…ˆäºå¤§å¤šæ•°äººã€‚å› æ­¤ï¼Œä¸‹æ¬¡æœ‰äººåœ¨è°ˆè¯ä¸­æåˆ°â€œAI Agentâ€æ—¶ï¼Œä½ ä¸ä»…ä¼šçŸ¥é“å®ƒæ˜¯ä»€ä¹ˆï¼Œè¿˜ä¼šçŸ¥é“å®ƒæ˜¯å¦‚ä½•æ€è€ƒå’Œå·¥ä½œçš„ã€‚

å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œåªéœ€é—®è‡ªå·±ï¼šå¦‚æœæˆ‘æ˜¯ Agentï¼Œæˆ‘éœ€è¦ä»€ä¹ˆæ‰èƒ½æˆåŠŸï¼Ÿè¿™å°±æ˜¯çœŸæ­£çš„é­”æ³•å‘ç”Ÿçš„åœ°æ–¹ã€‚