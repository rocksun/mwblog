# OTel会是你安装的最后一个可观测性 Agent 吗？

![特色图片：OTel会是你安装的最后一个可观测性 Agent 吗？](https://cdn.thenewstack.io/media/2025/03/de25c4fc-otel-last-observability-agent-1024x576.jpg)

有些事情似乎永远不会改变。直到它们真的改变。然后这种改变是突然的，并且是不可逆转的。

在过去的几年里，[可观测性](https://thenewstack.io/observability/)遥测数据的收集经历了如此巨大的变化。

改变的实际上不是我们*如何*收集遥测数据。在过去的十年里，我们使用的技术和我们收集的遥测数据并没有太大的变化。变化更为深刻：它关系到最终用户和可观测性供应商之间的动态。

## 不欢迎专有 Agent

发生巨大变化的是遥测数据收集的期望和规范。如今，用户要求以以下方式执行遥测数据收集：

**与供应商无关**：再见，专有软件开发工具包 (SDK)；再见，专有线路和跟踪上下文传播格式和协议。欢迎开放的、社区驱动的标准。
**可移植**：你现有的设置应该与多个供应商无缝协作。如果你对可观测性工具处理数据的方式不满意，那么切换应该像更改端点配置和身份验证标头一样简单。
**完全在他们的控制之下**：用户希望控制遥测数据的收集方式、收集多少遥测数据，以及保留哪些、不保留哪些，使用[开源库和工具](https://thenewstack.io/open-source/)。

这种新的现实与过去十年形成了鲜明对比。专有分布式追踪（以及在较小程度上，指标和日志收集）是常态。专有 SDK 仅受到少数有影响力的用户的强烈反对。

## 为什么会发生这种变化？

一直以来，人们都希望以独立于供应商、用户可控的方式收集遥测数据。但我们没有现实可行的方法来实现它。

这种早就应该发生的变化的催化剂是 [OpenTelemetry](https://thenewstack.io/opentelemetry-whats-new-with-the-second-biggest-cncf-project/) (OTel)。我们已经可以使用高质量的开源工具来收集指标和日志。OpenTelemetry 为我们提供了分布式追踪的相同能力。三者现在已经完成，我们可以使用开源来收集监测生产系统所需的大部分遥测数据。

今天，我们生活在一个遥测数据收集在很大程度上已经解决的世界中。当然，还有更多的改进空间，尤其是在简化采用和支持新场景方面。还有其他正在进行中的信号，例如生产分析。但基础方面——即 [OpenTelemetry 协议 (OTLP)](https://opentelemetry.io/docs/specs/otlp/)、[Prometheus 指标暴露格式](https://prometheus.io/docs/instrumenting/exposition_formats/) 以及各种开源日志代理支持的格式——将继续存在。

## 接下来是什么：将可观测性工具作为实用程序

遥测数据的收集方式实际上掌握在最终用户手中。遥测数据使用社区驱动的、可移植的格式和协议进行传输。开源和社区已经获胜。

接下来会发生什么？简而言之：从遥测数据中获得更多价值。

### 竞争加剧

供应商现在必须在你开箱即用的遥测数据基础上，能够提供给你的洞察力数量以及成本方面展开激烈竞争。事实上，这两件事是紧密相关的：当我与抱怨他们的可观测性供应商的人交谈时（这是一个庞大的人群），他们抱怨两件事：账单的金额，以及他们从洞察力方面获得的回报太少。

通用标准允许市场纠正这一点：如果切换到不同的供应商只需要更改一些配置，那么就不会再有漫长而昂贵的概念验证来阻碍你。你无需删除当前供应商的代理，并将其替换为其他供应商的代理，然后才能认真尝试。更好的是，你可以将相同的数据发送给两者，并进行同类比较。

你拥有更多的谈判能力。离开更容易，因此你不会有那么多的缺点。

### 市场扩张
由于遥测数据收集在很大程度上已经是一个被解决的问题，因此它不再是新供应商进入市场的障碍。新参与者加入市场并参与竞争变得前所未有的容易。事实上，我几乎每周都能听到新的可观测性供应商的消息。在 11 月举行的 [KubeCon North America 2024](https://thenewstack.io/event/kubecon-cloudnativecon-north-america/) 上，你随便扔一块石头，都能砸到三个可观测性展位。这太棒了！只有通过竞争，你才能期望可观测性的整体用户体验得到改善。而可观测性的体验正处于重大变革的前夜。

## 专有遥测数据收集阻碍了我们所有人

十年前，创办一家可观测性公司需要你投入大量资金来支持不断扩展的技术。这是一个巨大的进入壁垒。用于遥测数据收集的专有技术是一种奇怪的资本支出 (CapEx) 形式，它限制了供应商支持用户需要监控的内容的能力。

随着供应商对专有追踪技术的投资随着时间的推移而贬值，受支持的库可能会变得不那么流行（但永远不会真正消失）。与此同时，需要不断投入更多资金来支持其他技术或现有技术的更新版本。而且它还会加剧：成功的供应商总是需要投入越来越多的资源来加速发展，因为越来越多的潜在客户总是会带来需要紧急支持的新技术。

这实际上是供应商之间一场永无止境、无法取胜的军备竞赛。这在很大程度上解释了为什么几乎所有可观测性供应商现在都在 OpenTelemetry 中与其他供应商合作，这在十年前是不可想象的。我不确定 OpenTelemetry 是否计划以它所做的方式打开可观测性市场，但我很高兴它发生了。

## 护城河的侵蚀

我们正在见证可观测性的复兴，这得益于可观测性遥测数据的收集是一个已解决的问题，并且以开源、社区驱动和可移植的方式实现。

可观测性供应商，包括目前主导市场的供应商，必须更加努力才能赢得或留住你的业务。他们的护城河正在被侵蚀，因为你要求控制遥测数据的收集方式，并且这样做，你可以毫不费力地将遥测数据发送给其他供应商。

好好审视一下你花大价钱购买的工具。如果你发现你一直在忍受不令人满意的用户体验、每美元洞察力比例不佳或账单冲击，那就四处看看。这是一个勇敢的新世界，总有人在构建你真正会喜欢的可观测性工具。

*   要了解更多关于 Kubernetes 和云原生生态系统的信息，请于 4 月 1-4 日在伦敦加入我们，参加 KubeCon + CloudNativeCon Europe。

[YOUTUBE.COM/THENEWSTACK](https://youtube.com/thenewstack?sub_confirmation=1)

技术发展迅速，不要错过任何一集。订阅我们的 YouTube 频道，即可观看我们所有的播客、访谈、演示等。